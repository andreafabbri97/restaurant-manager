const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Dashboard-BDZmLQTl.js","assets/useCurrency-Dy9HUTKp.js","assets/trending-up-D9NRUefx.js","assets/clock-ly1deZ1d.js","assets/arrow-right-V5paVTqH.js","assets/NewOrder-DVnHIEzC.js","assets/message-square-Cb6aOdL9.js","assets/minus-xHeNMtaG.js","assets/plus-BSe4WAEU.js","assets/banknote-CI0Jla8v.js","assets/smartphone-CBfRxozZ.js","assets/Modal-BcapncXo.js","assets/chevron-up-D8HxhV-Z.js","assets/Orders-0Rkz-eGZ.js","assets/history-Wllgle9x.js","assets/chevron-down-59yR-rfE.js","assets/pen-S1S9v03u.js","assets/search-BEZT0SEQ.js","assets/square-Co-mqEZx.js","assets/eye-ptSaAKRx.js","assets/clipboard-list-CBcpx8Y7.js","assets/globe-D_Ku_TKn.js","assets/printer-Cy9xqd8A.js","assets/file-text-B7j51MBG.js","assets/Menu-Bht7cz2X.js","assets/Tables-D0WVhFnV.js","assets/calendar-DpzWaS8l.js","assets/link-2-C-jDUQ2J.js","assets/Inventory--J5HiAwU.js","assets/trending-down-BuAmnAzX.js","assets/dollar-sign-D49Vrwhd.js","assets/Recipes-B1j8Zisw.js","assets/Staff-DDuS0jHK.js","assets/Reports-B_MrceEK.js","assets/percent-D-KfzxUl.js","assets/Smac-CE22ww5w.js","assets/Settings-CX0rAMz0.js","assets/database-ChqO9XUl.js","assets/Users-BJvGtgS-.js","assets/CashRegister-DuFhJ_hH.js","assets/DishCosts-yvxWqhe5.js","assets/GuideFAQ-D2d_8LYW.js"])))=>i.map(i=>d[i]);
function m0(i,n){for(var r=0;r<n.length;r++){const l=n[r];if(typeof l!="string"&&!Array.isArray(l)){for(const o in l)if(o!=="default"&&!(o in i)){const c=Object.getOwnPropertyDescriptor(l,o);c&&Object.defineProperty(i,o,c.get?c:{enumerable:!0,get:()=>l[o]})}}}return Object.freeze(Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}))}(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function r(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(o){if(o.ep)return;o.ep=!0;const c=r(o);fetch(o.href,c)}})();var FT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function p0(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Ku={exports:{}},xr={};var Ym;function g0(){if(Ym)return xr;Ym=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,o,c){var f=null;if(c!==void 0&&(f=""+c),o.key!==void 0&&(f=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:i,type:l,key:f,ref:o!==void 0?o:null,props:c}}return xr.Fragment=n,xr.jsx=r,xr.jsxs=r,xr}var Jm;function y0(){return Jm||(Jm=1,Ku.exports=g0()),Ku.exports}var b=y0(),Yu={exports:{}},oe={};var Qm;function v0(){if(Qm)return oe;Qm=1;var i=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),f=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),w=Symbol.iterator;function E(A){return A===null||typeof A!="object"?null:(A=w&&A[w]||A["@@iterator"],typeof A=="function"?A:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,D={};function L(A,P,Y){this.props=A,this.context=P,this.refs=D,this.updater=Y||O}L.prototype.isReactComponent={},L.prototype.setState=function(A,P){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,P,"setState")},L.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function B(){}B.prototype=L.prototype;function z(A,P,Y){this.props=A,this.context=P,this.refs=D,this.updater=Y||O}var G=z.prototype=new B;G.constructor=z,M(G,L.prototype),G.isPureReactComponent=!0;var W=Array.isArray;function ae(){}var Q={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function Se(A,P,Y){var Z=Y.ref;return{$$typeof:i,type:A,key:P,ref:Z!==void 0?Z:null,props:Y}}function qt(A,P){return Se(A.type,P,A.props)}function an(A){return typeof A=="object"&&A!==null&&A.$$typeof===i}function pt(A){var P={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(Y){return P[Y]})}var la=/\/+/g;function cn(A,P){return typeof A=="object"&&A!==null&&A.key!=null?pt(""+A.key):P.toString(36)}function Qt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ae,ae):(A.status="pending",A.then(function(P){A.status==="pending"&&(A.status="fulfilled",A.value=P)},function(P){A.status==="pending"&&(A.status="rejected",A.reason=P)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function $(A,P,Y,Z,ce){var me=typeof A;(me==="undefined"||me==="boolean")&&(A=null);var Te=!1;if(A===null)Te=!0;else switch(me){case"bigint":case"string":case"number":Te=!0;break;case"object":switch(A.$$typeof){case i:case n:Te=!0;break;case y:return Te=A._init,$(Te(A._payload),P,Y,Z,ce)}}if(Te)return ce=ce(A),Te=Z===""?"."+cn(A,0):Z,W(ce)?(Y="",Te!=null&&(Y=Te.replace(la,"$&/")+"/"),$(ce,P,Y,"",function(ji){return ji})):ce!=null&&(an(ce)&&(ce=qt(ce,Y+(ce.key==null||A&&A.key===ce.key?"":(""+ce.key).replace(la,"$&/")+"/")+Te)),P.push(ce)),1;Te=0;var dt=Z===""?".":Z+":";if(W(A))for(var Ie=0;Ie<A.length;Ie++)Z=A[Ie],me=dt+cn(Z,Ie),Te+=$(Z,P,Y,me,ce);else if(Ie=E(A),typeof Ie=="function")for(A=Ie.call(A),Ie=0;!(Z=A.next()).done;)Z=Z.value,me=dt+cn(Z,Ie++),Te+=$(Z,P,Y,me,ce);else if(me==="object"){if(typeof A.then=="function")return $(Qt(A),P,Y,Z,ce);throw P=String(A),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.")}return Te}function K(A,P,Y){if(A==null)return A;var Z=[],ce=0;return $(A,Z,"","",function(me){return P.call(Y,me,ce++)}),Z}function le(A){if(A._status===-1){var P=A._result;P=P(),P.then(function(Y){(A._status===0||A._status===-1)&&(A._status=1,A._result=Y)},function(Y){(A._status===0||A._status===-1)&&(A._status=2,A._result=Y)}),A._status===-1&&(A._status=0,A._result=P)}if(A._status===1)return A._result.default;throw A._result}var Oe=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var P=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(P))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)},Ne={map:K,forEach:function(A,P,Y){K(A,function(){P.apply(this,arguments)},Y)},count:function(A){var P=0;return K(A,function(){P++}),P},toArray:function(A){return K(A,function(P){return P})||[]},only:function(A){if(!an(A))throw Error("React.Children.only expected to receive a single React element child.");return A}};return oe.Activity=_,oe.Children=Ne,oe.Component=L,oe.Fragment=r,oe.Profiler=o,oe.PureComponent=z,oe.StrictMode=l,oe.Suspense=m,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Q,oe.__COMPILER_RUNTIME={__proto__:null,c:function(A){return Q.H.useMemoCache(A)}},oe.cache=function(A){return function(){return A.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(A,P,Y){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var Z=M({},A.props),ce=A.key;if(P!=null)for(me in P.key!==void 0&&(ce=""+P.key),P)!ue.call(P,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&P.ref===void 0||(Z[me]=P[me]);var me=arguments.length-2;if(me===1)Z.children=Y;else if(1<me){for(var Te=Array(me),dt=0;dt<me;dt++)Te[dt]=arguments[dt+2];Z.children=Te}return Se(A.type,ce,Z)},oe.createContext=function(A){return A={$$typeof:f,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:c,_context:A},A},oe.createElement=function(A,P,Y){var Z,ce={},me=null;if(P!=null)for(Z in P.key!==void 0&&(me=""+P.key),P)ue.call(P,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ce[Z]=P[Z]);var Te=arguments.length-2;if(Te===1)ce.children=Y;else if(1<Te){for(var dt=Array(Te),Ie=0;Ie<Te;Ie++)dt[Ie]=arguments[Ie+2];ce.children=dt}if(A&&A.defaultProps)for(Z in Te=A.defaultProps,Te)ce[Z]===void 0&&(ce[Z]=Te[Z]);return Se(A,me,ce)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(A){return{$$typeof:h,render:A}},oe.isValidElement=an,oe.lazy=function(A){return{$$typeof:y,_payload:{_status:-1,_result:A},_init:le}},oe.memo=function(A,P){return{$$typeof:g,type:A,compare:P===void 0?null:P}},oe.startTransition=function(A){var P=Q.T,Y={};Q.T=Y;try{var Z=A(),ce=Q.S;ce!==null&&ce(Y,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(ae,Oe)}catch(me){Oe(me)}finally{P!==null&&Y.types!==null&&(P.types=Y.types),Q.T=P}},oe.unstable_useCacheRefresh=function(){return Q.H.useCacheRefresh()},oe.use=function(A){return Q.H.use(A)},oe.useActionState=function(A,P,Y){return Q.H.useActionState(A,P,Y)},oe.useCallback=function(A,P){return Q.H.useCallback(A,P)},oe.useContext=function(A){return Q.H.useContext(A)},oe.useDebugValue=function(){},oe.useDeferredValue=function(A,P){return Q.H.useDeferredValue(A,P)},oe.useEffect=function(A,P){return Q.H.useEffect(A,P)},oe.useEffectEvent=function(A){return Q.H.useEffectEvent(A)},oe.useId=function(){return Q.H.useId()},oe.useImperativeHandle=function(A,P,Y){return Q.H.useImperativeHandle(A,P,Y)},oe.useInsertionEffect=function(A,P){return Q.H.useInsertionEffect(A,P)},oe.useLayoutEffect=function(A,P){return Q.H.useLayoutEffect(A,P)},oe.useMemo=function(A,P){return Q.H.useMemo(A,P)},oe.useOptimistic=function(A,P){return Q.H.useOptimistic(A,P)},oe.useReducer=function(A,P,Y){return Q.H.useReducer(A,P,Y)},oe.useRef=function(A){return Q.H.useRef(A)},oe.useState=function(A){return Q.H.useState(A)},oe.useSyncExternalStore=function(A,P,Y){return Q.H.useSyncExternalStore(A,P,Y)},oe.useTransition=function(){return Q.H.useTransition()},oe.version="19.2.3",oe}var Xm;function Cc(){return Xm||(Xm=1,Yu.exports=v0()),Yu.exports}var T=Cc();const _0=p0(T),e2=m0({__proto__:null,default:_0},[T]);var Ju={exports:{}},Ar={},Qu={exports:{}},Xu={};var Zm;function b0(){return Zm||(Zm=1,(function(i){function n($,K){var le=$.length;$.push(K);e:for(;0<le;){var Oe=le-1>>>1,Ne=$[Oe];if(0<o(Ne,K))$[Oe]=K,$[le]=Ne,le=Oe;else break e}}function r($){return $.length===0?null:$[0]}function l($){if($.length===0)return null;var K=$[0],le=$.pop();if(le!==K){$[0]=le;e:for(var Oe=0,Ne=$.length,A=Ne>>>1;Oe<A;){var P=2*(Oe+1)-1,Y=$[P],Z=P+1,ce=$[Z];if(0>o(Y,le))Z<Ne&&0>o(ce,Y)?($[Oe]=ce,$[Z]=le,Oe=Z):($[Oe]=Y,$[P]=le,Oe=P);else if(Z<Ne&&0>o(ce,le))$[Oe]=ce,$[Z]=le,Oe=Z;else break e}}return K}function o($,K){var le=$.sortIndex-K.sortIndex;return le!==0?le:$.id-K.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,h=f.now();i.unstable_now=function(){return f.now()-h}}var m=[],g=[],y=1,_=null,w=3,E=!1,O=!1,M=!1,D=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function G($){for(var K=r(g);K!==null;){if(K.callback===null)l(g);else if(K.startTime<=$)l(g),K.sortIndex=K.expirationTime,n(m,K);else break;K=r(g)}}function W($){if(M=!1,G($),!O)if(r(m)!==null)O=!0,ae||(ae=!0,pt());else{var K=r(g);K!==null&&Qt(W,K.startTime-$)}}var ae=!1,Q=-1,ue=5,Se=-1;function qt(){return D?!0:!(i.unstable_now()-Se<ue)}function an(){if(D=!1,ae){var $=i.unstable_now();Se=$;var K=!0;try{e:{O=!1,M&&(M=!1,B(Q),Q=-1),E=!0;var le=w;try{t:{for(G($),_=r(m);_!==null&&!(_.expirationTime>$&&qt());){var Oe=_.callback;if(typeof Oe=="function"){_.callback=null,w=_.priorityLevel;var Ne=Oe(_.expirationTime<=$);if($=i.unstable_now(),typeof Ne=="function"){_.callback=Ne,G($),K=!0;break t}_===r(m)&&l(m),G($)}else l(m);_=r(m)}if(_!==null)K=!0;else{var A=r(g);A!==null&&Qt(W,A.startTime-$),K=!1}}break e}finally{_=null,w=le,E=!1}K=void 0}}finally{K?pt():ae=!1}}}var pt;if(typeof z=="function")pt=function(){z(an)};else if(typeof MessageChannel<"u"){var la=new MessageChannel,cn=la.port2;la.port1.onmessage=an,pt=function(){cn.postMessage(null)}}else pt=function(){L(an,0)};function Qt($,K){Q=L(function(){$(i.unstable_now())},K)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function($){$.callback=null},i.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<$?Math.floor(1e3/$):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_next=function($){switch(w){case 1:case 2:case 3:var K=3;break;default:K=w}var le=w;w=K;try{return $()}finally{w=le}},i.unstable_requestPaint=function(){D=!0},i.unstable_runWithPriority=function($,K){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var le=w;w=$;try{return K()}finally{w=le}},i.unstable_scheduleCallback=function($,K,le){var Oe=i.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Oe+le:Oe):le=Oe,$){case 1:var Ne=-1;break;case 2:Ne=250;break;case 5:Ne=1073741823;break;case 4:Ne=1e4;break;default:Ne=5e3}return Ne=le+Ne,$={id:y++,callback:K,priorityLevel:$,startTime:le,expirationTime:Ne,sortIndex:-1},le>Oe?($.sortIndex=le,n(g,$),r(m)===null&&$===r(g)&&(M?(B(Q),Q=-1):M=!0,Qt(W,le-Oe))):($.sortIndex=Ne,n(m,$),O||E||(O=!0,ae||(ae=!0,pt()))),$},i.unstable_shouldYield=qt,i.unstable_wrapCallback=function($){var K=w;return function(){var le=w;w=K;try{return $.apply(this,arguments)}finally{w=le}}}})(Xu)),Xu}var Wm;function w0(){return Wm||(Wm=1,Qu.exports=b0()),Qu.exports}var Zu={exports:{}},ut={};var Fm;function S0(){if(Fm)return ut;Fm=1;var i=Cc();function n(m){var g="https://react.dev/errors/"+m;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,g,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:_==null?null:""+_,children:m,containerInfo:g,implementation:y}}var f=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,g){if(m==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return ut.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,ut.createPortal=function(m,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return c(m,g,null,y)},ut.flushSync=function(m){var g=f.T,y=l.p;try{if(f.T=null,l.p=2,m)return m()}finally{f.T=g,l.p=y,l.d.f()}},ut.preconnect=function(m,g){typeof m=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,l.d.C(m,g))},ut.prefetchDNS=function(m){typeof m=="string"&&l.d.D(m)},ut.preinit=function(m,g){if(typeof m=="string"&&g&&typeof g.as=="string"){var y=g.as,_=h(y,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,E=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?l.d.S(m,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:w,fetchPriority:E}):y==="script"&&l.d.X(m,{crossOrigin:_,integrity:w,fetchPriority:E,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},ut.preinitModule=function(m,g){if(typeof m=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);l.d.M(m,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&l.d.M(m)},ut.preload=function(m,g){if(typeof m=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,_=h(y,g.crossOrigin);l.d.L(m,y,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},ut.preloadModule=function(m,g){if(typeof m=="string")if(g){var y=h(g.as,g.crossOrigin);l.d.m(m,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else l.d.m(m)},ut.requestFormReset=function(m){l.d.r(m)},ut.unstable_batchedUpdates=function(m,g){return m(g)},ut.useFormState=function(m,g,y){return f.H.useFormState(m,g,y)},ut.useFormStatus=function(){return f.H.useHostTransitionStatus()},ut.version="19.2.3",ut}var ep;function E0(){if(ep)return Zu.exports;ep=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Zu.exports=S0(),Zu.exports}var tp;function T0(){if(tp)return Ar;tp=1;var i=w0(),n=Cc(),r=E0();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function f(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function m(e){if(c(e)!==e)throw Error(l(188))}function g(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,s=t;;){var u=a.return;if(u===null)break;var d=u.alternate;if(d===null){if(s=u.return,s!==null){a=s;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===a)return m(u),e;if(d===s)return m(u),t;d=d.sibling}throw Error(l(188))}if(a.return!==s.return)a=u,s=d;else{for(var p=!1,v=u.child;v;){if(v===a){p=!0,a=u,s=d;break}if(v===s){p=!0,s=u,a=d;break}v=v.sibling}if(!p){for(v=d.child;v;){if(v===a){p=!0,a=d,s=u;break}if(v===s){p=!0,s=d,a=u;break}v=v.sibling}if(!p)throw Error(l(189))}}if(a.alternate!==s)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function y(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=y(e),t!==null)return t;e=e.sibling}return null}var _=Object.assign,w=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),M=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),z=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ae=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Se=Symbol.for("react.activity"),qt=Symbol.for("react.memo_cache_sentinel"),an=Symbol.iterator;function pt(e){return e===null||typeof e!="object"?null:(e=an&&e[an]||e["@@iterator"],typeof e=="function"?e:null)}var la=Symbol.for("react.client.reference");function cn(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===la?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case M:return"Fragment";case L:return"Profiler";case D:return"StrictMode";case W:return"Suspense";case ae:return"SuspenseList";case Se:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case O:return"Portal";case z:return e.displayName||"Context";case B:return(e._context.displayName||"Context")+".Consumer";case G:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Q:return t=e.displayName||null,t!==null?t:cn(e.type)||"Memo";case ue:t=e._payload,e=e._init;try{return cn(e(t))}catch{}}return null}var Qt=Array.isArray,$=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Oe=[],Ne=-1;function A(e){return{current:e}}function P(e){0>Ne||(e.current=Oe[Ne],Oe[Ne]=null,Ne--)}function Y(e,t){Ne++,Oe[Ne]=e.current,e.current=t}var Z=A(null),ce=A(null),me=A(null),Te=A(null);function dt(e,t){switch(Y(me,t),Y(ce,e),Y(Z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?gm(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=gm(t),e=ym(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}P(Z),Y(Z,e)}function Ie(){P(Z),P(ce),P(me)}function ji(e){e.memoizedState!==null&&Y(Te,e);var t=Z.current,a=ym(t,e.type);t!==a&&(Y(ce,e),Y(Z,a))}function Pr(e){ce.current===e&&(P(Z),P(ce)),Te.current===e&&(P(Te),wr._currentValue=le)}var Ol,Gc;function oa(e){if(Ol===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Ol=t&&t[1]||"",Gc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ol+e+Gc}var Cl=!1;function Rl(e,t){if(!e||Cl)return"";Cl=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(U){var j=U}Reflect.construct(e,[],I)}else{try{I.call()}catch(U){j=U}e.call(I.prototype)}}else{try{throw Error()}catch(U){j=U}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(U){if(U&&j&&typeof U.stack=="string")return[U.stack,j.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=s.DetermineComponentFrameRoot(),p=d[0],v=d[1];if(p&&v){var S=p.split(`
`),k=v.split(`
`);for(u=s=0;s<S.length&&!S[s].includes("DetermineComponentFrameRoot");)s++;for(;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;if(s===S.length||u===k.length)for(s=S.length-1,u=k.length-1;1<=s&&0<=u&&S[s]!==k[u];)u--;for(;1<=s&&0<=u;s--,u--)if(S[s]!==k[u]){if(s!==1||u!==1)do if(s--,u--,0>u||S[s]!==k[u]){var q=`
`+S[s].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=s&&0<=u);break}}}finally{Cl=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?oa(a):""}function Gg(e,t){switch(e.tag){case 26:case 27:case 5:return oa(e.type);case 16:return oa("Lazy");case 13:return e.child!==t&&t!==null?oa("Suspense Fallback"):oa("Suspense");case 19:return oa("SuspenseList");case 0:case 15:return Rl(e.type,!1);case 11:return Rl(e.type.render,!1);case 1:return Rl(e.type,!0);case 31:return oa("Activity");default:return""}}function Kc(e){try{var t="",a=null;do t+=Gg(e,a),a=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var kl=Object.prototype.hasOwnProperty,Nl=i.unstable_scheduleCallback,jl=i.unstable_cancelCallback,Kg=i.unstable_shouldYield,Yg=i.unstable_requestPaint,Tt=i.unstable_now,Jg=i.unstable_getCurrentPriorityLevel,Yc=i.unstable_ImmediatePriority,Jc=i.unstable_UserBlockingPriority,Vr=i.unstable_NormalPriority,Qg=i.unstable_LowPriority,Qc=i.unstable_IdlePriority,Xg=i.log,Zg=i.unstable_setDisableYieldValue,Di=null,xt=null;function Dn(e){if(typeof Xg=="function"&&Zg(e),xt&&typeof xt.setStrictMode=="function")try{xt.setStrictMode(Di,e)}catch{}}var At=Math.clz32?Math.clz32:ey,Wg=Math.log,Fg=Math.LN2;function ey(e){return e>>>=0,e===0?32:31-(Wg(e)/Fg|0)|0}var Gr=256,Kr=262144,Yr=4194304;function ua(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Jr(e,t,a){var s=e.pendingLanes;if(s===0)return 0;var u=0,d=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var v=s&134217727;return v!==0?(s=v&~d,s!==0?u=ua(s):(p&=v,p!==0?u=ua(p):a||(a=v&~e,a!==0&&(u=ua(a))))):(v=s&~d,v!==0?u=ua(v):p!==0?u=ua(p):a||(a=s&~e,a!==0&&(u=ua(a)))),u===0?0:t!==0&&t!==u&&(t&d)===0&&(d=u&-u,a=t&-t,d>=a||d===32&&(a&4194048)!==0)?t:u}function Mi(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function ty(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xc(){var e=Yr;return Yr<<=1,(Yr&62914560)===0&&(Yr=4194304),e}function Dl(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ui(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ny(e,t,a,s,u,d){var p=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,S=e.expirationTimes,k=e.hiddenUpdates;for(a=p&~a;0<a;){var q=31-At(a),I=1<<q;v[q]=0,S[q]=-1;var j=k[q];if(j!==null)for(k[q]=null,q=0;q<j.length;q++){var U=j[q];U!==null&&(U.lane&=-536870913)}a&=~I}s!==0&&Zc(e,s,0),d!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=d&~(p&~t))}function Zc(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-At(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|a&261930}function Wc(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var s=31-At(a),u=1<<s;u&t|e[s]&t&&(e[s]|=t),a&=~u}}function Fc(e,t){var a=t&-t;return a=(a&42)!==0?1:Ml(a),(a&(e.suspendedLanes|t))!==0?0:a}function Ml(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ul(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ed(){var e=K.p;return e!==0?e:(e=window.event,e===void 0?32:$m(e.type))}function td(e,t){var a=K.p;try{return K.p=e,t()}finally{K.p=a}}var Mn=Math.random().toString(36).slice(2),nt="__reactFiber$"+Mn,gt="__reactProps$"+Mn,Ma="__reactContainer$"+Mn,zl="__reactEvents$"+Mn,ay="__reactListeners$"+Mn,iy="__reactHandles$"+Mn,nd="__reactResources$"+Mn,zi="__reactMarker$"+Mn;function Ll(e){delete e[nt],delete e[gt],delete e[zl],delete e[ay],delete e[iy]}function Ua(e){var t=e[nt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ma]||a[nt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Tm(e);e!==null;){if(a=e[nt])return a;e=Tm(e)}return t}e=a,a=e.parentNode}return null}function za(e){if(e=e[nt]||e[Ma]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Li(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function La(e){var t=e[nd];return t||(t=e[nd]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function et(e){e[zi]=!0}var ad=new Set,id={};function ca(e,t){qa(e,t),qa(e+"Capture",t)}function qa(e,t){for(id[e]=t,e=0;e<t.length;e++)ad.add(t[e])}var ry=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rd={},sd={};function sy(e){return kl.call(sd,e)?!0:kl.call(rd,e)?!1:ry.test(e)?sd[e]=!0:(rd[e]=!0,!1)}function Qr(e,t,a){if(sy(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function Xr(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function dn(e,t,a,s){if(s===null)e.removeAttribute(a);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+s)}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ld(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ly(e,t,a){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){a=""+p,d.call(this,p)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(p){a=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ql(e){if(!e._valueTracker){var t=ld(e)?"checked":"value";e._valueTracker=ly(e,t,""+e[t])}}function od(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),s="";return e&&(s=ld(e)?e.checked?"true":"false":e.value),e=s,e!==a?(t.setValue(e),!0):!1}function Zr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var oy=/[\n"\\]/g;function $t(e){return e.replace(oy,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Bl(e,t,a,s,u,d,p,v){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),t!=null?p==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Bt(t)):e.value!==""+Bt(t)&&(e.value=""+Bt(t)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),t!=null?$l(e,p,Bt(t)):a!=null?$l(e,p,Bt(a)):s!=null&&e.removeAttribute("value"),u==null&&d!=null&&(e.defaultChecked=!!d),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Bt(v):e.removeAttribute("name")}function ud(e,t,a,s,u,d,p,v){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),t!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||t!=null)){ql(e);return}a=a!=null?""+Bt(a):"",t=t!=null?""+Bt(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}s=s??u,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=v?e.checked:!!s,e.defaultChecked=!!s,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),ql(e)}function $l(e,t,a){t==="number"&&Zr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ba(e,t,a,s){if(e=e.options,t){t={};for(var u=0;u<a.length;u++)t["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=t.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&s&&(e[a].defaultSelected=!0)}else{for(a=""+Bt(a),t=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,s&&(e[u].defaultSelected=!0);return}t!==null||e[u].disabled||(t=e[u])}t!==null&&(t.selected=!0)}}function cd(e,t,a){if(t!=null&&(t=""+Bt(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Bt(a):""}function dd(e,t,a,s){if(t==null){if(s!=null){if(a!=null)throw Error(l(92));if(Qt(s)){if(1<s.length)throw Error(l(93));s=s[0]}a=s}a==null&&(a=""),t=a}a=Bt(t),e.defaultValue=a,s=e.textContent,s===a&&s!==""&&s!==null&&(e.value=s),ql(e)}function $a(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var uy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function fd(e,t,a){var s=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,a):typeof a!="number"||a===0||uy.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function hd(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var s in a)!a.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var u in t)s=t[u],t.hasOwnProperty(u)&&a[u]!==s&&fd(e,u,s)}else for(var d in t)t.hasOwnProperty(d)&&fd(e,d,t[d])}function Hl(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),dy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Wr(e){return dy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function fn(){}var Il=null;function Pl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ha=null,Ia=null;function md(e){var t=za(e);if(t&&(e=t.stateNode)){var a=e[gt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Bl(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+$t(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var s=a[t];if(s!==e&&s.form===e.form){var u=s[gt]||null;if(!u)throw Error(l(90));Bl(s,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(t=0;t<a.length;t++)s=a[t],s.form===e.form&&od(s)}break e;case"textarea":cd(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Ba(e,!!a.multiple,t,!1)}}}var Vl=!1;function pd(e,t,a){if(Vl)return e(t,a);Vl=!0;try{var s=e(t);return s}finally{if(Vl=!1,(Ha!==null||Ia!==null)&&(Bs(),Ha&&(t=Ha,e=Ia,Ia=Ha=null,md(t),e)))for(t=0;t<e.length;t++)md(e[t])}}function qi(e,t){var a=e.stateNode;if(a===null)return null;var s=a[gt]||null;if(s===null)return null;a=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gl=!1;if(hn)try{var Bi={};Object.defineProperty(Bi,"passive",{get:function(){Gl=!0}}),window.addEventListener("test",Bi,Bi),window.removeEventListener("test",Bi,Bi)}catch{Gl=!1}var Un=null,Kl=null,Fr=null;function gd(){if(Fr)return Fr;var e,t=Kl,a=t.length,s,u="value"in Un?Un.value:Un.textContent,d=u.length;for(e=0;e<a&&t[e]===u[e];e++);var p=a-e;for(s=1;s<=p&&t[a-s]===u[d-s];s++);return Fr=u.slice(e,1<s?1-s:void 0)}function es(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ts(){return!0}function yd(){return!1}function yt(e){function t(a,s,u,d,p){this._reactName=a,this._targetInst=u,this.type=s,this.nativeEvent=d,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(d):d[v]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ts:yd,this.isPropagationStopped=yd,this}return _(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),t}var da={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ns=yt(da),$i=_({},da,{view:0,detail:0}),fy=yt($i),Yl,Jl,Hi,as=_({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hi&&(Hi&&e.type==="mousemove"?(Yl=e.screenX-Hi.screenX,Jl=e.screenY-Hi.screenY):Jl=Yl=0,Hi=e),Yl)},movementY:function(e){return"movementY"in e?e.movementY:Jl}}),vd=yt(as),hy=_({},as,{dataTransfer:0}),my=yt(hy),py=_({},$i,{relatedTarget:0}),Ql=yt(py),gy=_({},da,{animationName:0,elapsedTime:0,pseudoElement:0}),yy=yt(gy),vy=_({},da,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_y=yt(vy),by=_({},da,{data:0}),_d=yt(by),wy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ey={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ty(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ey[e])?!!t[e]:!1}function Xl(){return Ty}var xy=_({},$i,{key:function(e){if(e.key){var t=wy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=es(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xl,charCode:function(e){return e.type==="keypress"?es(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?es(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ay=yt(xy),Oy=_({},as,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bd=yt(Oy),Cy=_({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xl}),Ry=yt(Cy),ky=_({},da,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ny=yt(ky),jy=_({},as,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dy=yt(jy),My=_({},da,{newState:0,oldState:0}),Uy=yt(My),zy=[9,13,27,32],Zl=hn&&"CompositionEvent"in window,Ii=null;hn&&"documentMode"in document&&(Ii=document.documentMode);var Ly=hn&&"TextEvent"in window&&!Ii,wd=hn&&(!Zl||Ii&&8<Ii&&11>=Ii),Sd=" ",Ed=!1;function Td(e,t){switch(e){case"keyup":return zy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Pa=!1;function qy(e,t){switch(e){case"compositionend":return xd(t);case"keypress":return t.which!==32?null:(Ed=!0,Sd);case"textInput":return e=t.data,e===Sd&&Ed?null:e;default:return null}}function By(e,t){if(Pa)return e==="compositionend"||!Zl&&Td(e,t)?(e=gd(),Fr=Kl=Un=null,Pa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return wd&&t.locale!=="ko"?null:t.data;default:return null}}var $y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ad(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!$y[e.type]:t==="textarea"}function Od(e,t,a,s){Ha?Ia?Ia.push(s):Ia=[s]:Ha=s,t=Ks(t,"onChange"),0<t.length&&(a=new ns("onChange","change",null,a,s),e.push({event:a,listeners:t}))}var Pi=null,Vi=null;function Hy(e){cm(e,0)}function is(e){var t=Li(e);if(od(t))return e}function Cd(e,t){if(e==="change")return t}var Rd=!1;if(hn){var Wl;if(hn){var Fl="oninput"in document;if(!Fl){var kd=document.createElement("div");kd.setAttribute("oninput","return;"),Fl=typeof kd.oninput=="function"}Wl=Fl}else Wl=!1;Rd=Wl&&(!document.documentMode||9<document.documentMode)}function Nd(){Pi&&(Pi.detachEvent("onpropertychange",jd),Vi=Pi=null)}function jd(e){if(e.propertyName==="value"&&is(Vi)){var t=[];Od(t,Vi,e,Pl(e)),pd(Hy,t)}}function Iy(e,t,a){e==="focusin"?(Nd(),Pi=t,Vi=a,Pi.attachEvent("onpropertychange",jd)):e==="focusout"&&Nd()}function Py(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return is(Vi)}function Vy(e,t){if(e==="click")return is(t)}function Gy(e,t){if(e==="input"||e==="change")return is(t)}function Ky(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ot=typeof Object.is=="function"?Object.is:Ky;function Gi(e,t){if(Ot(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),s=Object.keys(t);if(a.length!==s.length)return!1;for(s=0;s<a.length;s++){var u=a[s];if(!kl.call(t,u)||!Ot(e[u],t[u]))return!1}return!0}function Dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Md(e,t){var a=Dd(e);e=0;for(var s;a;){if(a.nodeType===3){if(s=e+a.textContent.length,e<=t&&s>=t)return{node:a,offset:t-e};e=s}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Dd(a)}}function Ud(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Ud(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function zd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Zr(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Zr(e.document)}return t}function eo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Yy=hn&&"documentMode"in document&&11>=document.documentMode,Va=null,to=null,Ki=null,no=!1;function Ld(e,t,a){var s=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;no||Va==null||Va!==Zr(s)||(s=Va,"selectionStart"in s&&eo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Ki&&Gi(Ki,s)||(Ki=s,s=Ks(to,"onSelect"),0<s.length&&(t=new ns("onSelect","select",null,t,a),e.push({event:t,listeners:s}),t.target=Va)))}function fa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ga={animationend:fa("Animation","AnimationEnd"),animationiteration:fa("Animation","AnimationIteration"),animationstart:fa("Animation","AnimationStart"),transitionrun:fa("Transition","TransitionRun"),transitionstart:fa("Transition","TransitionStart"),transitioncancel:fa("Transition","TransitionCancel"),transitionend:fa("Transition","TransitionEnd")},ao={},qd={};hn&&(qd=document.createElement("div").style,"AnimationEvent"in window||(delete Ga.animationend.animation,delete Ga.animationiteration.animation,delete Ga.animationstart.animation),"TransitionEvent"in window||delete Ga.transitionend.transition);function ha(e){if(ao[e])return ao[e];if(!Ga[e])return e;var t=Ga[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in qd)return ao[e]=t[a];return e}var Bd=ha("animationend"),$d=ha("animationiteration"),Hd=ha("animationstart"),Jy=ha("transitionrun"),Qy=ha("transitionstart"),Xy=ha("transitioncancel"),Id=ha("transitionend"),Pd=new Map,io="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");io.push("scrollEnd");function Xt(e,t){Pd.set(e,t),ca(t,[e])}var rs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ht=[],Ka=0,ro=0;function ss(){for(var e=Ka,t=ro=Ka=0;t<e;){var a=Ht[t];Ht[t++]=null;var s=Ht[t];Ht[t++]=null;var u=Ht[t];Ht[t++]=null;var d=Ht[t];if(Ht[t++]=null,s!==null&&u!==null){var p=s.pending;p===null?u.next=u:(u.next=p.next,p.next=u),s.pending=u}d!==0&&Vd(a,u,d)}}function ls(e,t,a,s){Ht[Ka++]=e,Ht[Ka++]=t,Ht[Ka++]=a,Ht[Ka++]=s,ro|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function so(e,t,a,s){return ls(e,t,a,s),os(e)}function ma(e,t){return ls(e,null,null,t),os(e)}function Vd(e,t,a){e.lanes|=a;var s=e.alternate;s!==null&&(s.lanes|=a);for(var u=!1,d=e.return;d!==null;)d.childLanes|=a,s=d.alternate,s!==null&&(s.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(u=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,u&&t!==null&&(u=31-At(a),e=d.hiddenUpdates,s=e[u],s===null?e[u]=[t]:s.push(t),t.lane=a|536870912),d):null}function os(e){if(50<mr)throw mr=0,gu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ya={};function Zy(e,t,a,s){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,t,a,s){return new Zy(e,t,a,s)}function lo(e){return e=e.prototype,!(!e||!e.isReactComponent)}function mn(e,t){var a=e.alternate;return a===null?(a=Ct(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Gd(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function us(e,t,a,s,u,d){var p=0;if(s=e,typeof e=="function")lo(e)&&(p=1);else if(typeof e=="string")p=n0(e,a,Z.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Se:return e=Ct(31,a,t,u),e.elementType=Se,e.lanes=d,e;case M:return pa(a.children,u,d,t);case D:p=8,u|=24;break;case L:return e=Ct(12,a,t,u|2),e.elementType=L,e.lanes=d,e;case W:return e=Ct(13,a,t,u),e.elementType=W,e.lanes=d,e;case ae:return e=Ct(19,a,t,u),e.elementType=ae,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:p=10;break e;case B:p=9;break e;case G:p=11;break e;case Q:p=14;break e;case ue:p=16,s=null;break e}p=29,a=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=Ct(p,a,t,u),t.elementType=e,t.type=s,t.lanes=d,t}function pa(e,t,a,s){return e=Ct(7,e,s,t),e.lanes=a,e}function oo(e,t,a){return e=Ct(6,e,null,t),e.lanes=a,e}function Kd(e){var t=Ct(18,null,null,0);return t.stateNode=e,t}function uo(e,t,a){return t=Ct(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Yd=new WeakMap;function It(e,t){if(typeof e=="object"&&e!==null){var a=Yd.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Kc(t)},Yd.set(e,t),t)}return{value:e,source:t,stack:Kc(t)}}var Ja=[],Qa=0,cs=null,Yi=0,Pt=[],Vt=0,zn=null,rn=1,sn="";function pn(e,t){Ja[Qa++]=Yi,Ja[Qa++]=cs,cs=e,Yi=t}function Jd(e,t,a){Pt[Vt++]=rn,Pt[Vt++]=sn,Pt[Vt++]=zn,zn=e;var s=rn;e=sn;var u=32-At(s)-1;s&=~(1<<u),a+=1;var d=32-At(t)+u;if(30<d){var p=u-u%5;d=(s&(1<<p)-1).toString(32),s>>=p,u-=p,rn=1<<32-At(t)+u|a<<u|s,sn=d+e}else rn=1<<d|a<<u|s,sn=e}function co(e){e.return!==null&&(pn(e,1),Jd(e,1,0))}function fo(e){for(;e===cs;)cs=Ja[--Qa],Ja[Qa]=null,Yi=Ja[--Qa],Ja[Qa]=null;for(;e===zn;)zn=Pt[--Vt],Pt[Vt]=null,sn=Pt[--Vt],Pt[Vt]=null,rn=Pt[--Vt],Pt[Vt]=null}function Qd(e,t){Pt[Vt++]=rn,Pt[Vt++]=sn,Pt[Vt++]=zn,rn=t.id,sn=t.overflow,zn=e}var at=null,Me=null,_e=!1,Ln=null,Gt=!1,ho=Error(l(519));function qn(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ji(It(t,e)),ho}function Xd(e){var t=e.stateNode,a=e.type,s=e.memoizedProps;switch(t[nt]=e,t[gt]=s,a){case"dialog":ge("cancel",t),ge("close",t);break;case"iframe":case"object":case"embed":ge("load",t);break;case"video":case"audio":for(a=0;a<gr.length;a++)ge(gr[a],t);break;case"source":ge("error",t);break;case"img":case"image":case"link":ge("error",t),ge("load",t);break;case"details":ge("toggle",t);break;case"input":ge("invalid",t),ud(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":ge("invalid",t);break;case"textarea":ge("invalid",t),dd(t,s.value,s.defaultValue,s.children)}a=s.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||s.suppressHydrationWarning===!0||mm(t.textContent,a)?(s.popover!=null&&(ge("beforetoggle",t),ge("toggle",t)),s.onScroll!=null&&ge("scroll",t),s.onScrollEnd!=null&&ge("scrollend",t),s.onClick!=null&&(t.onclick=fn),t=!0):t=!1,t||qn(e,!0)}function Zd(e){for(at=e.return;at;)switch(at.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:at=at.return}}function Xa(e){if(e!==at)return!1;if(!_e)return Zd(e),_e=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Nu(e.type,e.memoizedProps)),a=!a),a&&Me&&qn(e),Zd(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Em(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));Me=Em(e)}else t===27?(t=Me,Wn(e.type)?(e=zu,zu=null,Me=e):Me=t):Me=at?Yt(e.stateNode.nextSibling):null;return!0}function ga(){Me=at=null,_e=!1}function mo(){var e=Ln;return e!==null&&(wt===null?wt=e:wt.push.apply(wt,e),Ln=null),e}function Ji(e){Ln===null?Ln=[e]:Ln.push(e)}var po=A(null),ya=null,gn=null;function Bn(e,t,a){Y(po,t._currentValue),t._currentValue=a}function yn(e){e._currentValue=po.current,P(po)}function go(e,t,a){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===a)break;e=e.return}}function yo(e,t,a,s){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var d=u.dependencies;if(d!==null){var p=u.child;d=d.firstContext;e:for(;d!==null;){var v=d;d=u;for(var S=0;S<t.length;S++)if(v.context===t[S]){d.lanes|=a,v=d.alternate,v!==null&&(v.lanes|=a),go(d.return,a,e),s||(p=null);break e}d=v.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(l(341));p.lanes|=a,d=p.alternate,d!==null&&(d.lanes|=a),go(p,a,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function Za(e,t,a,s){e=null;for(var u=t,d=!1;u!==null;){if(!d){if((u.flags&524288)!==0)d=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(l(387));if(p=p.memoizedProps,p!==null){var v=u.type;Ot(u.pendingProps.value,p.value)||(e!==null?e.push(v):e=[v])}}else if(u===Te.current){if(p=u.alternate,p===null)throw Error(l(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(wr):e=[wr])}u=u.return}e!==null&&yo(t,e,a,s),t.flags|=262144}function ds(e){for(e=e.firstContext;e!==null;){if(!Ot(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function va(e){ya=e,gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function it(e){return Wd(ya,e)}function fs(e,t){return ya===null&&va(e),Wd(e,t)}function Wd(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},gn===null){if(e===null)throw Error(l(308));gn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else gn=gn.next=t;return a}var Wy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Fy=i.unstable_scheduleCallback,ev=i.unstable_NormalPriority,Ge={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vo(){return{controller:new Wy,data:new Map,refCount:0}}function Qi(e){e.refCount--,e.refCount===0&&Fy(ev,function(){e.controller.abort()})}var Xi=null,_o=0,Wa=0,Fa=null;function tv(e,t){if(Xi===null){var a=Xi=[];_o=0,Wa=Su(),Fa={status:"pending",value:void 0,then:function(s){a.push(s)}}}return _o++,t.then(Fd,Fd),t}function Fd(){if(--_o===0&&Xi!==null){Fa!==null&&(Fa.status="fulfilled");var e=Xi;Xi=null,Wa=0,Fa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function nv(e,t){var a=[],s={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var u=0;u<a.length;u++)(0,a[u])(t)},function(u){for(s.status="rejected",s.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),s}var ef=$.S;$.S=function(e,t){qh=Tt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&tv(e,t),ef!==null&&ef(e,t)};var _a=A(null);function bo(){var e=_a.current;return e!==null?e:je.pooledCache}function hs(e,t){t===null?Y(_a,_a.current):Y(_a,t.pool)}function tf(){var e=bo();return e===null?null:{parent:Ge._currentValue,pool:e}}var ei=Error(l(460)),wo=Error(l(474)),ms=Error(l(542)),ps={then:function(){}};function nf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function af(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(fn,fn),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sf(e),e;default:if(typeof t.status=="string")t.then(fn,fn);else{if(e=je,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var u=t;u.status="fulfilled",u.value=s}},function(s){if(t.status==="pending"){var u=t;u.status="rejected",u.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,sf(e),e}throw wa=t,ei}}function ba(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(wa=a,ei):a}}var wa=null;function rf(){if(wa===null)throw Error(l(459));var e=wa;return wa=null,e}function sf(e){if(e===ei||e===ms)throw Error(l(483))}var ti=null,Zi=0;function gs(e){var t=Zi;return Zi+=1,ti===null&&(ti=[]),af(ti,e,t)}function Wi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function ys(e,t){throw t.$$typeof===w?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function lf(e){function t(C,x){if(e){var R=C.deletions;R===null?(C.deletions=[x],C.flags|=16):R.push(x)}}function a(C,x){if(!e)return null;for(;x!==null;)t(C,x),x=x.sibling;return null}function s(C){for(var x=new Map;C!==null;)C.key!==null?x.set(C.key,C):x.set(C.index,C),C=C.sibling;return x}function u(C,x){return C=mn(C,x),C.index=0,C.sibling=null,C}function d(C,x,R){return C.index=R,e?(R=C.alternate,R!==null?(R=R.index,R<x?(C.flags|=67108866,x):R):(C.flags|=67108866,x)):(C.flags|=1048576,x)}function p(C){return e&&C.alternate===null&&(C.flags|=67108866),C}function v(C,x,R,H){return x===null||x.tag!==6?(x=oo(R,C.mode,H),x.return=C,x):(x=u(x,R),x.return=C,x)}function S(C,x,R,H){var ne=R.type;return ne===M?q(C,x,R.props.children,H,R.key):x!==null&&(x.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ue&&ba(ne)===x.type)?(x=u(x,R.props),Wi(x,R),x.return=C,x):(x=us(R.type,R.key,R.props,null,C.mode,H),Wi(x,R),x.return=C,x)}function k(C,x,R,H){return x===null||x.tag!==4||x.stateNode.containerInfo!==R.containerInfo||x.stateNode.implementation!==R.implementation?(x=uo(R,C.mode,H),x.return=C,x):(x=u(x,R.children||[]),x.return=C,x)}function q(C,x,R,H,ne){return x===null||x.tag!==7?(x=pa(R,C.mode,H,ne),x.return=C,x):(x=u(x,R),x.return=C,x)}function I(C,x,R){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=oo(""+x,C.mode,R),x.return=C,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case E:return R=us(x.type,x.key,x.props,null,C.mode,R),Wi(R,x),R.return=C,R;case O:return x=uo(x,C.mode,R),x.return=C,x;case ue:return x=ba(x),I(C,x,R)}if(Qt(x)||pt(x))return x=pa(x,C.mode,R,null),x.return=C,x;if(typeof x.then=="function")return I(C,gs(x),R);if(x.$$typeof===z)return I(C,fs(C,x),R);ys(C,x)}return null}function j(C,x,R,H){var ne=x!==null?x.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return ne!==null?null:v(C,x,""+R,H);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case E:return R.key===ne?S(C,x,R,H):null;case O:return R.key===ne?k(C,x,R,H):null;case ue:return R=ba(R),j(C,x,R,H)}if(Qt(R)||pt(R))return ne!==null?null:q(C,x,R,H,null);if(typeof R.then=="function")return j(C,x,gs(R),H);if(R.$$typeof===z)return j(C,x,fs(C,R),H);ys(C,R)}return null}function U(C,x,R,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return C=C.get(R)||null,v(x,C,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case E:return C=C.get(H.key===null?R:H.key)||null,S(x,C,H,ne);case O:return C=C.get(H.key===null?R:H.key)||null,k(x,C,H,ne);case ue:return H=ba(H),U(C,x,R,H,ne)}if(Qt(H)||pt(H))return C=C.get(R)||null,q(x,C,H,ne,null);if(typeof H.then=="function")return U(C,x,R,gs(H),ne);if(H.$$typeof===z)return U(C,x,R,fs(x,H),ne);ys(x,H)}return null}function X(C,x,R,H){for(var ne=null,be=null,F=x,fe=x=0,ve=null;F!==null&&fe<R.length;fe++){F.index>fe?(ve=F,F=null):ve=F.sibling;var we=j(C,F,R[fe],H);if(we===null){F===null&&(F=ve);break}e&&F&&we.alternate===null&&t(C,F),x=d(we,x,fe),be===null?ne=we:be.sibling=we,be=we,F=ve}if(fe===R.length)return a(C,F),_e&&pn(C,fe),ne;if(F===null){for(;fe<R.length;fe++)F=I(C,R[fe],H),F!==null&&(x=d(F,x,fe),be===null?ne=F:be.sibling=F,be=F);return _e&&pn(C,fe),ne}for(F=s(F);fe<R.length;fe++)ve=U(F,C,fe,R[fe],H),ve!==null&&(e&&ve.alternate!==null&&F.delete(ve.key===null?fe:ve.key),x=d(ve,x,fe),be===null?ne=ve:be.sibling=ve,be=ve);return e&&F.forEach(function(aa){return t(C,aa)}),_e&&pn(C,fe),ne}function ie(C,x,R,H){if(R==null)throw Error(l(151));for(var ne=null,be=null,F=x,fe=x=0,ve=null,we=R.next();F!==null&&!we.done;fe++,we=R.next()){F.index>fe?(ve=F,F=null):ve=F.sibling;var aa=j(C,F,we.value,H);if(aa===null){F===null&&(F=ve);break}e&&F&&aa.alternate===null&&t(C,F),x=d(aa,x,fe),be===null?ne=aa:be.sibling=aa,be=aa,F=ve}if(we.done)return a(C,F),_e&&pn(C,fe),ne;if(F===null){for(;!we.done;fe++,we=R.next())we=I(C,we.value,H),we!==null&&(x=d(we,x,fe),be===null?ne=we:be.sibling=we,be=we);return _e&&pn(C,fe),ne}for(F=s(F);!we.done;fe++,we=R.next())we=U(F,C,fe,we.value,H),we!==null&&(e&&we.alternate!==null&&F.delete(we.key===null?fe:we.key),x=d(we,x,fe),be===null?ne=we:be.sibling=we,be=we);return e&&F.forEach(function(h0){return t(C,h0)}),_e&&pn(C,fe),ne}function ke(C,x,R,H){if(typeof R=="object"&&R!==null&&R.type===M&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case E:e:{for(var ne=R.key;x!==null;){if(x.key===ne){if(ne=R.type,ne===M){if(x.tag===7){a(C,x.sibling),H=u(x,R.props.children),H.return=C,C=H;break e}}else if(x.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===ue&&ba(ne)===x.type){a(C,x.sibling),H=u(x,R.props),Wi(H,R),H.return=C,C=H;break e}a(C,x);break}else t(C,x);x=x.sibling}R.type===M?(H=pa(R.props.children,C.mode,H,R.key),H.return=C,C=H):(H=us(R.type,R.key,R.props,null,C.mode,H),Wi(H,R),H.return=C,C=H)}return p(C);case O:e:{for(ne=R.key;x!==null;){if(x.key===ne)if(x.tag===4&&x.stateNode.containerInfo===R.containerInfo&&x.stateNode.implementation===R.implementation){a(C,x.sibling),H=u(x,R.children||[]),H.return=C,C=H;break e}else{a(C,x);break}else t(C,x);x=x.sibling}H=uo(R,C.mode,H),H.return=C,C=H}return p(C);case ue:return R=ba(R),ke(C,x,R,H)}if(Qt(R))return X(C,x,R,H);if(pt(R)){if(ne=pt(R),typeof ne!="function")throw Error(l(150));return R=ne.call(R),ie(C,x,R,H)}if(typeof R.then=="function")return ke(C,x,gs(R),H);if(R.$$typeof===z)return ke(C,x,fs(C,R),H);ys(C,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,x!==null&&x.tag===6?(a(C,x.sibling),H=u(x,R),H.return=C,C=H):(a(C,x),H=oo(R,C.mode,H),H.return=C,C=H),p(C)):a(C,x)}return function(C,x,R,H){try{Zi=0;var ne=ke(C,x,R,H);return ti=null,ne}catch(F){if(F===ei||F===ms)throw F;var be=Ct(29,F,null,C.mode);return be.lanes=H,be.return=C,be}}}var Sa=lf(!0),of=lf(!1),$n=!1;function So(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Eo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Hn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function In(e,t,a){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ee&2)!==0){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,t=os(e),Vd(e,null,a),t}return ls(e,s,t,a),os(e)}function Fi(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Wc(e,a)}}function To(e,t){var a=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,a===s)){var u=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var p={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?u=d=p:d=d.next=p,a=a.next}while(a!==null);d===null?u=d=t:d=d.next=t}else u=d=t;a={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:s.shared,callbacks:s.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var xo=!1;function er(){if(xo){var e=Fa;if(e!==null)throw e}}function tr(e,t,a,s){xo=!1;var u=e.updateQueue;$n=!1;var d=u.firstBaseUpdate,p=u.lastBaseUpdate,v=u.shared.pending;if(v!==null){u.shared.pending=null;var S=v,k=S.next;S.next=null,p===null?d=k:p.next=k,p=S;var q=e.alternate;q!==null&&(q=q.updateQueue,v=q.lastBaseUpdate,v!==p&&(v===null?q.firstBaseUpdate=k:v.next=k,q.lastBaseUpdate=S))}if(d!==null){var I=u.baseState;p=0,q=k=S=null,v=d;do{var j=v.lane&-536870913,U=j!==v.lane;if(U?(ye&j)===j:(s&j)===j){j!==0&&j===Wa&&(xo=!0),q!==null&&(q=q.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var X=e,ie=v;j=t;var ke=a;switch(ie.tag){case 1:if(X=ie.payload,typeof X=="function"){I=X.call(ke,I,j);break e}I=X;break e;case 3:X.flags=X.flags&-65537|128;case 0:if(X=ie.payload,j=typeof X=="function"?X.call(ke,I,j):X,j==null)break e;I=_({},I,j);break e;case 2:$n=!0}}j=v.callback,j!==null&&(e.flags|=64,U&&(e.flags|=8192),U=u.callbacks,U===null?u.callbacks=[j]:U.push(j))}else U={lane:j,tag:v.tag,payload:v.payload,callback:v.callback,next:null},q===null?(k=q=U,S=I):q=q.next=U,p|=j;if(v=v.next,v===null){if(v=u.shared.pending,v===null)break;U=v,v=U.next,U.next=null,u.lastBaseUpdate=U,u.shared.pending=null}}while(!0);q===null&&(S=I),u.baseState=S,u.firstBaseUpdate=k,u.lastBaseUpdate=q,d===null&&(u.shared.lanes=0),Yn|=p,e.lanes=p,e.memoizedState=I}}function uf(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function cf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)uf(a[e],t)}var ni=A(null),vs=A(0);function df(e,t){e=An,Y(vs,e),Y(ni,t),An=e|t.baseLanes}function Ao(){Y(vs,An),Y(ni,ni.current)}function Oo(){An=vs.current,P(ni),P(vs)}var Rt=A(null),Kt=null;function Pn(e){var t=e.alternate;Y(Pe,Pe.current&1),Y(Rt,e),Kt===null&&(t===null||ni.current!==null||t.memoizedState!==null)&&(Kt=e)}function Co(e){Y(Pe,Pe.current),Y(Rt,e),Kt===null&&(Kt=e)}function ff(e){e.tag===22?(Y(Pe,Pe.current),Y(Rt,e),Kt===null&&(Kt=e)):Vn()}function Vn(){Y(Pe,Pe.current),Y(Rt,Rt.current)}function kt(e){P(Rt),Kt===e&&(Kt=null),P(Pe)}var Pe=A(0);function _s(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Mu(a)||Uu(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vn=0,de=null,Ce=null,Ke=null,bs=!1,ai=!1,Ea=!1,ws=0,nr=0,ii=null,av=0;function Be(){throw Error(l(321))}function Ro(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Ot(e[a],t[a]))return!1;return!0}function ko(e,t,a,s,u,d){return vn=d,de=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?Qf:Go,Ea=!1,d=a(s,u),Ea=!1,ai&&(d=mf(t,a,s,u)),hf(e),d}function hf(e){$.H=rr;var t=Ce!==null&&Ce.next!==null;if(vn=0,Ke=Ce=de=null,bs=!1,nr=0,ii=null,t)throw Error(l(300));e===null||Ye||(e=e.dependencies,e!==null&&ds(e)&&(Ye=!0))}function mf(e,t,a,s){de=e;var u=0;do{if(ai&&(ii=null),nr=0,ai=!1,25<=u)throw Error(l(301));if(u+=1,Ke=Ce=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}$.H=Xf,d=t(a,s)}while(ai);return d}function iv(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?ar(t):t,e=e.useState()[0],(Ce!==null?Ce.memoizedState:null)!==e&&(de.flags|=1024),t}function No(){var e=ws!==0;return ws=0,e}function jo(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Do(e){if(bs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}bs=!1}vn=0,Ke=Ce=de=null,ai=!1,nr=ws=0,ii=null}function ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?de.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Ve(){if(Ce===null){var e=de.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ke===null?de.memoizedState:Ke.next;if(t!==null)Ke=t,Ce=e;else{if(e===null)throw de.alternate===null?Error(l(467)):Error(l(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ke===null?de.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Ss(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ar(e){var t=nr;return nr+=1,ii===null&&(ii=[]),e=af(ii,e,t),t=de,(Ke===null?t.memoizedState:Ke.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?Qf:Go),e}function Es(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ar(e);if(e.$$typeof===z)return it(e)}throw Error(l(438,String(e)))}function Mo(e){var t=null,a=de.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var s=de.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(u){return u.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=Ss(),de.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),s=0;s<e;s++)a[s]=qt;return t.index++,a}function _n(e,t){return typeof t=="function"?t(e):t}function Ts(e){var t=Ve();return Uo(t,Ce,e)}function Uo(e,t,a){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=a;var u=e.baseQueue,d=s.pending;if(d!==null){if(u!==null){var p=u.next;u.next=d.next,d.next=p}t.baseQueue=u=d,s.pending=null}if(d=e.baseState,u===null)e.memoizedState=d;else{t=u.next;var v=p=null,S=null,k=t,q=!1;do{var I=k.lane&-536870913;if(I!==k.lane?(ye&I)===I:(vn&I)===I){var j=k.revertLane;if(j===0)S!==null&&(S=S.next={lane:0,revertLane:0,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),I===Wa&&(q=!0);else if((vn&j)===j){k=k.next,j===Wa&&(q=!0);continue}else I={lane:0,revertLane:k.revertLane,gesture:null,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},S===null?(v=S=I,p=d):S=S.next=I,de.lanes|=j,Yn|=j;I=k.action,Ea&&a(d,I),d=k.hasEagerState?k.eagerState:a(d,I)}else j={lane:I,revertLane:k.revertLane,gesture:k.gesture,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},S===null?(v=S=j,p=d):S=S.next=j,de.lanes|=I,Yn|=I;k=k.next}while(k!==null&&k!==t);if(S===null?p=d:S.next=v,!Ot(d,e.memoizedState)&&(Ye=!0,q&&(a=Fa,a!==null)))throw a;e.memoizedState=d,e.baseState=p,e.baseQueue=S,s.lastRenderedState=d}return u===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function zo(e){var t=Ve(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var s=a.dispatch,u=a.pending,d=t.memoizedState;if(u!==null){a.pending=null;var p=u=u.next;do d=e(d,p.action),p=p.next;while(p!==u);Ot(d,t.memoizedState)||(Ye=!0),t.memoizedState=d,t.baseQueue===null&&(t.baseState=d),a.lastRenderedState=d}return[d,s]}function pf(e,t,a){var s=de,u=Ve(),d=_e;if(d){if(a===void 0)throw Error(l(407));a=a()}else a=t();var p=!Ot((Ce||u).memoizedState,a);if(p&&(u.memoizedState=a,Ye=!0),u=u.queue,Bo(vf.bind(null,s,u,e),[e]),u.getSnapshot!==t||p||Ke!==null&&Ke.memoizedState.tag&1){if(s.flags|=2048,ri(9,{destroy:void 0},yf.bind(null,s,u,a,t),null),je===null)throw Error(l(349));d||(vn&127)!==0||gf(s,t,a)}return a}function gf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=de.updateQueue,t===null?(t=Ss(),de.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function yf(e,t,a,s){t.value=a,t.getSnapshot=s,_f(t)&&bf(e)}function vf(e,t,a){return a(function(){_f(t)&&bf(e)})}function _f(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Ot(e,a)}catch{return!0}}function bf(e){var t=ma(e,2);t!==null&&St(t,e,2)}function Lo(e){var t=ft();if(typeof e=="function"){var a=e;if(e=a(),Ea){Dn(!0);try{a()}finally{Dn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:e},t}function wf(e,t,a,s){return e.baseState=a,Uo(e,Ce,typeof s=="function"?s:_n)}function rv(e,t,a,s,u){if(Os(e))throw Error(l(485));if(e=t.action,e!==null){var d={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){d.listeners.push(p)}};$.T!==null?a(!0):d.isTransition=!1,s(d),a=t.pending,a===null?(d.next=t.pending=d,Sf(t,d)):(d.next=a.next,t.pending=a.next=d)}}function Sf(e,t){var a=t.action,s=t.payload,u=e.state;if(t.isTransition){var d=$.T,p={};$.T=p;try{var v=a(u,s),S=$.S;S!==null&&S(p,v),Ef(e,t,v)}catch(k){qo(e,t,k)}finally{d!==null&&p.types!==null&&(d.types=p.types),$.T=d}}else try{d=a(u,s),Ef(e,t,d)}catch(k){qo(e,t,k)}}function Ef(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(s){Tf(e,t,s)},function(s){return qo(e,t,s)}):Tf(e,t,a)}function Tf(e,t,a){t.status="fulfilled",t.value=a,xf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Sf(e,a)))}function qo(e,t,a){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=a,xf(t),t=t.next;while(t!==s)}e.action=null}function xf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Af(e,t){return t}function Of(e,t){if(_e){var a=je.formState;if(a!==null){e:{var s=de;if(_e){if(Me){t:{for(var u=Me,d=Gt;u.nodeType!==8;){if(!d){u=null;break t}if(u=Yt(u.nextSibling),u===null){u=null;break t}}d=u.data,u=d==="F!"||d==="F"?u:null}if(u){Me=Yt(u.nextSibling),s=u.data==="F!";break e}}qn(s)}s=!1}s&&(t=a[0])}}return a=ft(),a.memoizedState=a.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Af,lastRenderedState:t},a.queue=s,a=Kf.bind(null,de,s),s.dispatch=a,s=Lo(!1),d=Vo.bind(null,de,!1,s.queue),s=ft(),u={state:t,dispatch:null,action:e,pending:null},s.queue=u,a=rv.bind(null,de,u,d,a),u.dispatch=a,s.memoizedState=e,[t,a,!1]}function Cf(e){var t=Ve();return Rf(t,Ce,e)}function Rf(e,t,a){if(t=Uo(e,t,Af)[0],e=Ts(_n)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=ar(t)}catch(p){throw p===ei?ms:p}else s=t;t=Ve();var u=t.queue,d=u.dispatch;return a!==t.memoizedState&&(de.flags|=2048,ri(9,{destroy:void 0},sv.bind(null,u,a),null)),[s,d,e]}function sv(e,t){e.action=t}function kf(e){var t=Ve(),a=Ce;if(a!==null)return Rf(t,a,e);Ve(),t=t.memoizedState,a=Ve();var s=a.queue.dispatch;return a.memoizedState=e,[t,s,!1]}function ri(e,t,a,s){return e={tag:e,create:a,deps:s,inst:t,next:null},t=de.updateQueue,t===null&&(t=Ss(),de.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(s=a.next,a.next=e,e.next=s,t.lastEffect=e),e}function Nf(){return Ve().memoizedState}function xs(e,t,a,s){var u=ft();de.flags|=e,u.memoizedState=ri(1|t,{destroy:void 0},a,s===void 0?null:s)}function As(e,t,a,s){var u=Ve();s=s===void 0?null:s;var d=u.memoizedState.inst;Ce!==null&&s!==null&&Ro(s,Ce.memoizedState.deps)?u.memoizedState=ri(t,d,a,s):(de.flags|=e,u.memoizedState=ri(1|t,d,a,s))}function jf(e,t){xs(8390656,8,e,t)}function Bo(e,t){As(2048,8,e,t)}function lv(e){de.flags|=4;var t=de.updateQueue;if(t===null)t=Ss(),de.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Df(e){var t=Ve().memoizedState;return lv({ref:t,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Mf(e,t){return As(4,2,e,t)}function Uf(e,t){return As(4,4,e,t)}function zf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Lf(e,t,a){a=a!=null?a.concat([e]):null,As(4,4,zf.bind(null,t,e),a)}function $o(){}function qf(e,t){var a=Ve();t=t===void 0?null:t;var s=a.memoizedState;return t!==null&&Ro(t,s[1])?s[0]:(a.memoizedState=[e,t],e)}function Bf(e,t){var a=Ve();t=t===void 0?null:t;var s=a.memoizedState;if(t!==null&&Ro(t,s[1]))return s[0];if(s=e(),Ea){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[s,t],s}function Ho(e,t,a){return a===void 0||(vn&1073741824)!==0&&(ye&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=$h(),de.lanes|=e,Yn|=e,a)}function $f(e,t,a,s){return Ot(a,t)?a:ni.current!==null?(e=Ho(e,a,s),Ot(e,t)||(Ye=!0),e):(vn&42)===0||(vn&1073741824)!==0&&(ye&261930)===0?(Ye=!0,e.memoizedState=a):(e=$h(),de.lanes|=e,Yn|=e,t)}function Hf(e,t,a,s,u){var d=K.p;K.p=d!==0&&8>d?d:8;var p=$.T,v={};$.T=v,Vo(e,!1,t,a);try{var S=u(),k=$.S;if(k!==null&&k(v,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var q=nv(S,s);ir(e,t,q,Dt(e))}else ir(e,t,s,Dt(e))}catch(I){ir(e,t,{then:function(){},status:"rejected",reason:I},Dt())}finally{K.p=d,p!==null&&v.types!==null&&(p.types=v.types),$.T=p}}function ov(){}function Io(e,t,a,s){if(e.tag!==5)throw Error(l(476));var u=If(e).queue;Hf(e,u,t,le,a===null?ov:function(){return Pf(e),a(s)})}function If(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:le},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_n,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Pf(e){var t=If(e);t.next===null&&(t=e.alternate.memoizedState),ir(e,t.next.queue,{},Dt())}function Po(){return it(wr)}function Vf(){return Ve().memoizedState}function Gf(){return Ve().memoizedState}function uv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Dt();e=Hn(a);var s=In(t,e,a);s!==null&&(St(s,t,a),Fi(s,t,a)),t={cache:vo()},e.payload=t;return}t=t.return}}function cv(e,t,a){var s=Dt();a={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Os(e)?Yf(t,a):(a=so(e,t,a,s),a!==null&&(St(a,e,s),Jf(a,t,s)))}function Kf(e,t,a){var s=Dt();ir(e,t,a,s)}function ir(e,t,a,s){var u={lane:s,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Os(e))Yf(t,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=t.lastRenderedReducer,d!==null))try{var p=t.lastRenderedState,v=d(p,a);if(u.hasEagerState=!0,u.eagerState=v,Ot(v,p))return ls(e,t,u,0),je===null&&ss(),!1}catch{}if(a=so(e,t,u,s),a!==null)return St(a,e,s),Jf(a,t,s),!0}return!1}function Vo(e,t,a,s){if(s={lane:2,revertLane:Su(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Os(e)){if(t)throw Error(l(479))}else t=so(e,a,s,2),t!==null&&St(t,e,2)}function Os(e){var t=e.alternate;return e===de||t!==null&&t===de}function Yf(e,t){ai=bs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Jf(e,t,a){if((a&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,a|=s,t.lanes=a,Wc(e,a)}}var rr={readContext:it,use:Es,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useLayoutEffect:Be,useInsertionEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useSyncExternalStore:Be,useId:Be,useHostTransitionStatus:Be,useFormState:Be,useActionState:Be,useOptimistic:Be,useMemoCache:Be,useCacheRefresh:Be};rr.useEffectEvent=Be;var Qf={readContext:it,use:Es,useCallback:function(e,t){return ft().memoizedState=[e,t===void 0?null:t],e},useContext:it,useEffect:jf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,xs(4194308,4,zf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){xs(4,2,e,t)},useMemo:function(e,t){var a=ft();t=t===void 0?null:t;var s=e();if(Ea){Dn(!0);try{e()}finally{Dn(!1)}}return a.memoizedState=[s,t],s},useReducer:function(e,t,a){var s=ft();if(a!==void 0){var u=a(t);if(Ea){Dn(!0);try{a(t)}finally{Dn(!1)}}}else u=t;return s.memoizedState=s.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},s.queue=e,e=e.dispatch=cv.bind(null,de,e),[s.memoizedState,e]},useRef:function(e){var t=ft();return e={current:e},t.memoizedState=e},useState:function(e){e=Lo(e);var t=e.queue,a=Kf.bind(null,de,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:$o,useDeferredValue:function(e,t){var a=ft();return Ho(a,e,t)},useTransition:function(){var e=Lo(!1);return e=Hf.bind(null,de,e.queue,!0,!1),ft().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var s=de,u=ft();if(_e){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),je===null)throw Error(l(349));(ye&127)!==0||gf(s,t,a)}u.memoizedState=a;var d={value:a,getSnapshot:t};return u.queue=d,jf(vf.bind(null,s,d,e),[e]),s.flags|=2048,ri(9,{destroy:void 0},yf.bind(null,s,d,a,t),null),a},useId:function(){var e=ft(),t=je.identifierPrefix;if(_e){var a=sn,s=rn;a=(s&~(1<<32-At(s)-1)).toString(32)+a,t="_"+t+"R_"+a,a=ws++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=av++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Po,useFormState:Of,useActionState:Of,useOptimistic:function(e){var t=ft();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Vo.bind(null,de,!0,a),a.dispatch=t,[e,t]},useMemoCache:Mo,useCacheRefresh:function(){return ft().memoizedState=uv.bind(null,de)},useEffectEvent:function(e){var t=ft(),a={impl:e};return t.memoizedState=a,function(){if((Ee&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},Go={readContext:it,use:Es,useCallback:qf,useContext:it,useEffect:Bo,useImperativeHandle:Lf,useInsertionEffect:Mf,useLayoutEffect:Uf,useMemo:Bf,useReducer:Ts,useRef:Nf,useState:function(){return Ts(_n)},useDebugValue:$o,useDeferredValue:function(e,t){var a=Ve();return $f(a,Ce.memoizedState,e,t)},useTransition:function(){var e=Ts(_n)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ar(e),t]},useSyncExternalStore:pf,useId:Vf,useHostTransitionStatus:Po,useFormState:Cf,useActionState:Cf,useOptimistic:function(e,t){var a=Ve();return wf(a,Ce,e,t)},useMemoCache:Mo,useCacheRefresh:Gf};Go.useEffectEvent=Df;var Xf={readContext:it,use:Es,useCallback:qf,useContext:it,useEffect:Bo,useImperativeHandle:Lf,useInsertionEffect:Mf,useLayoutEffect:Uf,useMemo:Bf,useReducer:zo,useRef:Nf,useState:function(){return zo(_n)},useDebugValue:$o,useDeferredValue:function(e,t){var a=Ve();return Ce===null?Ho(a,e,t):$f(a,Ce.memoizedState,e,t)},useTransition:function(){var e=zo(_n)[0],t=Ve().memoizedState;return[typeof e=="boolean"?e:ar(e),t]},useSyncExternalStore:pf,useId:Vf,useHostTransitionStatus:Po,useFormState:kf,useActionState:kf,useOptimistic:function(e,t){var a=Ve();return Ce!==null?wf(a,Ce,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Mo,useCacheRefresh:Gf};Xf.useEffectEvent=Df;function Ko(e,t,a,s){t=e.memoizedState,a=a(s,t),a=a==null?t:_({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Yo={enqueueSetState:function(e,t,a){e=e._reactInternals;var s=Dt(),u=Hn(s);u.payload=t,a!=null&&(u.callback=a),t=In(e,u,s),t!==null&&(St(t,e,s),Fi(t,e,s))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var s=Dt(),u=Hn(s);u.tag=1,u.payload=t,a!=null&&(u.callback=a),t=In(e,u,s),t!==null&&(St(t,e,s),Fi(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Dt(),s=Hn(a);s.tag=2,t!=null&&(s.callback=t),t=In(e,s,a),t!==null&&(St(t,e,a),Fi(t,e,a))}};function Zf(e,t,a,s,u,d,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,d,p):t.prototype&&t.prototype.isPureReactComponent?!Gi(a,s)||!Gi(u,d):!0}function Wf(e,t,a,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,s),t.state!==e&&Yo.enqueueReplaceState(t,t.state,null)}function Ta(e,t){var a=t;if("ref"in t){a={};for(var s in t)s!=="ref"&&(a[s]=t[s])}if(e=e.defaultProps){a===t&&(a=_({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function Ff(e){rs(e)}function eh(e){console.error(e)}function th(e){rs(e)}function Cs(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function nh(e,t,a){try{var s=e.onCaughtError;s(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function Jo(e,t,a){return a=Hn(a),a.tag=3,a.payload={element:null},a.callback=function(){Cs(e,t)},a}function ah(e){return e=Hn(e),e.tag=3,e}function ih(e,t,a,s){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var d=s.value;e.payload=function(){return u(d)},e.callback=function(){nh(t,a,s)}}var p=a.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){nh(t,a,s),typeof u!="function"&&(Jn===null?Jn=new Set([this]):Jn.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})})}function dv(e,t,a,s,u){if(a.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=a.alternate,t!==null&&Za(t,a,u,!0),a=Rt.current,a!==null){switch(a.tag){case 31:case 13:return Kt===null?$s():a.alternate===null&&$e===0&&($e=3),a.flags&=-257,a.flags|=65536,a.lanes=u,s===ps?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([s]):t.add(s),_u(e,s,u)),!1;case 22:return a.flags|=65536,s===ps?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([s]):a.add(s)),_u(e,s,u)),!1}throw Error(l(435,a.tag))}return _u(e,s,u),$s(),!1}if(_e)return t=Rt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=u,s!==ho&&(e=Error(l(422),{cause:s}),Ji(It(e,a)))):(s!==ho&&(t=Error(l(423),{cause:s}),Ji(It(t,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,s=It(s,a),u=Jo(e.stateNode,s,u),To(e,u),$e!==4&&($e=2)),!1;var d=Error(l(520),{cause:s});if(d=It(d,a),hr===null?hr=[d]:hr.push(d),$e!==4&&($e=2),t===null)return!0;s=It(s,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=Jo(a.stateNode,s,e),To(a,e),!1;case 1:if(t=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Jn===null||!Jn.has(d))))return a.flags|=65536,u&=-u,a.lanes|=u,u=ah(u),ih(u,e,a,s),To(a,u),!1}a=a.return}while(a!==null);return!1}var Qo=Error(l(461)),Ye=!1;function rt(e,t,a,s){t.child=e===null?of(t,null,a,s):Sa(t,e.child,a,s)}function rh(e,t,a,s,u){a=a.render;var d=t.ref;if("ref"in s){var p={};for(var v in s)v!=="ref"&&(p[v]=s[v])}else p=s;return va(t),s=ko(e,t,a,p,d,u),v=No(),e!==null&&!Ye?(jo(e,t,u),bn(e,t,u)):(_e&&v&&co(t),t.flags|=1,rt(e,t,s,u),t.child)}function sh(e,t,a,s,u){if(e===null){var d=a.type;return typeof d=="function"&&!lo(d)&&d.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=d,lh(e,t,d,s,u)):(e=us(a.type,null,s,t,t.mode,u),e.ref=t.ref,e.return=t,t.child=e)}if(d=e.child,!au(e,u)){var p=d.memoizedProps;if(a=a.compare,a=a!==null?a:Gi,a(p,s)&&e.ref===t.ref)return bn(e,t,u)}return t.flags|=1,e=mn(d,s),e.ref=t.ref,e.return=t,t.child=e}function lh(e,t,a,s,u){if(e!==null){var d=e.memoizedProps;if(Gi(d,s)&&e.ref===t.ref)if(Ye=!1,t.pendingProps=s=d,au(e,u))(e.flags&131072)!==0&&(Ye=!0);else return t.lanes=e.lanes,bn(e,t,u)}return Xo(e,t,a,s,u)}function oh(e,t,a,s){var u=s.children,d=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(s=t.child=e.child,u=0;s!==null;)u=u|s.lanes|s.childLanes,s=s.sibling;s=u&~d}else s=0,t.child=null;return uh(e,t,d,a,s)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hs(t,d!==null?d.cachePool:null),d!==null?df(t,d):Ao(),ff(t);else return s=t.lanes=536870912,uh(e,t,d!==null?d.baseLanes|a:a,a,s)}else d!==null?(hs(t,d.cachePool),df(t,d),Vn(),t.memoizedState=null):(e!==null&&hs(t,null),Ao(),Vn());return rt(e,t,u,a),t.child}function sr(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function uh(e,t,a,s,u){var d=bo();return d=d===null?null:{parent:Ge._currentValue,pool:d},t.memoizedState={baseLanes:a,cachePool:d},e!==null&&hs(t,null),Ao(),ff(t),e!==null&&Za(e,t,s,!0),t.childLanes=u,null}function Rs(e,t){return t=Ns({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ch(e,t,a){return Sa(t,e.child,null,a),e=Rs(t,t.pendingProps),e.flags|=2,kt(t),t.memoizedState=null,e}function fv(e,t,a){var s=t.pendingProps,u=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(_e){if(s.mode==="hidden")return e=Rs(t,s),t.lanes=536870912,sr(null,e);if(Co(t),(e=Me)?(e=Sm(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zn!==null?{id:rn,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},a=Kd(e),a.return=t,t.child=a,at=t,Me=null)):e=null,e===null)throw qn(t);return t.lanes=536870912,null}return Rs(t,s)}var d=e.memoizedState;if(d!==null){var p=d.dehydrated;if(Co(t),u)if(t.flags&256)t.flags&=-257,t=ch(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Ye||Za(e,t,a,!1),u=(a&e.childLanes)!==0,Ye||u){if(s=je,s!==null&&(p=Fc(s,a),p!==0&&p!==d.retryLane))throw d.retryLane=p,ma(e,p),St(s,e,p),Qo;$s(),t=ch(e,t,a)}else e=d.treeContext,Me=Yt(p.nextSibling),at=t,_e=!0,Ln=null,Gt=!1,e!==null&&Qd(t,e),t=Rs(t,s),t.flags|=4096;return t}return e=mn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function ks(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Xo(e,t,a,s,u){return va(t),a=ko(e,t,a,s,void 0,u),s=No(),e!==null&&!Ye?(jo(e,t,u),bn(e,t,u)):(_e&&s&&co(t),t.flags|=1,rt(e,t,a,u),t.child)}function dh(e,t,a,s,u,d){return va(t),t.updateQueue=null,a=mf(t,s,a,u),hf(e),s=No(),e!==null&&!Ye?(jo(e,t,d),bn(e,t,d)):(_e&&s&&co(t),t.flags|=1,rt(e,t,a,d),t.child)}function fh(e,t,a,s,u){if(va(t),t.stateNode===null){var d=Ya,p=a.contextType;typeof p=="object"&&p!==null&&(d=it(p)),d=new a(s,d),t.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yo,t.stateNode=d,d._reactInternals=t,d=t.stateNode,d.props=s,d.state=t.memoizedState,d.refs={},So(t),p=a.contextType,d.context=typeof p=="object"&&p!==null?it(p):Ya,d.state=t.memoizedState,p=a.getDerivedStateFromProps,typeof p=="function"&&(Ko(t,a,p,s),d.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(p=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),p!==d.state&&Yo.enqueueReplaceState(d,d.state,null),tr(t,s,d,u),er(),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){d=t.stateNode;var v=t.memoizedProps,S=Ta(a,v);d.props=S;var k=d.context,q=a.contextType;p=Ya,typeof q=="object"&&q!==null&&(p=it(q));var I=a.getDerivedStateFromProps;q=typeof I=="function"||typeof d.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v||k!==p)&&Wf(t,d,s,p),$n=!1;var j=t.memoizedState;d.state=j,tr(t,s,d,u),er(),k=t.memoizedState,v||j!==k||$n?(typeof I=="function"&&(Ko(t,a,I,s),k=t.memoizedState),(S=$n||Zf(t,a,S,s,j,k,p))?(q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(t.flags|=4194308)):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=k),d.props=s,d.state=k,d.context=p,s=S):(typeof d.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{d=t.stateNode,Eo(e,t),p=t.memoizedProps,q=Ta(a,p),d.props=q,I=t.pendingProps,j=d.context,k=a.contextType,S=Ya,typeof k=="object"&&k!==null&&(S=it(k)),v=a.getDerivedStateFromProps,(k=typeof v=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(p!==I||j!==S)&&Wf(t,d,s,S),$n=!1,j=t.memoizedState,d.state=j,tr(t,s,d,u),er();var U=t.memoizedState;p!==I||j!==U||$n||e!==null&&e.dependencies!==null&&ds(e.dependencies)?(typeof v=="function"&&(Ko(t,a,v,s),U=t.memoizedState),(q=$n||Zf(t,a,q,s,j,U,S)||e!==null&&e.dependencies!==null&&ds(e.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(s,U,S),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(s,U,S)),typeof d.componentDidUpdate=="function"&&(t.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=U),d.props=s,d.state=U,d.context=S,s=q):(typeof d.componentDidUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(t.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&j===e.memoizedState||(t.flags|=1024),s=!1)}return d=s,ks(e,t),s=(t.flags&128)!==0,d||s?(d=t.stateNode,a=s&&typeof a.getDerivedStateFromError!="function"?null:d.render(),t.flags|=1,e!==null&&s?(t.child=Sa(t,e.child,null,u),t.child=Sa(t,null,a,u)):rt(e,t,a,u),t.memoizedState=d.state,e=t.child):e=bn(e,t,u),e}function hh(e,t,a,s){return ga(),t.flags|=256,rt(e,t,a,s),t.child}var Zo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Wo(e){return{baseLanes:e,cachePool:tf()}}function Fo(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=jt),e}function mh(e,t,a){var s=t.pendingProps,u=!1,d=(t.flags&128)!==0,p;if((p=d)||(p=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),p&&(u=!0,t.flags&=-129),p=(t.flags&32)!==0,t.flags&=-33,e===null){if(_e){if(u?Pn(t):Vn(),(e=Me)?(e=Sm(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:zn!==null?{id:rn,overflow:sn}:null,retryLane:536870912,hydrationErrors:null},a=Kd(e),a.return=t,t.child=a,at=t,Me=null)):e=null,e===null)throw qn(t);return Uu(e)?t.lanes=32:t.lanes=536870912,null}var v=s.children;return s=s.fallback,u?(Vn(),u=t.mode,v=Ns({mode:"hidden",children:v},u),s=pa(s,u,a,null),v.return=t,s.return=t,v.sibling=s,t.child=v,s=t.child,s.memoizedState=Wo(a),s.childLanes=Fo(e,p,a),t.memoizedState=Zo,sr(null,s)):(Pn(t),eu(t,v))}var S=e.memoizedState;if(S!==null&&(v=S.dehydrated,v!==null)){if(d)t.flags&256?(Pn(t),t.flags&=-257,t=tu(e,t,a)):t.memoizedState!==null?(Vn(),t.child=e.child,t.flags|=128,t=null):(Vn(),v=s.fallback,u=t.mode,s=Ns({mode:"visible",children:s.children},u),v=pa(v,u,a,null),v.flags|=2,s.return=t,v.return=t,s.sibling=v,t.child=s,Sa(t,e.child,null,a),s=t.child,s.memoizedState=Wo(a),s.childLanes=Fo(e,p,a),t.memoizedState=Zo,t=sr(null,s));else if(Pn(t),Uu(v)){if(p=v.nextSibling&&v.nextSibling.dataset,p)var k=p.dgst;p=k,s=Error(l(419)),s.stack="",s.digest=p,Ji({value:s,source:null,stack:null}),t=tu(e,t,a)}else if(Ye||Za(e,t,a,!1),p=(a&e.childLanes)!==0,Ye||p){if(p=je,p!==null&&(s=Fc(p,a),s!==0&&s!==S.retryLane))throw S.retryLane=s,ma(e,s),St(p,e,s),Qo;Mu(v)||$s(),t=tu(e,t,a)}else Mu(v)?(t.flags|=192,t.child=e.child,t=null):(e=S.treeContext,Me=Yt(v.nextSibling),at=t,_e=!0,Ln=null,Gt=!1,e!==null&&Qd(t,e),t=eu(t,s.children),t.flags|=4096);return t}return u?(Vn(),v=s.fallback,u=t.mode,S=e.child,k=S.sibling,s=mn(S,{mode:"hidden",children:s.children}),s.subtreeFlags=S.subtreeFlags&65011712,k!==null?v=mn(k,v):(v=pa(v,u,a,null),v.flags|=2),v.return=t,s.return=t,s.sibling=v,t.child=s,sr(null,s),s=t.child,v=e.child.memoizedState,v===null?v=Wo(a):(u=v.cachePool,u!==null?(S=Ge._currentValue,u=u.parent!==S?{parent:S,pool:S}:u):u=tf(),v={baseLanes:v.baseLanes|a,cachePool:u}),s.memoizedState=v,s.childLanes=Fo(e,p,a),t.memoizedState=Zo,sr(e.child,s)):(Pn(t),a=e.child,e=a.sibling,a=mn(a,{mode:"visible",children:s.children}),a.return=t,a.sibling=null,e!==null&&(p=t.deletions,p===null?(t.deletions=[e],t.flags|=16):p.push(e)),t.child=a,t.memoizedState=null,a)}function eu(e,t){return t=Ns({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ns(e,t){return e=Ct(22,e,null,t),e.lanes=0,e}function tu(e,t,a){return Sa(t,e.child,null,a),e=eu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ph(e,t,a){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),go(e.return,t,a)}function nu(e,t,a,s,u,d){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:a,tailMode:u,treeForkCount:d}:(p.isBackwards=t,p.rendering=null,p.renderingStartTime=0,p.last=s,p.tail=a,p.tailMode=u,p.treeForkCount=d)}function gh(e,t,a){var s=t.pendingProps,u=s.revealOrder,d=s.tail;s=s.children;var p=Pe.current,v=(p&2)!==0;if(v?(p=p&1|2,t.flags|=128):p&=1,Y(Pe,p),rt(e,t,s,a),s=_e?Yi:0,!v&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ph(e,a,t);else if(e.tag===19)ph(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=t.child,u=null;a!==null;)e=a.alternate,e!==null&&_s(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=t.child,t.child=null):(u=a.sibling,a.sibling=null),nu(t,!1,u,a,d,s);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=t.child,t.child=null;u!==null;){if(e=u.alternate,e!==null&&_s(e)===null){t.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}nu(t,!0,a,null,d,s);break;case"together":nu(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function bn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Yn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(Za(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=mn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=mn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function au(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ds(e)))}function hv(e,t,a){switch(t.tag){case 3:dt(t,t.stateNode.containerInfo),Bn(t,Ge,e.memoizedState.cache),ga();break;case 27:case 5:ji(t);break;case 4:dt(t,t.stateNode.containerInfo);break;case 10:Bn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Co(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(Pn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?mh(e,t,a):(Pn(t),e=bn(e,t,a),e!==null?e.sibling:null);Pn(t);break;case 19:var u=(e.flags&128)!==0;if(s=(a&t.childLanes)!==0,s||(Za(e,t,a,!1),s=(a&t.childLanes)!==0),u){if(s)return gh(e,t,a);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),Y(Pe,Pe.current),s)break;return null;case 22:return t.lanes=0,oh(e,t,a,t.pendingProps);case 24:Bn(t,Ge,e.memoizedState.cache)}return bn(e,t,a)}function yh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Ye=!0;else{if(!au(e,a)&&(t.flags&128)===0)return Ye=!1,hv(e,t,a);Ye=(e.flags&131072)!==0}else Ye=!1,_e&&(t.flags&1048576)!==0&&Jd(t,Yi,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=ba(t.elementType),t.type=e,typeof e=="function")lo(e)?(s=Ta(e,s),t.tag=1,t=fh(null,t,e,s,a)):(t.tag=0,t=Xo(null,t,e,s,a));else{if(e!=null){var u=e.$$typeof;if(u===G){t.tag=11,t=rh(null,t,e,s,a);break e}else if(u===Q){t.tag=14,t=sh(null,t,e,s,a);break e}}throw t=cn(e)||e,Error(l(306,t,""))}}return t;case 0:return Xo(e,t,t.type,t.pendingProps,a);case 1:return s=t.type,u=Ta(s,t.pendingProps),fh(e,t,s,u,a);case 3:e:{if(dt(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var d=t.memoizedState;u=d.element,Eo(e,t),tr(t,s,null,a);var p=t.memoizedState;if(s=p.cache,Bn(t,Ge,s),s!==d.cache&&yo(t,[Ge],a,!0),er(),s=p.element,d.isDehydrated)if(d={element:s,isDehydrated:!1,cache:p.cache},t.updateQueue.baseState=d,t.memoizedState=d,t.flags&256){t=hh(e,t,s,a);break e}else if(s!==u){u=It(Error(l(424)),t),Ji(u),t=hh(e,t,s,a);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Me=Yt(e.firstChild),at=t,_e=!0,Ln=null,Gt=!0,a=of(t,null,s,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ga(),s===u){t=bn(e,t,a);break e}rt(e,t,s,a)}t=t.child}return t;case 26:return ks(e,t),e===null?(a=Cm(t.type,null,t.pendingProps,null))?t.memoizedState=a:_e||(a=t.type,e=t.pendingProps,s=Ys(me.current).createElement(a),s[nt]=t,s[gt]=e,st(s,a,e),et(s),t.stateNode=s):t.memoizedState=Cm(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ji(t),e===null&&_e&&(s=t.stateNode=xm(t.type,t.pendingProps,me.current),at=t,Gt=!0,u=Me,Wn(t.type)?(zu=u,Me=Yt(s.firstChild)):Me=u),rt(e,t,t.pendingProps.children,a),ks(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&_e&&((u=s=Me)&&(s=Pv(s,t.type,t.pendingProps,Gt),s!==null?(t.stateNode=s,at=t,Me=Yt(s.firstChild),Gt=!1,u=!0):u=!1),u||qn(t)),ji(t),u=t.type,d=t.pendingProps,p=e!==null?e.memoizedProps:null,s=d.children,Nu(u,d)?s=null:p!==null&&Nu(u,p)&&(t.flags|=32),t.memoizedState!==null&&(u=ko(e,t,iv,null,null,a),wr._currentValue=u),ks(e,t),rt(e,t,s,a),t.child;case 6:return e===null&&_e&&((e=a=Me)&&(a=Vv(a,t.pendingProps,Gt),a!==null?(t.stateNode=a,at=t,Me=null,e=!0):e=!1),e||qn(t)),null;case 13:return mh(e,t,a);case 4:return dt(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Sa(t,null,s,a):rt(e,t,s,a),t.child;case 11:return rh(e,t,t.type,t.pendingProps,a);case 7:return rt(e,t,t.pendingProps,a),t.child;case 8:return rt(e,t,t.pendingProps.children,a),t.child;case 12:return rt(e,t,t.pendingProps.children,a),t.child;case 10:return s=t.pendingProps,Bn(t,t.type,s.value),rt(e,t,s.children,a),t.child;case 9:return u=t.type._context,s=t.pendingProps.children,va(t),u=it(u),s=s(u),t.flags|=1,rt(e,t,s,a),t.child;case 14:return sh(e,t,t.type,t.pendingProps,a);case 15:return lh(e,t,t.type,t.pendingProps,a);case 19:return gh(e,t,a);case 31:return fv(e,t,a);case 22:return oh(e,t,a,t.pendingProps);case 24:return va(t),s=it(Ge),e===null?(u=bo(),u===null&&(u=je,d=vo(),u.pooledCache=d,d.refCount++,d!==null&&(u.pooledCacheLanes|=a),u=d),t.memoizedState={parent:s,cache:u},So(t),Bn(t,Ge,u)):((e.lanes&a)!==0&&(Eo(e,t),tr(t,null,null,a),er()),u=e.memoizedState,d=t.memoizedState,u.parent!==s?(u={parent:s,cache:s},t.memoizedState=u,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=u),Bn(t,Ge,s)):(s=d.cache,Bn(t,Ge,s),s!==u.cache&&yo(t,[Ge],a,!0))),rt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function wn(e){e.flags|=4}function iu(e,t,a,s,u){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Vh())e.flags|=8192;else throw wa=ps,wo}else e.flags&=-16777217}function vh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Dm(t))if(Vh())e.flags|=8192;else throw wa=ps,wo}function js(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Xc():536870912,e.lanes|=t,ui|=t)}function lr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var s=null;a!==null;)a.alternate!==null&&(s=a),a=a.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,s=0;if(t)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags&65011712,s|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=s,e.childLanes=a,t}function mv(e,t,a){var s=t.pendingProps;switch(fo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(t),null;case 1:return Ue(t),null;case 3:return a=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),yn(Ge),Ie(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Xa(t)?wn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,mo())),Ue(t),null;case 26:var u=t.type,d=t.memoizedState;return e===null?(wn(t),d!==null?(Ue(t),vh(t,d)):(Ue(t),iu(t,u,null,s,a))):d?d!==e.memoizedState?(wn(t),Ue(t),vh(t,d)):(Ue(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&wn(t),Ue(t),iu(t,u,e,s,a)),null;case 27:if(Pr(t),a=me.current,u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&wn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ue(t),null}e=Z.current,Xa(t)?Xd(t):(e=xm(u,s,a),t.stateNode=e,wn(t))}return Ue(t),null;case 5:if(Pr(t),u=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&wn(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return Ue(t),null}if(d=Z.current,Xa(t))Xd(t);else{var p=Ys(me.current);switch(d){case 1:d=p.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:d=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":d=p.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":d=p.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":d=p.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof s.is=="string"?p.createElement("select",{is:s.is}):p.createElement("select"),s.multiple?d.multiple=!0:s.size&&(d.size=s.size);break;default:d=typeof s.is=="string"?p.createElement(u,{is:s.is}):p.createElement(u)}}d[nt]=t,d[gt]=s;e:for(p=t.child;p!==null;){if(p.tag===5||p.tag===6)d.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}t.stateNode=d;e:switch(st(d,u,s),u){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&wn(t)}}return Ue(t),iu(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&wn(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=me.current,Xa(t)){if(e=t.stateNode,a=t.memoizedProps,s=null,u=at,u!==null)switch(u.tag){case 27:case 5:s=u.memoizedProps}e[nt]=t,e=!!(e.nodeValue===a||s!==null&&s.suppressHydrationWarning===!0||mm(e.nodeValue,a)),e||qn(t,!0)}else e=Ys(e).createTextNode(s),e[nt]=t,t.stateNode=e}return Ue(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(s=Xa(t),a!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[nt]=t}else ga(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),e=!1}else a=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(kt(t),t):(kt(t),null);if((t.flags&128)!==0)throw Error(l(558))}return Ue(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Xa(t),s!==null&&s.dehydrated!==null){if(e===null){if(!u)throw Error(l(318));if(u=t.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(l(317));u[nt]=t}else ga(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ue(t),u=!1}else u=mo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return t.flags&256?(kt(t),t):(kt(t),null)}return kt(t),(t.flags&128)!==0?(t.lanes=a,t):(a=s!==null,e=e!==null&&e.memoizedState!==null,a&&(s=t.child,u=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(u=s.alternate.memoizedState.cachePool.pool),d=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(d=s.memoizedState.cachePool.pool),d!==u&&(s.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),js(t,t.updateQueue),Ue(t),null);case 4:return Ie(),e===null&&Au(t.stateNode.containerInfo),Ue(t),null;case 10:return yn(t.type),Ue(t),null;case 19:if(P(Pe),s=t.memoizedState,s===null)return Ue(t),null;if(u=(t.flags&128)!==0,d=s.rendering,d===null)if(u)lr(s,!1);else{if($e!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(d=_s(e),d!==null){for(t.flags|=128,lr(s,!1),e=d.updateQueue,t.updateQueue=e,js(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Gd(a,e),a=a.sibling;return Y(Pe,Pe.current&1|2),_e&&pn(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Tt()>Ls&&(t.flags|=128,u=!0,lr(s,!1),t.lanes=4194304)}else{if(!u)if(e=_s(d),e!==null){if(t.flags|=128,u=!0,e=e.updateQueue,t.updateQueue=e,js(t,e),lr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!d.alternate&&!_e)return Ue(t),null}else 2*Tt()-s.renderingStartTime>Ls&&a!==536870912&&(t.flags|=128,u=!0,lr(s,!1),t.lanes=4194304);s.isBackwards?(d.sibling=t.child,t.child=d):(e=s.last,e!==null?e.sibling=d:t.child=d,s.last=d)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Tt(),e.sibling=null,a=Pe.current,Y(Pe,u?a&1|2:a&1),_e&&pn(t,s.treeForkCount),e):(Ue(t),null);case 22:case 23:return kt(t),Oo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(a&536870912)!==0&&(t.flags&128)===0&&(Ue(t),t.subtreeFlags&6&&(t.flags|=8192)):Ue(t),a=t.updateQueue,a!==null&&js(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==a&&(t.flags|=2048),e!==null&&P(_a),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),yn(Ge),Ue(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function pv(e,t){switch(fo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn(Ge),Ie(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Pr(t),null;case 31:if(t.memoizedState!==null){if(kt(t),t.alternate===null)throw Error(l(340));ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(kt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));ga()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return P(Pe),null;case 4:return Ie(),null;case 10:return yn(t.type),null;case 22:case 23:return kt(t),Oo(),e!==null&&P(_a),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return yn(Ge),null;case 25:return null;default:return null}}function _h(e,t){switch(fo(t),t.tag){case 3:yn(Ge),Ie();break;case 26:case 27:case 5:Pr(t);break;case 4:Ie();break;case 31:t.memoizedState!==null&&kt(t);break;case 13:kt(t);break;case 19:P(Pe);break;case 10:yn(t.type);break;case 22:case 23:kt(t),Oo(),e!==null&&P(_a);break;case 24:yn(Ge)}}function or(e,t){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var u=s.next;a=u;do{if((a.tag&e)===e){s=void 0;var d=a.create,p=a.inst;s=d(),p.destroy=s}a=a.next}while(a!==u)}}catch(v){Ae(t,t.return,v)}}function Gn(e,t,a){try{var s=t.updateQueue,u=s!==null?s.lastEffect:null;if(u!==null){var d=u.next;s=d;do{if((s.tag&e)===e){var p=s.inst,v=p.destroy;if(v!==void 0){p.destroy=void 0,u=t;var S=a,k=v;try{k()}catch(q){Ae(u,S,q)}}}s=s.next}while(s!==d)}}catch(q){Ae(t,t.return,q)}}function bh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{cf(t,a)}catch(s){Ae(e,e.return,s)}}}function wh(e,t,a){a.props=Ta(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(s){Ae(e,t,s)}}function ur(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof a=="function"?e.refCleanup=a(s):a.current=s}}catch(u){Ae(e,t,u)}}function ln(e,t){var a=e.ref,s=e.refCleanup;if(a!==null)if(typeof s=="function")try{s()}catch(u){Ae(e,t,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){Ae(e,t,u)}else a.current=null}function Sh(e){var t=e.type,a=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&s.focus();break e;case"img":a.src?s.src=a.src:a.srcSet&&(s.srcset=a.srcSet)}}catch(u){Ae(e,e.return,u)}}function ru(e,t,a){try{var s=e.stateNode;Lv(s,e.type,a,t),s[gt]=t}catch(u){Ae(e,e.return,u)}}function Eh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Wn(e.type)||e.tag===4}function su(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Eh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Wn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lu(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=fn));else if(s!==4&&(s===27&&Wn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(lu(e,t,a),e=e.sibling;e!==null;)lu(e,t,a),e=e.sibling}function Ds(e,t,a){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(s!==4&&(s===27&&Wn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ds(e,t,a),e=e.sibling;e!==null;)Ds(e,t,a),e=e.sibling}function Th(e){var t=e.stateNode,a=e.memoizedProps;try{for(var s=e.type,u=t.attributes;u.length;)t.removeAttributeNode(u[0]);st(t,s,a),t[nt]=e,t[gt]=a}catch(d){Ae(e,e.return,d)}}var Sn=!1,Je=!1,ou=!1,xh=typeof WeakSet=="function"?WeakSet:Set,tt=null;function gv(e,t){if(e=e.containerInfo,Ru=el,e=zd(e),eo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var s=a.getSelection&&a.getSelection();if(s&&s.rangeCount!==0){a=s.anchorNode;var u=s.anchorOffset,d=s.focusNode;s=s.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var p=0,v=-1,S=-1,k=0,q=0,I=e,j=null;t:for(;;){for(var U;I!==a||u!==0&&I.nodeType!==3||(v=p+u),I!==d||s!==0&&I.nodeType!==3||(S=p+s),I.nodeType===3&&(p+=I.nodeValue.length),(U=I.firstChild)!==null;)j=I,I=U;for(;;){if(I===e)break t;if(j===a&&++k===u&&(v=p),j===d&&++q===s&&(S=p),(U=I.nextSibling)!==null)break;I=j,j=I.parentNode}I=U}a=v===-1||S===-1?null:{start:v,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(ku={focusedElem:e,selectionRange:a},el=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){switch(t=tt,d=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=t,u=d.memoizedProps,d=d.memoizedState,s=a.stateNode;try{var X=Ta(a.type,u);e=s.getSnapshotBeforeUpdate(X,d),s.__reactInternalSnapshotBeforeUpdate=e}catch(ie){Ae(a,a.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Du(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Du(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}}function Ah(e,t,a){var s=a.flags;switch(a.tag){case 0:case 11:case 15:Tn(e,a),s&4&&or(5,a);break;case 1:if(Tn(e,a),s&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(p){Ae(a,a.return,p)}else{var u=Ta(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(u,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Ae(a,a.return,p)}}s&64&&bh(a),s&512&&ur(a,a.return);break;case 3:if(Tn(e,a),s&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{cf(e,t)}catch(p){Ae(a,a.return,p)}}break;case 27:t===null&&s&4&&Th(a);case 26:case 5:Tn(e,a),t===null&&s&4&&Sh(a),s&512&&ur(a,a.return);break;case 12:Tn(e,a);break;case 31:Tn(e,a),s&4&&Rh(e,a);break;case 13:Tn(e,a),s&4&&kh(e,a),s&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=xv.bind(null,a),Gv(e,a))));break;case 22:if(s=a.memoizedState!==null||Sn,!s){t=t!==null&&t.memoizedState!==null||Je,u=Sn;var d=Je;Sn=s,(Je=t)&&!d?xn(e,a,(a.subtreeFlags&8772)!==0):Tn(e,a),Sn=u,Je=d}break;case 30:break;default:Tn(e,a)}}function Oh(e){var t=e.alternate;t!==null&&(e.alternate=null,Oh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ll(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,vt=!1;function En(e,t,a){for(a=a.child;a!==null;)Ch(e,t,a),a=a.sibling}function Ch(e,t,a){if(xt&&typeof xt.onCommitFiberUnmount=="function")try{xt.onCommitFiberUnmount(Di,a)}catch{}switch(a.tag){case 26:Je||ln(a,t),En(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Je||ln(a,t);var s=ze,u=vt;Wn(a.type)&&(ze=a.stateNode,vt=!1),En(e,t,a),vr(a.stateNode),ze=s,vt=u;break;case 5:Je||ln(a,t);case 6:if(s=ze,u=vt,ze=null,En(e,t,a),ze=s,vt=u,ze!==null)if(vt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(a.stateNode)}catch(d){Ae(a,t,d)}else try{ze.removeChild(a.stateNode)}catch(d){Ae(a,t,d)}break;case 18:ze!==null&&(vt?(e=ze,bm(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),yi(e)):bm(ze,a.stateNode));break;case 4:s=ze,u=vt,ze=a.stateNode.containerInfo,vt=!0,En(e,t,a),ze=s,vt=u;break;case 0:case 11:case 14:case 15:Gn(2,a,t),Je||Gn(4,a,t),En(e,t,a);break;case 1:Je||(ln(a,t),s=a.stateNode,typeof s.componentWillUnmount=="function"&&wh(a,t,s)),En(e,t,a);break;case 21:En(e,t,a);break;case 22:Je=(s=Je)||a.memoizedState!==null,En(e,t,a),Je=s;break;default:En(e,t,a)}}function Rh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{yi(e)}catch(a){Ae(t,t.return,a)}}}function kh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{yi(e)}catch(a){Ae(t,t.return,a)}}function yv(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new xh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new xh),t;default:throw Error(l(435,e.tag))}}function Ms(e,t){var a=yv(e);t.forEach(function(s){if(!a.has(s)){a.add(s);var u=Av.bind(null,e,s);s.then(u,u)}})}function _t(e,t){var a=t.deletions;if(a!==null)for(var s=0;s<a.length;s++){var u=a[s],d=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 27:if(Wn(v.type)){ze=v.stateNode,vt=!1;break e}break;case 5:ze=v.stateNode,vt=!1;break e;case 3:case 4:ze=v.stateNode.containerInfo,vt=!0;break e}v=v.return}if(ze===null)throw Error(l(160));Ch(d,p,u),ze=null,vt=!1,d=u.alternate,d!==null&&(d.return=null),u.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Nh(t,e),t=t.sibling}var Zt=null;function Nh(e,t){var a=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:_t(t,e),bt(e),s&4&&(Gn(3,e,e.return),or(3,e),Gn(5,e,e.return));break;case 1:_t(t,e),bt(e),s&512&&(Je||a===null||ln(a,a.return)),s&64&&Sn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?s:a.concat(s))));break;case 26:var u=Zt;if(_t(t,e),bt(e),s&512&&(Je||a===null||ln(a,a.return)),s&4){var d=a!==null?a.memoizedState:null;if(s=e.memoizedState,a===null)if(s===null)if(e.stateNode===null){e:{s=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(s){case"title":d=u.getElementsByTagName("title")[0],(!d||d[zi]||d[nt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=u.createElement(s),u.head.insertBefore(d,u.querySelector("head > title"))),st(d,s,a),d[nt]=e,et(d),s=d;break e;case"link":var p=Nm("link","href",u).get(s+(a.href||""));if(p){for(var v=0;v<p.length;v++)if(d=p[v],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){p.splice(v,1);break t}}d=u.createElement(s),st(d,s,a),u.head.appendChild(d);break;case"meta":if(p=Nm("meta","content",u).get(s+(a.content||""))){for(v=0;v<p.length;v++)if(d=p[v],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){p.splice(v,1);break t}}d=u.createElement(s),st(d,s,a),u.head.appendChild(d);break;default:throw Error(l(468,s))}d[nt]=e,et(d),s=d}e.stateNode=s}else jm(u,e.type,e.stateNode);else e.stateNode=km(u,s,e.memoizedProps);else d!==s?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,s===null?jm(u,e.type,e.stateNode):km(u,s,e.memoizedProps)):s===null&&e.stateNode!==null&&ru(e,e.memoizedProps,a.memoizedProps)}break;case 27:_t(t,e),bt(e),s&512&&(Je||a===null||ln(a,a.return)),a!==null&&s&4&&ru(e,e.memoizedProps,a.memoizedProps);break;case 5:if(_t(t,e),bt(e),s&512&&(Je||a===null||ln(a,a.return)),e.flags&32){u=e.stateNode;try{$a(u,"")}catch(X){Ae(e,e.return,X)}}s&4&&e.stateNode!=null&&(u=e.memoizedProps,ru(e,u,a!==null?a.memoizedProps:u)),s&1024&&(ou=!0);break;case 6:if(_t(t,e),bt(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,a=e.stateNode;try{a.nodeValue=s}catch(X){Ae(e,e.return,X)}}break;case 3:if(Xs=null,u=Zt,Zt=Js(t.containerInfo),_t(t,e),Zt=u,bt(e),s&4&&a!==null&&a.memoizedState.isDehydrated)try{yi(t.containerInfo)}catch(X){Ae(e,e.return,X)}ou&&(ou=!1,jh(e));break;case 4:s=Zt,Zt=Js(e.stateNode.containerInfo),_t(t,e),bt(e),Zt=s;break;case 12:_t(t,e),bt(e);break;case 31:_t(t,e),bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ms(e,s)));break;case 13:_t(t,e),bt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zs=Tt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ms(e,s)));break;case 22:u=e.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,k=Sn,q=Je;if(Sn=k||u,Je=q||S,_t(t,e),Je=q,Sn=k,bt(e),s&8192)e:for(t=e.stateNode,t._visibility=u?t._visibility&-2:t._visibility|1,u&&(a===null||S||Sn||Je||xa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){S=a=t;try{if(d=S.stateNode,u)p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{v=S.stateNode;var I=S.memoizedProps.style,j=I!=null&&I.hasOwnProperty("display")?I.display:null;v.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(X){Ae(S,S.return,X)}}}else if(t.tag===6){if(a===null){S=t;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(X){Ae(S,S.return,X)}}}else if(t.tag===18){if(a===null){S=t;try{var U=S.stateNode;u?wm(U,!0):wm(S.stateNode,!1)}catch(X){Ae(S,S.return,X)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(a=s.retryQueue,a!==null&&(s.retryQueue=null,Ms(e,a))));break;case 19:_t(t,e),bt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Ms(e,s)));break;case 30:break;case 21:break;default:_t(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{for(var a,s=e.return;s!==null;){if(Eh(s)){a=s;break}s=s.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var u=a.stateNode,d=su(e);Ds(e,d,u);break;case 5:var p=a.stateNode;a.flags&32&&($a(p,""),a.flags&=-33);var v=su(e);Ds(e,v,p);break;case 3:case 4:var S=a.stateNode.containerInfo,k=su(e);lu(e,k,S);break;default:throw Error(l(161))}}catch(q){Ae(e,e.return,q)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function jh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;jh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Tn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Ah(e,t.alternate,t),t=t.sibling}function xa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Gn(4,t,t.return),xa(t);break;case 1:ln(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&wh(t,t.return,a),xa(t);break;case 27:vr(t.stateNode);case 26:case 5:ln(t,t.return),xa(t);break;case 22:t.memoizedState===null&&xa(t);break;case 30:xa(t);break;default:xa(t)}e=e.sibling}}function xn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,u=e,d=t,p=d.flags;switch(d.tag){case 0:case 11:case 15:xn(u,d,a),or(4,d);break;case 1:if(xn(u,d,a),s=d,u=s.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(k){Ae(s,s.return,k)}if(s=d,u=s.updateQueue,u!==null){var v=s.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)uf(S[u],v)}catch(k){Ae(s,s.return,k)}}a&&p&64&&bh(d),ur(d,d.return);break;case 27:Th(d);case 26:case 5:xn(u,d,a),a&&s===null&&p&4&&Sh(d),ur(d,d.return);break;case 12:xn(u,d,a);break;case 31:xn(u,d,a),a&&p&4&&Rh(u,d);break;case 13:xn(u,d,a),a&&p&4&&kh(u,d);break;case 22:d.memoizedState===null&&xn(u,d,a),ur(d,d.return);break;case 30:break;default:xn(u,d,a)}t=t.sibling}}function uu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Qi(a))}function cu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qi(e))}function Wt(e,t,a,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Dh(e,t,a,s),t=t.sibling}function Dh(e,t,a,s){var u=t.flags;switch(t.tag){case 0:case 11:case 15:Wt(e,t,a,s),u&2048&&or(9,t);break;case 1:Wt(e,t,a,s);break;case 3:Wt(e,t,a,s),u&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Qi(e)));break;case 12:if(u&2048){Wt(e,t,a,s),e=t.stateNode;try{var d=t.memoizedProps,p=d.id,v=d.onPostCommit;typeof v=="function"&&v(p,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(S){Ae(t,t.return,S)}}else Wt(e,t,a,s);break;case 31:Wt(e,t,a,s);break;case 13:Wt(e,t,a,s);break;case 23:break;case 22:d=t.stateNode,p=t.alternate,t.memoizedState!==null?d._visibility&2?Wt(e,t,a,s):cr(e,t):d._visibility&2?Wt(e,t,a,s):(d._visibility|=2,si(e,t,a,s,(t.subtreeFlags&10256)!==0||!1)),u&2048&&uu(p,t);break;case 24:Wt(e,t,a,s),u&2048&&cu(t.alternate,t);break;default:Wt(e,t,a,s)}}function si(e,t,a,s,u){for(u=u&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var d=e,p=t,v=a,S=s,k=p.flags;switch(p.tag){case 0:case 11:case 15:si(d,p,v,S,u),or(8,p);break;case 23:break;case 22:var q=p.stateNode;p.memoizedState!==null?q._visibility&2?si(d,p,v,S,u):cr(d,p):(q._visibility|=2,si(d,p,v,S,u)),u&&k&2048&&uu(p.alternate,p);break;case 24:si(d,p,v,S,u),u&&k&2048&&cu(p.alternate,p);break;default:si(d,p,v,S,u)}t=t.sibling}}function cr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,s=t,u=s.flags;switch(s.tag){case 22:cr(a,s),u&2048&&uu(s.alternate,s);break;case 24:cr(a,s),u&2048&&cu(s.alternate,s);break;default:cr(a,s)}t=t.sibling}}var dr=8192;function li(e,t,a){if(e.subtreeFlags&dr)for(e=e.child;e!==null;)Mh(e,t,a),e=e.sibling}function Mh(e,t,a){switch(e.tag){case 26:li(e,t,a),e.flags&dr&&e.memoizedState!==null&&a0(a,Zt,e.memoizedState,e.memoizedProps);break;case 5:li(e,t,a);break;case 3:case 4:var s=Zt;Zt=Js(e.stateNode.containerInfo),li(e,t,a),Zt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=dr,dr=16777216,li(e,t,a),dr=s):li(e,t,a));break;default:li(e,t,a)}}function Uh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function fr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,Lh(s,e)}Uh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)zh(e),e=e.sibling}function zh(e){switch(e.tag){case 0:case 11:case 15:fr(e),e.flags&2048&&Gn(9,e,e.return);break;case 3:fr(e);break;case 12:fr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Us(e)):fr(e);break;default:fr(e)}}function Us(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var s=t[a];tt=s,Lh(s,e)}Uh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Gn(8,t,t.return),Us(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Us(t));break;default:Us(t)}e=e.sibling}}function Lh(e,t){for(;tt!==null;){var a=tt;switch(a.tag){case 0:case 11:case 15:Gn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var s=a.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Qi(a.memoizedState.cache)}if(s=a.child,s!==null)s.return=a,tt=s;else e:for(a=e;tt!==null;){s=tt;var u=s.sibling,d=s.return;if(Oh(s),s===a){tt=null;break e}if(u!==null){u.return=d,tt=u;break e}tt=d}}}var vv={getCacheForType:function(e){var t=it(Ge),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return it(Ge).controller.signal}},_v=typeof WeakMap=="function"?WeakMap:Map,Ee=0,je=null,pe=null,ye=0,xe=0,Nt=null,Kn=!1,oi=!1,du=!1,An=0,$e=0,Yn=0,Aa=0,fu=0,jt=0,ui=0,hr=null,wt=null,hu=!1,zs=0,qh=0,Ls=1/0,qs=null,Jn=null,Ze=0,Qn=null,ci=null,On=0,mu=0,pu=null,Bh=null,mr=0,gu=null;function Dt(){return(Ee&2)!==0&&ye!==0?ye&-ye:$.T!==null?Su():ed()}function $h(){if(jt===0)if((ye&536870912)===0||_e){var e=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),jt=e}else jt=536870912;return e=Rt.current,e!==null&&(e.flags|=32),jt}function St(e,t,a){(e===je&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(di(e,0),Xn(e,ye,jt,!1)),Ui(e,a),((Ee&2)===0||e!==je)&&(e===je&&((Ee&2)===0&&(Aa|=a),$e===4&&Xn(e,ye,jt,!1)),on(e))}function Hh(e,t,a){if((Ee&6)!==0)throw Error(l(327));var s=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Mi(e,t),u=s?Sv(e,t):vu(e,t,!0),d=s;do{if(u===0){oi&&!s&&Xn(e,t,0,!1);break}else{if(a=e.current.alternate,d&&!bv(a)){u=vu(e,t,!1),d=!1;continue}if(u===2){if(d=t,e.errorRecoveryDisabledLanes&d)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){t=p;e:{var v=e;u=hr;var S=v.current.memoizedState.isDehydrated;if(S&&(di(v,p).flags|=256),p=vu(v,p,!1),p!==2){if(du&&!S){v.errorRecoveryDisabledLanes|=d,Aa|=d,u=4;break e}d=wt,wt=u,d!==null&&(wt===null?wt=d:wt.push.apply(wt,d))}u=p}if(d=!1,u!==2)continue}}if(u===1){di(e,0),Xn(e,t,0,!0);break}e:{switch(s=e,d=u,d){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Xn(s,t,jt,!Kn);break e;case 2:wt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(u=zs+300-Tt(),10<u)){if(Xn(s,t,jt,!Kn),Jr(s,0,!0)!==0)break e;On=t,s.timeoutHandle=vm(Ih.bind(null,s,a,wt,qs,hu,t,jt,Aa,ui,Kn,d,"Throttled",-0,0),u);break e}Ih(s,a,wt,qs,hu,t,jt,Aa,ui,Kn,d,null,-0,0)}}break}while(!0);on(e)}function Ih(e,t,a,s,u,d,p,v,S,k,q,I,j,U){if(e.timeoutHandle=-1,I=t.subtreeFlags,I&8192||(I&16785408)===16785408){I={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:fn},Mh(t,d,I);var X=(d&62914560)===d?zs-Tt():(d&4194048)===d?qh-Tt():0;if(X=i0(I,X),X!==null){On=d,e.cancelPendingCommit=X(Xh.bind(null,e,t,d,a,s,u,p,v,S,q,I,null,j,U)),Xn(e,d,p,!k);return}}Xh(e,t,d,a,s,u,p,v,S)}function bv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var s=0;s<a.length;s++){var u=a[s],d=u.getSnapshot;u=u.value;try{if(!Ot(d(),u))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t,a,s){t&=~fu,t&=~Aa,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var u=t;0<u;){var d=31-At(u),p=1<<d;s[d]=-1,u&=~p}a!==0&&Zc(e,a,t)}function Bs(){return(Ee&6)===0?(pr(0),!1):!0}function yu(){if(pe!==null){if(xe===0)var e=pe.return;else e=pe,gn=ya=null,Do(e),ti=null,Zi=0,e=pe;for(;e!==null;)_h(e.alternate,e),e=e.return;pe=null}}function di(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,$v(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),On=0,yu(),je=e,pe=a=mn(e.current,null),ye=t,xe=0,Nt=null,Kn=!1,oi=Mi(e,t),du=!1,ui=jt=fu=Aa=Yn=$e=0,wt=hr=null,hu=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var u=31-At(s),d=1<<u;t|=e[u],s&=~d}return An=t,ss(),a}function Ph(e,t){de=null,$.H=rr,t===ei||t===ms?(t=rf(),xe=3):t===wo?(t=rf(),xe=4):xe=t===Qo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Nt=t,pe===null&&($e=1,Cs(e,It(t,e.current)))}function Vh(){var e=Rt.current;return e===null?!0:(ye&4194048)===ye?Kt===null:(ye&62914560)===ye||(ye&536870912)!==0?e===Kt:!1}function Gh(){var e=$.H;return $.H=rr,e===null?rr:e}function Kh(){var e=$.A;return $.A=vv,e}function $s(){$e=4,Kn||(ye&4194048)!==ye&&Rt.current!==null||(oi=!0),(Yn&134217727)===0&&(Aa&134217727)===0||je===null||Xn(je,ye,jt,!1)}function vu(e,t,a){var s=Ee;Ee|=2;var u=Gh(),d=Kh();(je!==e||ye!==t)&&(qs=null,di(e,t)),t=!1;var p=$e;e:do try{if(xe!==0&&pe!==null){var v=pe,S=Nt;switch(xe){case 8:yu(),p=6;break e;case 3:case 2:case 9:case 6:Rt.current===null&&(t=!0);var k=xe;if(xe=0,Nt=null,fi(e,v,S,k),a&&oi){p=0;break e}break;default:k=xe,xe=0,Nt=null,fi(e,v,S,k)}}wv(),p=$e;break}catch(q){Ph(e,q)}while(!0);return t&&e.shellSuspendCounter++,gn=ya=null,Ee=s,$.H=u,$.A=d,pe===null&&(je=null,ye=0,ss()),p}function wv(){for(;pe!==null;)Yh(pe)}function Sv(e,t){var a=Ee;Ee|=2;var s=Gh(),u=Kh();je!==e||ye!==t?(qs=null,Ls=Tt()+500,di(e,t)):oi=Mi(e,t);e:do try{if(xe!==0&&pe!==null){t=pe;var d=Nt;t:switch(xe){case 1:xe=0,Nt=null,fi(e,t,d,1);break;case 2:case 9:if(nf(d)){xe=0,Nt=null,Jh(t);break}t=function(){xe!==2&&xe!==9||je!==e||(xe=7),on(e)},d.then(t,t);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:nf(d)?(xe=0,Nt=null,Jh(t)):(xe=0,Nt=null,fi(e,t,d,7));break;case 5:var p=null;switch(pe.tag){case 26:p=pe.memoizedState;case 5:case 27:var v=pe;if(p?Dm(p):v.stateNode.complete){xe=0,Nt=null;var S=v.sibling;if(S!==null)pe=S;else{var k=v.return;k!==null?(pe=k,Hs(k)):pe=null}break t}}xe=0,Nt=null,fi(e,t,d,5);break;case 6:xe=0,Nt=null,fi(e,t,d,6);break;case 8:yu(),$e=6;break e;default:throw Error(l(462))}}Ev();break}catch(q){Ph(e,q)}while(!0);return gn=ya=null,$.H=s,$.A=u,Ee=a,pe!==null?0:(je=null,ye=0,ss(),$e)}function Ev(){for(;pe!==null&&!Kg();)Yh(pe)}function Yh(e){var t=yh(e.alternate,e,An);e.memoizedProps=e.pendingProps,t===null?Hs(e):pe=t}function Jh(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=dh(a,t,t.pendingProps,t.type,void 0,ye);break;case 11:t=dh(a,t,t.pendingProps,t.type.render,t.ref,ye);break;case 5:Do(t);default:_h(a,t),t=pe=Gd(t,An),t=yh(a,t,An)}e.memoizedProps=e.pendingProps,t===null?Hs(e):pe=t}function fi(e,t,a,s){gn=ya=null,Do(t),ti=null,Zi=0;var u=t.return;try{if(dv(e,u,t,a,ye)){$e=1,Cs(e,It(a,e.current)),pe=null;return}}catch(d){if(u!==null)throw pe=u,d;$e=1,Cs(e,It(a,e.current)),pe=null;return}t.flags&32768?(_e||s===1?e=!0:oi||(ye&536870912)!==0?e=!1:(Kn=e=!0,(s===2||s===9||s===3||s===6)&&(s=Rt.current,s!==null&&s.tag===13&&(s.flags|=16384))),Qh(t,e)):Hs(t)}function Hs(e){var t=e;do{if((t.flags&32768)!==0){Qh(t,Kn);return}e=t.return;var a=mv(t.alternate,t,An);if(a!==null){pe=a;return}if(t=t.sibling,t!==null){pe=t;return}pe=t=e}while(t!==null);$e===0&&($e=5)}function Qh(e,t){do{var a=pv(e.alternate,e);if(a!==null){a.flags&=32767,pe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){pe=e;return}pe=e=a}while(e!==null);$e=6,pe=null}function Xh(e,t,a,s,u,d,p,v,S){e.cancelPendingCommit=null;do Is();while(Ze!==0);if((Ee&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(d=t.lanes|t.childLanes,d|=ro,ny(e,a,d,p,v,S),e===je&&(pe=je=null,ye=0),ci=t,Qn=e,On=a,mu=d,pu=u,Bh=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Ov(Vr,function(){return tm(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=$.T,$.T=null,u=K.p,K.p=2,p=Ee,Ee|=4;try{gv(e,t,a)}finally{Ee=p,K.p=u,$.T=s}}Ze=1,Zh(),Wh(),Fh()}}function Zh(){if(Ze===1){Ze=0;var e=Qn,t=ci,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=$.T,$.T=null;var s=K.p;K.p=2;var u=Ee;Ee|=4;try{Nh(t,e);var d=ku,p=zd(e.containerInfo),v=d.focusedElem,S=d.selectionRange;if(p!==v&&v&&v.ownerDocument&&Ud(v.ownerDocument.documentElement,v)){if(S!==null&&eo(v)){var k=S.start,q=S.end;if(q===void 0&&(q=k),"selectionStart"in v)v.selectionStart=k,v.selectionEnd=Math.min(q,v.value.length);else{var I=v.ownerDocument||document,j=I&&I.defaultView||window;if(j.getSelection){var U=j.getSelection(),X=v.textContent.length,ie=Math.min(S.start,X),ke=S.end===void 0?ie:Math.min(S.end,X);!U.extend&&ie>ke&&(p=ke,ke=ie,ie=p);var C=Md(v,ie),x=Md(v,ke);if(C&&x&&(U.rangeCount!==1||U.anchorNode!==C.node||U.anchorOffset!==C.offset||U.focusNode!==x.node||U.focusOffset!==x.offset)){var R=I.createRange();R.setStart(C.node,C.offset),U.removeAllRanges(),ie>ke?(U.addRange(R),U.extend(x.node,x.offset)):(R.setEnd(x.node,x.offset),U.addRange(R))}}}}for(I=[],U=v;U=U.parentNode;)U.nodeType===1&&I.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<I.length;v++){var H=I[v];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}el=!!Ru,ku=Ru=null}finally{Ee=u,K.p=s,$.T=a}}e.current=t,Ze=2}}function Wh(){if(Ze===2){Ze=0;var e=Qn,t=ci,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=$.T,$.T=null;var s=K.p;K.p=2;var u=Ee;Ee|=4;try{Ah(e,t.alternate,t)}finally{Ee=u,K.p=s,$.T=a}}Ze=3}}function Fh(){if(Ze===4||Ze===3){Ze=0,Yg();var e=Qn,t=ci,a=On,s=Bh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ze=5:(Ze=0,ci=Qn=null,em(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Jn=null),Ul(a),t=t.stateNode,xt&&typeof xt.onCommitFiberRoot=="function")try{xt.onCommitFiberRoot(Di,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=$.T,u=K.p,K.p=2,$.T=null;try{for(var d=e.onRecoverableError,p=0;p<s.length;p++){var v=s[p];d(v.value,{componentStack:v.stack})}}finally{$.T=t,K.p=u}}(On&3)!==0&&Is(),on(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===gu?mr++:(mr=0,gu=e):mr=0,pr(0)}}function em(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Qi(t)))}function Is(){return Zh(),Wh(),Fh(),tm()}function tm(){if(Ze!==5)return!1;var e=Qn,t=mu;mu=0;var a=Ul(On),s=$.T,u=K.p;try{K.p=32>a?32:a,$.T=null,a=pu,pu=null;var d=Qn,p=On;if(Ze=0,ci=Qn=null,On=0,(Ee&6)!==0)throw Error(l(331));var v=Ee;if(Ee|=4,zh(d.current),Dh(d,d.current,p,a),Ee=v,pr(0,!1),xt&&typeof xt.onPostCommitFiberRoot=="function")try{xt.onPostCommitFiberRoot(Di,d)}catch{}return!0}finally{K.p=u,$.T=s,em(e,t)}}function nm(e,t,a){t=It(a,t),t=Jo(e.stateNode,t,2),e=In(e,t,2),e!==null&&(Ui(e,2),on(e))}function Ae(e,t,a){if(e.tag===3)nm(e,e,a);else for(;t!==null;){if(t.tag===3){nm(t,e,a);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Jn===null||!Jn.has(s))){e=It(a,e),a=ah(2),s=In(t,a,2),s!==null&&(ih(a,s,t,e),Ui(s,2),on(s));break}}t=t.return}}function _u(e,t,a){var s=e.pingCache;if(s===null){s=e.pingCache=new _v;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(a)||(du=!0,u.add(a),e=Tv.bind(null,e,t,a),t.then(e,e))}function Tv(e,t,a){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,je===e&&(ye&a)===a&&($e===4||$e===3&&(ye&62914560)===ye&&300>Tt()-zs?(Ee&2)===0&&di(e,0):fu|=a,ui===ye&&(ui=0)),on(e)}function am(e,t){t===0&&(t=Xc()),e=ma(e,t),e!==null&&(Ui(e,t),on(e))}function xv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),am(e,a)}function Av(e,t){var a=0;switch(e.tag){case 31:case 13:var s=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),am(e,a)}function Ov(e,t){return Nl(e,t)}var Ps=null,hi=null,bu=!1,Vs=!1,wu=!1,Zn=0;function on(e){e!==hi&&e.next===null&&(hi===null?Ps=hi=e:hi=hi.next=e),Vs=!0,bu||(bu=!0,Rv())}function pr(e,t){if(!wu&&Vs){wu=!0;do for(var a=!1,s=Ps;s!==null;){if(e!==0){var u=s.pendingLanes;if(u===0)var d=0;else{var p=s.suspendedLanes,v=s.pingedLanes;d=(1<<31-At(42|e)+1)-1,d&=u&~(p&~v),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,lm(s,d))}else d=ye,d=Jr(s,s===je?d:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(d&3)===0||Mi(s,d)||(a=!0,lm(s,d));s=s.next}while(a);wu=!1}}function Cv(){im()}function im(){Vs=bu=!1;var e=0;Zn!==0&&Bv()&&(e=Zn);for(var t=Tt(),a=null,s=Ps;s!==null;){var u=s.next,d=rm(s,t);d===0?(s.next=null,a===null?Ps=u:a.next=u,u===null&&(hi=a)):(a=s,(e!==0||(d&3)!==0)&&(Vs=!0)),s=u}Ze!==0&&Ze!==5||pr(e),Zn!==0&&(Zn=0)}function rm(e,t){for(var a=e.suspendedLanes,s=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var p=31-At(d),v=1<<p,S=u[p];S===-1?((v&a)===0||(v&s)!==0)&&(u[p]=ty(v,t)):S<=t&&(e.expiredLanes|=v),d&=~v}if(t=je,a=ye,a=Jr(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,a===0||e===t&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&jl(s),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Mi(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(s!==null&&jl(s),Ul(a)){case 2:case 8:a=Jc;break;case 32:a=Vr;break;case 268435456:a=Qc;break;default:a=Vr}return s=sm.bind(null,e),a=Nl(a,s),e.callbackPriority=t,e.callbackNode=a,t}return s!==null&&s!==null&&jl(s),e.callbackPriority=2,e.callbackNode=null,2}function sm(e,t){if(Ze!==0&&Ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Is()&&e.callbackNode!==a)return null;var s=ye;return s=Jr(e,e===je?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Hh(e,s,t),rm(e,Tt()),e.callbackNode!=null&&e.callbackNode===a?sm.bind(null,e):null)}function lm(e,t){if(Is())return null;Hh(e,t,!0)}function Rv(){Hv(function(){(Ee&6)!==0?Nl(Yc,Cv):im()})}function Su(){if(Zn===0){var e=Wa;e===0&&(e=Gr,Gr<<=1,(Gr&261888)===0&&(Gr=256)),Zn=e}return Zn}function om(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Wr(""+e)}function um(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function kv(e,t,a,s,u){if(t==="submit"&&a&&a.stateNode===u){var d=om((u[gt]||null).action),p=s.submitter;p&&(t=(t=p[gt]||null)?om(t.formAction):p.getAttribute("formAction"),t!==null&&(d=t,p=null));var v=new ns("action","action",null,s,u);e.push({event:v,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Zn!==0){var S=p?um(u,p):new FormData(u);Io(a,{pending:!0,data:S,method:u.method,action:d},null,S)}}else typeof d=="function"&&(v.preventDefault(),S=p?um(u,p):new FormData(u),Io(a,{pending:!0,data:S,method:u.method,action:d},d,S))},currentTarget:u}]})}}for(var Eu=0;Eu<io.length;Eu++){var Tu=io[Eu],Nv=Tu.toLowerCase(),jv=Tu[0].toUpperCase()+Tu.slice(1);Xt(Nv,"on"+jv)}Xt(Bd,"onAnimationEnd"),Xt($d,"onAnimationIteration"),Xt(Hd,"onAnimationStart"),Xt("dblclick","onDoubleClick"),Xt("focusin","onFocus"),Xt("focusout","onBlur"),Xt(Jy,"onTransitionRun"),Xt(Qy,"onTransitionStart"),Xt(Xy,"onTransitionCancel"),Xt(Id,"onTransitionEnd"),qa("onMouseEnter",["mouseout","mouseover"]),qa("onMouseLeave",["mouseout","mouseover"]),qa("onPointerEnter",["pointerout","pointerover"]),qa("onPointerLeave",["pointerout","pointerover"]),ca("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ca("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ca("onBeforeInput",["compositionend","keypress","textInput","paste"]),ca("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ca("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gr));function cm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var s=e[a],u=s.event;s=s.listeners;e:{var d=void 0;if(t)for(var p=s.length-1;0<=p;p--){var v=s[p],S=v.instance,k=v.currentTarget;if(v=v.listener,S!==d&&u.isPropagationStopped())break e;d=v,u.currentTarget=k;try{d(u)}catch(q){rs(q)}u.currentTarget=null,d=S}else for(p=0;p<s.length;p++){if(v=s[p],S=v.instance,k=v.currentTarget,v=v.listener,S!==d&&u.isPropagationStopped())break e;d=v,u.currentTarget=k;try{d(u)}catch(q){rs(q)}u.currentTarget=null,d=S}}}}function ge(e,t){var a=t[zl];a===void 0&&(a=t[zl]=new Set);var s=e+"__bubble";a.has(s)||(dm(t,e,2,!1),a.add(s))}function xu(e,t,a){var s=0;t&&(s|=4),dm(a,e,s,t)}var Gs="_reactListening"+Math.random().toString(36).slice(2);function Au(e){if(!e[Gs]){e[Gs]=!0,ad.forEach(function(a){a!=="selectionchange"&&(Dv.has(a)||xu(a,!1,e),xu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gs]||(t[Gs]=!0,xu("selectionchange",!1,t))}}function dm(e,t,a,s){switch($m(t)){case 2:var u=l0;break;case 8:u=o0;break;default:u=Hu}a=u.bind(null,t,a,e),u=void 0,!Gl||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?e.addEventListener(t,a,{capture:!0,passive:u}):e.addEventListener(t,a,!0):u!==void 0?e.addEventListener(t,a,{passive:u}):e.addEventListener(t,a,!1)}function Ou(e,t,a,s,u){var d=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var v=s.stateNode.containerInfo;if(v===u)break;if(p===4)for(p=s.return;p!==null;){var S=p.tag;if((S===3||S===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;v!==null;){if(p=Ua(v),p===null)return;if(S=p.tag,S===5||S===6||S===26||S===27){s=d=p;continue e}v=v.parentNode}}s=s.return}pd(function(){var k=d,q=Pl(a),I=[];e:{var j=Pd.get(e);if(j!==void 0){var U=ns,X=e;switch(e){case"keypress":if(es(a)===0)break e;case"keydown":case"keyup":U=Ay;break;case"focusin":X="focus",U=Ql;break;case"focusout":X="blur",U=Ql;break;case"beforeblur":case"afterblur":U=Ql;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=vd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=my;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Ry;break;case Bd:case $d:case Hd:U=yy;break;case Id:U=Ny;break;case"scroll":case"scrollend":U=fy;break;case"wheel":U=Dy;break;case"copy":case"cut":case"paste":U=_y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=bd;break;case"toggle":case"beforetoggle":U=Uy}var ie=(t&4)!==0,ke=!ie&&(e==="scroll"||e==="scrollend"),C=ie?j!==null?j+"Capture":null:j;ie=[];for(var x=k,R;x!==null;){var H=x;if(R=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||R===null||C===null||(H=qi(x,C),H!=null&&ie.push(yr(x,H,R))),ke)break;x=x.return}0<ie.length&&(j=new U(j,X,null,a,q),I.push({event:j,listeners:ie}))}}if((t&7)===0){e:{if(j=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",j&&a!==Il&&(X=a.relatedTarget||a.fromElement)&&(Ua(X)||X[Ma]))break e;if((U||j)&&(j=q.window===q?q:(j=q.ownerDocument)?j.defaultView||j.parentWindow:window,U?(X=a.relatedTarget||a.toElement,U=k,X=X?Ua(X):null,X!==null&&(ke=c(X),ie=X.tag,X!==ke||ie!==5&&ie!==27&&ie!==6)&&(X=null)):(U=null,X=k),U!==X)){if(ie=vd,H="onMouseLeave",C="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ie=bd,H="onPointerLeave",C="onPointerEnter",x="pointer"),ke=U==null?j:Li(U),R=X==null?j:Li(X),j=new ie(H,x+"leave",U,a,q),j.target=ke,j.relatedTarget=R,H=null,Ua(q)===k&&(ie=new ie(C,x+"enter",X,a,q),ie.target=R,ie.relatedTarget=ke,H=ie),ke=H,U&&X)t:{for(ie=Mv,C=U,x=X,R=0,H=C;H;H=ie(H))R++;H=0;for(var ne=x;ne;ne=ie(ne))H++;for(;0<R-H;)C=ie(C),R--;for(;0<H-R;)x=ie(x),H--;for(;R--;){if(C===x||x!==null&&C===x.alternate){ie=C;break t}C=ie(C),x=ie(x)}ie=null}else ie=null;U!==null&&fm(I,j,U,ie,!1),X!==null&&ke!==null&&fm(I,ke,X,ie,!0)}}e:{if(j=k?Li(k):window,U=j.nodeName&&j.nodeName.toLowerCase(),U==="select"||U==="input"&&j.type==="file")var be=Cd;else if(Ad(j))if(Rd)be=Gy;else{be=Py;var F=Iy}else U=j.nodeName,!U||U.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?k&&Hl(k.elementType)&&(be=Cd):be=Vy;if(be&&(be=be(e,k))){Od(I,be,a,q);break e}F&&F(e,j,k),e==="focusout"&&k&&j.type==="number"&&k.memoizedProps.value!=null&&$l(j,"number",j.value)}switch(F=k?Li(k):window,e){case"focusin":(Ad(F)||F.contentEditable==="true")&&(Va=F,to=k,Ki=null);break;case"focusout":Ki=to=Va=null;break;case"mousedown":no=!0;break;case"contextmenu":case"mouseup":case"dragend":no=!1,Ld(I,a,q);break;case"selectionchange":if(Yy)break;case"keydown":case"keyup":Ld(I,a,q)}var fe;if(Zl)e:{switch(e){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Pa?Td(e,a)&&(ve="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(wd&&a.locale!=="ko"&&(Pa||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Pa&&(fe=gd()):(Un=q,Kl="value"in Un?Un.value:Un.textContent,Pa=!0)),F=Ks(k,ve),0<F.length&&(ve=new _d(ve,e,null,a,q),I.push({event:ve,listeners:F}),fe?ve.data=fe:(fe=xd(a),fe!==null&&(ve.data=fe)))),(fe=Ly?qy(e,a):By(e,a))&&(ve=Ks(k,"onBeforeInput"),0<ve.length&&(F=new _d("onBeforeInput","beforeinput",null,a,q),I.push({event:F,listeners:ve}),F.data=fe)),kv(I,e,k,a,q)}cm(I,t)})}function yr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Ks(e,t){for(var a=t+"Capture",s=[];e!==null;){var u=e,d=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||d===null||(u=qi(e,a),u!=null&&s.unshift(yr(e,u,d)),u=qi(e,t),u!=null&&s.push(yr(e,u,d))),e.tag===3)return s;e=e.return}return[]}function Mv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function fm(e,t,a,s,u){for(var d=t._reactName,p=[];a!==null&&a!==s;){var v=a,S=v.alternate,k=v.stateNode;if(v=v.tag,S!==null&&S===s)break;v!==5&&v!==26&&v!==27||k===null||(S=k,u?(k=qi(a,d),k!=null&&p.unshift(yr(a,k,S))):u||(k=qi(a,d),k!=null&&p.push(yr(a,k,S)))),a=a.return}p.length!==0&&e.push({event:t,listeners:p})}var Uv=/\r\n?/g,zv=/\u0000|\uFFFD/g;function hm(e){return(typeof e=="string"?e:""+e).replace(Uv,`
`).replace(zv,"")}function mm(e,t){return t=hm(t),hm(e)===t}function Re(e,t,a,s,u,d){switch(a){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||$a(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&$a(e,""+s);break;case"className":Xr(e,"class",s);break;case"tabIndex":Xr(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(e,a,s);break;case"style":hd(e,s,d);break;case"data":if(t!=="object"){Xr(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Wr(""+s),e.setAttribute(a,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(t!=="input"&&Re(e,t,"name",u.name,u,null),Re(e,t,"formEncType",u.formEncType,u,null),Re(e,t,"formMethod",u.formMethod,u,null),Re(e,t,"formTarget",u.formTarget,u,null)):(Re(e,t,"encType",u.encType,u,null),Re(e,t,"method",u.method,u,null),Re(e,t,"target",u.target,u,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(a);break}s=Wr(""+s),e.setAttribute(a,s);break;case"onClick":s!=null&&(e.onclick=fn);break;case"onScroll":s!=null&&ge("scroll",e);break;case"onScrollEnd":s!=null&&ge("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}a=Wr(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""+s):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":s===!0?e.setAttribute(a,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(a,s):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(a,s):e.removeAttribute(a);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(a):e.setAttribute(a,s);break;case"popover":ge("beforetoggle",e),ge("toggle",e),Qr(e,"popover",s);break;case"xlinkActuate":dn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":dn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":dn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":dn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":dn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":dn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":dn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":dn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":dn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Qr(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cy.get(a)||a,Qr(e,a,s))}}function Cu(e,t,a,s,u,d){switch(a){case"style":hd(e,s,d);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(a=s.__html,a!=null){if(u.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof s=="string"?$a(e,s):(typeof s=="number"||typeof s=="bigint")&&$a(e,""+s);break;case"onScroll":s!=null&&ge("scroll",e);break;case"onScrollEnd":s!=null&&ge("scrollend",e);break;case"onClick":s!=null&&(e.onclick=fn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!id.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),t=a.slice(2,u?a.length-7:void 0),d=e[gt]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(t,d,u),typeof s=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,s,u);break e}a in e?e[a]=s:s===!0?e.setAttribute(a,""):Qr(e,a,s)}}}function st(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ge("error",e),ge("load",e);var s=!1,u=!1,d;for(d in a)if(a.hasOwnProperty(d)){var p=a[d];if(p!=null)switch(d){case"src":s=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Re(e,t,d,p,a,null)}}u&&Re(e,t,"srcSet",a.srcSet,a,null),s&&Re(e,t,"src",a.src,a,null);return;case"input":ge("invalid",e);var v=d=p=u=null,S=null,k=null;for(s in a)if(a.hasOwnProperty(s)){var q=a[s];if(q!=null)switch(s){case"name":u=q;break;case"type":p=q;break;case"checked":S=q;break;case"defaultChecked":k=q;break;case"value":d=q;break;case"defaultValue":v=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(l(137,t));break;default:Re(e,t,s,q,a,null)}}ud(e,d,v,S,k,p,u,!1);return;case"select":ge("invalid",e),s=p=d=null;for(u in a)if(a.hasOwnProperty(u)&&(v=a[u],v!=null))switch(u){case"value":d=v;break;case"defaultValue":p=v;break;case"multiple":s=v;default:Re(e,t,u,v,a,null)}t=d,a=p,e.multiple=!!s,t!=null?Ba(e,!!s,t,!1):a!=null&&Ba(e,!!s,a,!0);return;case"textarea":ge("invalid",e),d=u=s=null;for(p in a)if(a.hasOwnProperty(p)&&(v=a[p],v!=null))switch(p){case"value":s=v;break;case"defaultValue":u=v;break;case"children":d=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:Re(e,t,p,v,a,null)}dd(e,s,u,d);return;case"option":for(S in a)a.hasOwnProperty(S)&&(s=a[S],s!=null)&&(S==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Re(e,t,S,s,a,null));return;case"dialog":ge("beforetoggle",e),ge("toggle",e),ge("cancel",e),ge("close",e);break;case"iframe":case"object":ge("load",e);break;case"video":case"audio":for(s=0;s<gr.length;s++)ge(gr[s],e);break;case"image":ge("error",e),ge("load",e);break;case"details":ge("toggle",e);break;case"embed":case"source":case"link":ge("error",e),ge("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(s=a[k],s!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:Re(e,t,k,s,a,null)}return;default:if(Hl(t)){for(q in a)a.hasOwnProperty(q)&&(s=a[q],s!==void 0&&Cu(e,t,q,s,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(s=a[v],s!=null&&Re(e,t,v,s,a,null))}function Lv(e,t,a,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,d=null,p=null,v=null,S=null,k=null,q=null;for(U in a){var I=a[U];if(a.hasOwnProperty(U)&&I!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":S=I;default:s.hasOwnProperty(U)||Re(e,t,U,null,s,I)}}for(var j in s){var U=s[j];if(I=a[j],s.hasOwnProperty(j)&&(U!=null||I!=null))switch(j){case"type":d=U;break;case"name":u=U;break;case"checked":k=U;break;case"defaultChecked":q=U;break;case"value":p=U;break;case"defaultValue":v=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:U!==I&&Re(e,t,j,U,s,I)}}Bl(e,p,v,S,k,q,d,u);return;case"select":U=p=v=j=null;for(d in a)if(S=a[d],a.hasOwnProperty(d)&&S!=null)switch(d){case"value":break;case"multiple":U=S;default:s.hasOwnProperty(d)||Re(e,t,d,null,s,S)}for(u in s)if(d=s[u],S=a[u],s.hasOwnProperty(u)&&(d!=null||S!=null))switch(u){case"value":j=d;break;case"defaultValue":v=d;break;case"multiple":p=d;default:d!==S&&Re(e,t,u,d,s,S)}t=v,a=p,s=U,j!=null?Ba(e,!!a,j,!1):!!s!=!!a&&(t!=null?Ba(e,!!a,t,!0):Ba(e,!!a,a?[]:"",!1));return;case"textarea":U=j=null;for(v in a)if(u=a[v],a.hasOwnProperty(v)&&u!=null&&!s.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Re(e,t,v,null,s,u)}for(p in s)if(u=s[p],d=a[p],s.hasOwnProperty(p)&&(u!=null||d!=null))switch(p){case"value":j=u;break;case"defaultValue":U=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(l(91));break;default:u!==d&&Re(e,t,p,u,s,d)}cd(e,j,U);return;case"option":for(var X in a)j=a[X],a.hasOwnProperty(X)&&j!=null&&!s.hasOwnProperty(X)&&(X==="selected"?e.selected=!1:Re(e,t,X,null,s,j));for(S in s)j=s[S],U=a[S],s.hasOwnProperty(S)&&j!==U&&(j!=null||U!=null)&&(S==="selected"?e.selected=j&&typeof j!="function"&&typeof j!="symbol":Re(e,t,S,j,s,U));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in a)j=a[ie],a.hasOwnProperty(ie)&&j!=null&&!s.hasOwnProperty(ie)&&Re(e,t,ie,null,s,j);for(k in s)if(j=s[k],U=a[k],s.hasOwnProperty(k)&&j!==U&&(j!=null||U!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(l(137,t));break;default:Re(e,t,k,j,s,U)}return;default:if(Hl(t)){for(var ke in a)j=a[ke],a.hasOwnProperty(ke)&&j!==void 0&&!s.hasOwnProperty(ke)&&Cu(e,t,ke,void 0,s,j);for(q in s)j=s[q],U=a[q],!s.hasOwnProperty(q)||j===U||j===void 0&&U===void 0||Cu(e,t,q,j,s,U);return}}for(var C in a)j=a[C],a.hasOwnProperty(C)&&j!=null&&!s.hasOwnProperty(C)&&Re(e,t,C,null,s,j);for(I in s)j=s[I],U=a[I],!s.hasOwnProperty(I)||j===U||j==null&&U==null||Re(e,t,I,j,s,U)}function pm(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),s=0;s<a.length;s++){var u=a[s],d=u.transferSize,p=u.initiatorType,v=u.duration;if(d&&v&&pm(p)){for(p=0,v=u.responseEnd,s+=1;s<a.length;s++){var S=a[s],k=S.startTime;if(k>v)break;var q=S.transferSize,I=S.initiatorType;q&&pm(I)&&(S=S.responseEnd,p+=q*(S<v?1:(v-k)/(S-k)))}if(--s,t+=8*(d+p)/(u.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ru=null,ku=null;function Ys(e){return e.nodeType===9?e:e.ownerDocument}function gm(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ym(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ju=null;function Bv(){var e=window.event;return e&&e.type==="popstate"?e===ju?!1:(ju=e,!0):(ju=null,!1)}var vm=typeof setTimeout=="function"?setTimeout:void 0,$v=typeof clearTimeout=="function"?clearTimeout:void 0,_m=typeof Promise=="function"?Promise:void 0,Hv=typeof queueMicrotask=="function"?queueMicrotask:typeof _m<"u"?function(e){return _m.resolve(null).then(e).catch(Iv)}:vm;function Iv(e){setTimeout(function(){throw e})}function Wn(e){return e==="head"}function bm(e,t){var a=t,s=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(s===0){e.removeChild(u),yi(t);return}s--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")s++;else if(a==="html")vr(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,vr(a);for(var d=a.firstChild;d;){var p=d.nextSibling,v=d.nodeName;d[zi]||v==="SCRIPT"||v==="STYLE"||v==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=p}}else a==="body"&&vr(e.ownerDocument.body);a=u}while(a);yi(t)}function wm(e,t){var a=e;e=0;do{var s=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=s}while(a)}function Du(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Du(a),Ll(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Pv(e,t,a,s){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[zi])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var d=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Yt(e.nextSibling),e===null)break}return null}function Vv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Yt(e.nextSibling),e===null))return null;return e}function Sm(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Yt(e.nextSibling),e===null))return null;return e}function Mu(e){return e.data==="$?"||e.data==="$~"}function Uu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gv(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var s=function(){t(),a.removeEventListener("DOMContentLoaded",s)};a.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Yt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var zu=null;function Em(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return Yt(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function Tm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function xm(e,t,a){switch(t=Ys(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function vr(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ll(e)}var Jt=new Map,Am=new Set;function Js(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Cn=K.d;K.d={f:Kv,r:Yv,D:Jv,C:Qv,L:Xv,m:Zv,X:Fv,S:Wv,M:e0};function Kv(){var e=Cn.f(),t=Bs();return e||t}function Yv(e){var t=za(e);t!==null&&t.tag===5&&t.type==="form"?Pf(t):Cn.r(e)}var mi=typeof document>"u"?null:document;function Om(e,t,a){var s=mi;if(s&&typeof t=="string"&&t){var u=$t(t);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Am.has(u)||(Am.add(u),e={rel:e,crossOrigin:a,href:t},s.querySelector(u)===null&&(t=s.createElement("link"),st(t,"link",e),et(t),s.head.appendChild(t)))}}function Jv(e){Cn.D(e),Om("dns-prefetch",e,null)}function Qv(e,t){Cn.C(e,t),Om("preconnect",e,t)}function Xv(e,t,a){Cn.L(e,t,a);var s=mi;if(s&&e&&t){var u='link[rel="preload"][as="'+$t(t)+'"]';t==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+$t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+$t(a.imageSizes)+'"]')):u+='[href="'+$t(e)+'"]';var d=u;switch(t){case"style":d=pi(e);break;case"script":d=gi(e)}Jt.has(d)||(e=_({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Jt.set(d,e),s.querySelector(u)!==null||t==="style"&&s.querySelector(_r(d))||t==="script"&&s.querySelector(br(d))||(t=s.createElement("link"),st(t,"link",e),et(t),s.head.appendChild(t)))}}function Zv(e,t){Cn.m(e,t);var a=mi;if(a&&e){var s=t&&typeof t.as=="string"?t.as:"script",u='link[rel="modulepreload"][as="'+$t(s)+'"][href="'+$t(e)+'"]',d=u;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=gi(e)}if(!Jt.has(d)&&(e=_({rel:"modulepreload",href:e},t),Jt.set(d,e),a.querySelector(u)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(br(d)))return}s=a.createElement("link"),st(s,"link",e),et(s),a.head.appendChild(s)}}}function Wv(e,t,a){Cn.S(e,t,a);var s=mi;if(s&&e){var u=La(s).hoistableStyles,d=pi(e);t=t||"default";var p=u.get(d);if(!p){var v={loading:0,preload:null};if(p=s.querySelector(_r(d)))v.loading=5;else{e=_({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Jt.get(d))&&Lu(e,a);var S=p=s.createElement("link");et(S),st(S,"link",e),S._p=new Promise(function(k,q){S.onload=k,S.onerror=q}),S.addEventListener("load",function(){v.loading|=1}),S.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Qs(p,t,s)}p={type:"stylesheet",instance:p,count:1,state:v},u.set(d,p)}}}function Fv(e,t){Cn.X(e,t);var a=mi;if(a&&e){var s=La(a).hoistableScripts,u=gi(e),d=s.get(u);d||(d=a.querySelector(br(u)),d||(e=_({src:e,async:!0},t),(t=Jt.get(u))&&qu(e,t),d=a.createElement("script"),et(d),st(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(u,d))}}function e0(e,t){Cn.M(e,t);var a=mi;if(a&&e){var s=La(a).hoistableScripts,u=gi(e),d=s.get(u);d||(d=a.querySelector(br(u)),d||(e=_({src:e,async:!0,type:"module"},t),(t=Jt.get(u))&&qu(e,t),d=a.createElement("script"),et(d),st(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},s.set(u,d))}}function Cm(e,t,a,s){var u=(u=me.current)?Js(u):null;if(!u)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=pi(a.href),a=La(u).hoistableStyles,s=a.get(t),s||(s={type:"style",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=pi(a.href);var d=La(u).hoistableStyles,p=d.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,p),(d=u.querySelector(_r(e)))&&!d._p&&(p.instance=d,p.state.loading=5),Jt.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Jt.set(e,a),d||t0(u,e,a,p.state))),t&&s===null)throw Error(l(528,""));return p}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=gi(a),a=La(u).hoistableScripts,s=a.get(t),s||(s={type:"script",instance:null,count:0,state:null},a.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function pi(e){return'href="'+$t(e)+'"'}function _r(e){return'link[rel="stylesheet"]['+e+"]"}function Rm(e){return _({},e,{"data-precedence":e.precedence,precedence:null})}function t0(e,t,a,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),st(t,"link",a),et(t),e.head.appendChild(t))}function gi(e){return'[src="'+$t(e)+'"]'}function br(e){return"script[async]"+e}function km(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+$t(a.href)+'"]');if(s)return t.instance=s,et(s),s;var u=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),et(s),st(s,"style",u),Qs(s,a.precedence,e),t.instance=s;case"stylesheet":u=pi(a.href);var d=e.querySelector(_r(u));if(d)return t.state.loading|=4,t.instance=d,et(d),d;s=Rm(a),(u=Jt.get(u))&&Lu(s,u),d=(e.ownerDocument||e).createElement("link"),et(d);var p=d;return p._p=new Promise(function(v,S){p.onload=v,p.onerror=S}),st(d,"link",s),t.state.loading|=4,Qs(d,a.precedence,e),t.instance=d;case"script":return d=gi(a.src),(u=e.querySelector(br(d)))?(t.instance=u,et(u),u):(s=a,(u=Jt.get(d))&&(s=_({},a),qu(s,u)),e=e.ownerDocument||e,u=e.createElement("script"),et(u),st(u,"link",s),e.head.appendChild(u),t.instance=u);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Qs(s,a.precedence,e));return t.instance}function Qs(e,t,a){for(var s=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=s.length?s[s.length-1]:null,d=u,p=0;p<s.length;p++){var v=s[p];if(v.dataset.precedence===t)d=v;else if(d!==u)break}d?d.parentNode.insertBefore(e,d.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Lu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function qu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xs=null;function Nm(e,t,a){if(Xs===null){var s=new Map,u=Xs=new Map;u.set(a,s)}else u=Xs,s=u.get(a),s||(s=new Map,u.set(a,s));if(s.has(e))return s;for(s.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var d=a[u];if(!(d[zi]||d[nt]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var p=d.getAttribute(t)||"";p=e+p;var v=s.get(p);v?v.push(d):s.set(p,[d])}}return s}function jm(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function n0(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Dm(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function a0(e,t,a,s){if(a.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=pi(s.href),d=t.querySelector(_r(u));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Zs.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=d,et(d);return}d=t.ownerDocument||t,s=Rm(s),(u=Jt.get(u))&&Lu(s,u),d=d.createElement("link"),et(d);var p=d;p._p=new Promise(function(v,S){p.onload=v,p.onerror=S}),st(d,"link",s),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Zs.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var Bu=0;function i0(e,t){return e.stylesheets&&e.count===0&&Fs(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var s=setTimeout(function(){if(e.stylesheets&&Fs(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+t);0<e.imgBytes&&Bu===0&&(Bu=62500*qv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fs(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Bu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(u)}}:null}function Zs(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fs(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ws=null;function Fs(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ws=new Map,t.forEach(r0,e),Ws=null,Zs.call(e))}function r0(e,t){if(!(t.state.loading&4)){var a=Ws.get(e);if(a)var s=a.get(null);else{a=new Map,Ws.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<u.length;d++){var p=u[d];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(a.set(p.dataset.precedence,p),s=p)}s&&a.set(null,s)}u=t.instance,p=u.getAttribute("data-precedence"),d=a.get(p)||s,d===s&&a.set(null,u),a.set(p,u),this.count++,s=Zs.bind(this),u.addEventListener("load",s),u.addEventListener("error",s),d?d.parentNode.insertBefore(u,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),t.state.loading|=4}}var wr={$$typeof:z,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function s0(e,t,a,s,u,d,p,v,S){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dl(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dl(0),this.hiddenUpdates=Dl(null),this.identifierPrefix=s,this.onUncaughtError=u,this.onCaughtError=d,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Mm(e,t,a,s,u,d,p,v,S,k,q,I){return e=new s0(e,t,a,p,S,k,q,I,v),t=1,d===!0&&(t|=24),d=Ct(3,null,null,t),e.current=d,d.stateNode=e,t=vo(),t.refCount++,e.pooledCache=t,t.refCount++,d.memoizedState={element:s,isDehydrated:a,cache:t},So(d),e}function Um(e){return e?(e=Ya,e):Ya}function zm(e,t,a,s,u,d){u=Um(u),s.context===null?s.context=u:s.pendingContext=u,s=Hn(t),s.payload={element:a},d=d===void 0?null:d,d!==null&&(s.callback=d),a=In(e,s,t),a!==null&&(St(a,e,t),Fi(a,e,t))}function Lm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function $u(e,t){Lm(e,t),(e=e.alternate)&&Lm(e,t)}function qm(e){if(e.tag===13||e.tag===31){var t=ma(e,67108864);t!==null&&St(t,e,67108864),$u(e,67108864)}}function Bm(e){if(e.tag===13||e.tag===31){var t=Dt();t=Ml(t);var a=ma(e,t);a!==null&&St(a,e,t),$u(e,t)}}var el=!0;function l0(e,t,a,s){var u=$.T;$.T=null;var d=K.p;try{K.p=2,Hu(e,t,a,s)}finally{K.p=d,$.T=u}}function o0(e,t,a,s){var u=$.T;$.T=null;var d=K.p;try{K.p=8,Hu(e,t,a,s)}finally{K.p=d,$.T=u}}function Hu(e,t,a,s){if(el){var u=Iu(s);if(u===null)Ou(e,t,s,tl,a),Hm(e,s);else if(c0(u,e,t,a,s))s.stopPropagation();else if(Hm(e,s),t&4&&-1<u0.indexOf(e)){for(;u!==null;){var d=za(u);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var p=ua(d.pendingLanes);if(p!==0){var v=d;for(v.pendingLanes|=2,v.entangledLanes|=2;p;){var S=1<<31-At(p);v.entanglements[1]|=S,p&=~S}on(d),(Ee&6)===0&&(Ls=Tt()+500,pr(0))}}break;case 31:case 13:v=ma(d,2),v!==null&&St(v,d,2),Bs(),$u(d,2)}if(d=Iu(s),d===null&&Ou(e,t,s,tl,a),d===u)break;u=d}u!==null&&s.stopPropagation()}else Ou(e,t,s,null,a)}}function Iu(e){return e=Pl(e),Pu(e)}var tl=null;function Pu(e){if(tl=null,e=Ua(e),e!==null){var t=c(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=f(t),e!==null)return e;e=null}else if(a===31){if(e=h(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return tl=e,null}function $m(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Jg()){case Yc:return 2;case Jc:return 8;case Vr:case Qg:return 32;case Qc:return 268435456;default:return 32}default:return 32}}var Vu=!1,Fn=null,ea=null,ta=null,Sr=new Map,Er=new Map,na=[],u0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hm(e,t){switch(e){case"focusin":case"focusout":Fn=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":Sr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Er.delete(t.pointerId)}}function Tr(e,t,a,s,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:t,domEventName:a,eventSystemFlags:s,nativeEvent:d,targetContainers:[u]},t!==null&&(t=za(t),t!==null&&qm(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),e)}function c0(e,t,a,s,u){switch(t){case"focusin":return Fn=Tr(Fn,e,t,a,s,u),!0;case"dragenter":return ea=Tr(ea,e,t,a,s,u),!0;case"mouseover":return ta=Tr(ta,e,t,a,s,u),!0;case"pointerover":var d=u.pointerId;return Sr.set(d,Tr(Sr.get(d)||null,e,t,a,s,u)),!0;case"gotpointercapture":return d=u.pointerId,Er.set(d,Tr(Er.get(d)||null,e,t,a,s,u)),!0}return!1}function Im(e){var t=Ua(e.target);if(t!==null){var a=c(t);if(a!==null){if(t=a.tag,t===13){if(t=f(a),t!==null){e.blockedOn=t,td(e.priority,function(){Bm(a)});return}}else if(t===31){if(t=h(a),t!==null){e.blockedOn=t,td(e.priority,function(){Bm(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function nl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Iu(e.nativeEvent);if(a===null){a=e.nativeEvent;var s=new a.constructor(a.type,a);Il=s,a.target.dispatchEvent(s),Il=null}else return t=za(a),t!==null&&qm(t),e.blockedOn=a,!1;t.shift()}return!0}function Pm(e,t,a){nl(e)&&a.delete(t)}function d0(){Vu=!1,Fn!==null&&nl(Fn)&&(Fn=null),ea!==null&&nl(ea)&&(ea=null),ta!==null&&nl(ta)&&(ta=null),Sr.forEach(Pm),Er.forEach(Pm)}function al(e,t){e.blockedOn===t&&(e.blockedOn=null,Vu||(Vu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,d0)))}var il=null;function Vm(e){il!==e&&(il=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){il===e&&(il=null);for(var t=0;t<e.length;t+=3){var a=e[t],s=e[t+1],u=e[t+2];if(typeof s!="function"){if(Pu(s||a)===null)continue;break}var d=za(a);d!==null&&(e.splice(t,3),t-=3,Io(d,{pending:!0,data:u,method:a.method,action:s},s,u))}}))}function yi(e){function t(S){return al(S,e)}Fn!==null&&al(Fn,e),ea!==null&&al(ea,e),ta!==null&&al(ta,e),Sr.forEach(t),Er.forEach(t);for(var a=0;a<na.length;a++){var s=na[a];s.blockedOn===e&&(s.blockedOn=null)}for(;0<na.length&&(a=na[0],a.blockedOn===null);)Im(a),a.blockedOn===null&&na.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(s=0;s<a.length;s+=3){var u=a[s],d=a[s+1],p=u[gt]||null;if(typeof d=="function")p||Vm(a);else if(p){var v=null;if(d&&d.hasAttribute("formAction")){if(u=d,p=d[gt]||null)v=p.formAction;else if(Pu(u)!==null)continue}else v=p.action;typeof v=="function"?a[s+1]=v:(a.splice(s,3),s-=3),Vm(a)}}}function Gm(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(p){return u=p})},focusReset:"manual",scroll:"manual"})}function t(){u!==null&&(u(),u=null),s||setTimeout(a,20)}function a(){if(!s&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),u!==null&&(u(),u=null)}}}function Gu(e){this._internalRoot=e}rl.prototype.render=Gu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,s=Dt();zm(a,s,e,t,null,null)},rl.prototype.unmount=Gu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;zm(e.current,2,null,e,null,null),Bs(),t[Ma]=null}};function rl(e){this._internalRoot=e}rl.prototype.unstable_scheduleHydration=function(e){if(e){var t=ed();e={blockedOn:null,target:e,priority:t};for(var a=0;a<na.length&&t!==0&&t<na[a].priority;a++);na.splice(a,0,e),a===0&&Im(e)}};var Km=n.version;if(Km!=="19.2.3")throw Error(l(527,Km,"19.2.3"));K.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=g(t),e=e!==null?y(e):null,e=e===null?null:e.stateNode,e};var f0={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sl.isDisabled&&sl.supportsFiber)try{Di=sl.inject(f0),xt=sl}catch{}}return Ar.createRoot=function(e,t){if(!o(e))throw Error(l(299));var a=!1,s="",u=Ff,d=eh,p=th;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(u=t.onUncaughtError),t.onCaughtError!==void 0&&(d=t.onCaughtError),t.onRecoverableError!==void 0&&(p=t.onRecoverableError)),t=Mm(e,1,!1,null,null,a,s,null,u,d,p,Gm),e[Ma]=t.current,Au(e),new Gu(t)},Ar.hydrateRoot=function(e,t,a){if(!o(e))throw Error(l(299));var s=!1,u="",d=Ff,p=eh,v=th,S=null;return a!=null&&(a.unstable_strictMode===!0&&(s=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.formState!==void 0&&(S=a.formState)),t=Mm(e,1,!0,t,a??null,s,u,S,d,p,v,Gm),t.context=Um(null),a=t.current,s=Dt(),s=Ml(s),u=Hn(s),u.callback=null,In(a,u,s),a=s,t.current.lanes=a,Ui(t,a),on(t),e[Ma]=t.current,Au(e),new rl(t)},Ar.version="19.2.3",Ar}var np;function x0(){if(np)return Ju.exports;np=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(n){console.error(n)}}return i(),Ju.exports=T0(),Ju.exports}var A0=x0();const O0="modulepreload",C0=function(i){return"/restaurant-manager/"+i},ap={},mt=function(n,r,l){let o=Promise.resolve();if(r&&r.length>0){let m=function(g){return Promise.all(g.map(y=>Promise.resolve(y).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const f=document.querySelector("meta[property=csp-nonce]"),h=f?.nonce||f?.getAttribute("nonce");o=m(r.map(g=>{if(g=C0(g),g in ap)return;ap[g]=!0;const y=g.endsWith(".css"),_=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${_}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":O0,y||(w.as="script"),w.crossOrigin="",w.href=g,h&&w.setAttribute("nonce",h),document.head.appendChild(w),y)return new Promise((E,O)=>{w.addEventListener("load",E),w.addEventListener("error",()=>O(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(f){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=f,window.dispatchEvent(h),!h.defaultPrevented)throw f}return o.then(f=>{for(const h of f||[])h.status==="rejected"&&c(h.reason);return n().catch(c)})};var ip="popstate";function R0(i={}){function n(o,c){let{pathname:f="/",search:h="",hash:m=""}=Da(o.location.hash.substring(1));return!f.startsWith("/")&&!f.startsWith(".")&&(f="/"+f),cc("",{pathname:f,search:h,hash:m},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function r(o,c){let f=o.document.querySelector("base"),h="";if(f&&f.getAttribute("href")){let m=o.location.href,g=m.indexOf("#");h=g===-1?m:m.slice(0,g)}return h+"#"+(typeof c=="string"?c:jr(c))}function l(o,c){Et(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return N0(n,r,l,i)}function Le(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function Et(i,n){if(!i){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function k0(){return Math.random().toString(36).substring(2,10)}function rp(i,n){return{usr:i.state,key:i.key,idx:n}}function cc(i,n,r=null,l){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof n=="string"?Da(n):n,state:r,key:n&&n.key||l||k0()}}function jr({pathname:i="/",search:n="",hash:r=""}){return n&&n!=="?"&&(i+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(i+=r.charAt(0)==="#"?r:"#"+r),i}function Da(i){let n={};if(i){let r=i.indexOf("#");r>=0&&(n.hash=i.substring(r),i=i.substring(0,r));let l=i.indexOf("?");l>=0&&(n.search=i.substring(l),i=i.substring(0,l)),i&&(n.pathname=i)}return n}function N0(i,n,r,l={}){let{window:o=document.defaultView,v5Compat:c=!1}=l,f=o.history,h="POP",m=null,g=y();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function y(){return(f.state||{idx:null}).idx}function _(){h="POP";let D=y(),L=D==null?null:D-g;g=D,m&&m({action:h,location:M.location,delta:L})}function w(D,L){h="PUSH";let B=cc(M.location,D,L);r&&r(B,D),g=y()+1;let z=rp(B,g),G=M.createHref(B);try{f.pushState(z,"",G)}catch(W){if(W instanceof DOMException&&W.name==="DataCloneError")throw W;o.location.assign(G)}c&&m&&m({action:h,location:M.location,delta:1})}function E(D,L){h="REPLACE";let B=cc(M.location,D,L);r&&r(B,D),g=y();let z=rp(B,g),G=M.createHref(B);f.replaceState(z,"",G),c&&m&&m({action:h,location:M.location,delta:0})}function O(D){return j0(D)}let M={get action(){return h},get location(){return i(o,f)},listen(D){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(ip,_),m=D,()=>{o.removeEventListener(ip,_),m=null}},createHref(D){return n(o,D)},createURL:O,encodeLocation(D){let L=O(D);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:w,replace:E,go(D){return f.go(D)}};return M}function j0(i,n=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Le(r,"No window.location.(origin|href) available to create URL");let l=typeof i=="string"?i:jr(i);return l=l.replace(/ $/,"%20"),!n&&l.startsWith("//")&&(l=r+l),new URL(l,r)}function Bp(i,n,r="/"){return D0(i,n,r,!1)}function D0(i,n,r,l){let o=typeof n=="string"?Da(n):n,c=Nn(o.pathname||"/",r);if(c==null)return null;let f=$p(i);M0(f);let h=null;for(let m=0;h==null&&m<f.length;++m){let g=G0(c);h=P0(f[m],g,l)}return h}function $p(i,n=[],r=[],l="",o=!1){let c=(f,h,m=o,g)=>{let y={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:h,route:f};if(y.relativePath.startsWith("/")){if(!y.relativePath.startsWith(l)&&m)return;Le(y.relativePath.startsWith(l),`Absolute route path "${y.relativePath}" nested under path "${l}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),y.relativePath=y.relativePath.slice(l.length)}let _=kn([l,y.relativePath]),w=r.concat(y);f.children&&f.children.length>0&&(Le(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),$p(f.children,n,w,_,m)),!(f.path==null&&!f.index)&&n.push({path:_,score:H0(_,f.index),routesMeta:w})};return i.forEach((f,h)=>{if(f.path===""||!f.path?.includes("?"))c(f,h);else for(let m of Hp(f.path))c(f,h,!0,m)}),n}function Hp(i){let n=i.split("/");if(n.length===0)return[];let[r,...l]=n,o=r.endsWith("?"),c=r.replace(/\?$/,"");if(l.length===0)return o?[c,""]:[c];let f=Hp(l.join("/")),h=[];return h.push(...f.map(m=>m===""?c:[c,m].join("/"))),o&&h.push(...f),h.map(m=>i.startsWith("/")&&m===""?"/":m)}function M0(i){i.sort((n,r)=>n.score!==r.score?r.score-n.score:I0(n.routesMeta.map(l=>l.childrenIndex),r.routesMeta.map(l=>l.childrenIndex)))}var U0=/^:[\w-]+$/,z0=3,L0=2,q0=1,B0=10,$0=-2,sp=i=>i==="*";function H0(i,n){let r=i.split("/"),l=r.length;return r.some(sp)&&(l+=$0),n&&(l+=L0),r.filter(o=>!sp(o)).reduce((o,c)=>o+(U0.test(c)?z0:c===""?q0:B0),l)}function I0(i,n){return i.length===n.length&&i.slice(0,-1).every((l,o)=>l===n[o])?i[i.length-1]-n[n.length-1]:0}function P0(i,n,r=!1){let{routesMeta:l}=i,o={},c="/",f=[];for(let h=0;h<l.length;++h){let m=l[h],g=h===l.length-1,y=c==="/"?n:n.slice(c.length)||"/",_=pl({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},y),w=m.route;if(!_&&g&&r&&!l[l.length-1].route.index&&(_=pl({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},y)),!_)return null;Object.assign(o,_.params),f.push({params:o,pathname:kn([c,_.pathname]),pathnameBase:Q0(kn([c,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(c=kn([c,_.pathnameBase]))}return f}function pl(i,n){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[r,l]=V0(i.path,i.caseSensitive,i.end),o=n.match(r);if(!o)return null;let c=o[0],f=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:l.reduce((g,{paramName:y,isOptional:_},w)=>{if(y==="*"){let O=h[w]||"";f=c.slice(0,c.length-O.length).replace(/(.)\/+$/,"$1")}const E=h[w];return _&&!E?g[y]=void 0:g[y]=(E||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:f,pattern:i}}function V0(i,n=!1,r=!0){Et(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let l=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,h,m)=>(l.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return i.endsWith("*")?(l.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,n?void 0:"i"),l]}function G0(i){try{return i.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return Et(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),i}}function Nn(i,n){if(n==="/")return i;if(!i.toLowerCase().startsWith(n.toLowerCase()))return null;let r=n.endsWith("/")?n.length-1:n.length,l=i.charAt(r);return l&&l!=="/"?null:i.slice(r)||"/"}var Ip=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,K0=i=>Ip.test(i);function Y0(i,n="/"){let{pathname:r,search:l="",hash:o=""}=typeof i=="string"?Da(i):i,c;if(r)if(K0(r))c=r;else{if(r.includes("//")){let f=r;r=r.replace(/\/\/+/g,"/"),Et(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${r}`)}r.startsWith("/")?c=lp(r.substring(1),"/"):c=lp(r,n)}else c=n;return{pathname:c,search:X0(l),hash:Z0(o)}}function lp(i,n){let r=n.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?r.length>1&&r.pop():o!=="."&&r.push(o)}),r.length>1?r.join("/"):"/"}function Wu(i,n,r,l){return`Cannot include a '${i}' character in a manually specified \`to.${n}\` field [${JSON.stringify(l)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function J0(i){return i.filter((n,r)=>r===0||n.route.path&&n.route.path.length>0)}function Rc(i){let n=J0(i);return n.map((r,l)=>l===n.length-1?r.pathname:r.pathnameBase)}function kc(i,n,r,l=!1){let o;typeof i=="string"?o=Da(i):(o={...i},Le(!o.pathname||!o.pathname.includes("?"),Wu("?","pathname","search",o)),Le(!o.pathname||!o.pathname.includes("#"),Wu("#","pathname","hash",o)),Le(!o.search||!o.search.includes("#"),Wu("#","search","hash",o)));let c=i===""||o.pathname==="",f=c?"/":o.pathname,h;if(f==null)h=r;else{let _=n.length-1;if(!l&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),_-=1;o.pathname=w.join("/")}h=_>=0?n[_]:"/"}let m=Y0(o,h),g=f&&f!=="/"&&f.endsWith("/"),y=(c||f===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(g||y)&&(m.pathname+="/"),m}var kn=i=>i.join("/").replace(/\/\/+/g,"/"),Q0=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),X0=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,Z0=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i,W0=class{constructor(i,n,r,l=!1){this.status=i,this.statusText=n||"",this.internal=l,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function F0(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}function e_(i){return i.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Pp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Vp(i,n){let r=i;if(typeof r!="string"||!Ip.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let l=r,o=!1;if(Pp)try{let c=new URL(window.location.href),f=r.startsWith("//")?new URL(c.protocol+r):new URL(r),h=Nn(f.pathname,n);f.origin===c.origin&&h!=null?r=h+f.search+f.hash:o=!0}catch{Et(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:l,isExternal:o,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gp=["POST","PUT","PATCH","DELETE"];new Set(Gp);var t_=["GET",...Gp];new Set(t_);var Ri=T.createContext(null);Ri.displayName="DataRouter";var bl=T.createContext(null);bl.displayName="DataRouterState";var n_=T.createContext(!1),Kp=T.createContext({isTransitioning:!1});Kp.displayName="ViewTransition";var a_=T.createContext(new Map);a_.displayName="Fetchers";var i_=T.createContext(null);i_.displayName="Await";var Lt=T.createContext(null);Lt.displayName="Navigation";var Br=T.createContext(null);Br.displayName="Location";var nn=T.createContext({outlet:null,matches:[],isDataRoute:!1});nn.displayName="Route";var Nc=T.createContext(null);Nc.displayName="RouteError";var Yp="REACT_ROUTER_ERROR",r_="REDIRECT",s_="ROUTE_ERROR_RESPONSE";function l_(i){if(i.startsWith(`${Yp}:${r_}:{`))try{let n=JSON.parse(i.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function o_(i){if(i.startsWith(`${Yp}:${s_}:{`))try{let n=JSON.parse(i.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new W0(n.status,n.statusText,n.data)}catch{}}function u_(i,{relative:n}={}){Le(ki(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:l}=T.useContext(Lt),{hash:o,pathname:c,search:f}=Hr(i,{relative:n}),h=c;return r!=="/"&&(h=c==="/"?r:kn([r,c])),l.createHref({pathname:h,search:f,hash:o})}function ki(){return T.useContext(Br)!=null}function un(){return Le(ki(),"useLocation() may be used only in the context of a <Router> component."),T.useContext(Br).location}var Jp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Qp(i){T.useContext(Lt).static||T.useLayoutEffect(i)}function $r(){let{isDataRoute:i}=T.useContext(nn);return i?T_():c_()}function c_(){Le(ki(),"useNavigate() may be used only in the context of a <Router> component.");let i=T.useContext(Ri),{basename:n,navigator:r}=T.useContext(Lt),{matches:l}=T.useContext(nn),{pathname:o}=un(),c=JSON.stringify(Rc(l)),f=T.useRef(!1);return Qp(()=>{f.current=!0}),T.useCallback((m,g={})=>{if(Et(f.current,Jp),!f.current)return;if(typeof m=="number"){r.go(m);return}let y=kc(m,JSON.parse(c),o,g.relative==="path");i==null&&n!=="/"&&(y.pathname=y.pathname==="/"?n:kn([n,y.pathname])),(g.replace?r.replace:r.push)(y,g.state,g)},[n,r,c,o,i])}var d_=T.createContext(null);function f_(i){let n=T.useContext(nn).outlet;return T.useMemo(()=>n&&T.createElement(d_.Provider,{value:i},n),[n,i])}function Hr(i,{relative:n}={}){let{matches:r}=T.useContext(nn),{pathname:l}=un(),o=JSON.stringify(Rc(r));return T.useMemo(()=>kc(i,JSON.parse(o),l,n==="path"),[i,o,l,n])}function h_(i,n){return Xp(i,n)}function Xp(i,n,r,l,o){Le(ki(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=T.useContext(Lt),{matches:f}=T.useContext(nn),h=f[f.length-1],m=h?h.params:{},g=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let B=_&&_.path||"";Wp(g,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let w=un(),E;if(n){let B=typeof n=="string"?Da(n):n;Le(y==="/"||B.pathname?.startsWith(y),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${B.pathname}" was given in the \`location\` prop.`),E=B}else E=w;let O=E.pathname||"/",M=O;if(y!=="/"){let B=y.replace(/^\//,"").split("/");M="/"+O.replace(/^\//,"").split("/").slice(B.length).join("/")}let D=Bp(i,{pathname:M});Et(_||D!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),Et(D==null||D[D.length-1].route.element!==void 0||D[D.length-1].route.Component!==void 0||D[D.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=v_(D&&D.map(B=>Object.assign({},B,{params:Object.assign({},m,B.params),pathname:kn([y,c.encodeLocation?c.encodeLocation(B.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:kn([y,c.encodeLocation?c.encodeLocation(B.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:B.pathnameBase])})),f,r,l,o);return n&&L?T.createElement(Br.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},L):L}function m_(){let i=E_(),n=F0(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),r=i instanceof Error?i.stack:null,l="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:l},c={padding:"2px 4px",backgroundColor:l},f=null;return console.error("Error handled by React Router default ErrorBoundary:",i),f=T.createElement(T.Fragment,null,T.createElement("p",null," Hey developer "),T.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",T.createElement("code",{style:c},"ErrorBoundary")," or"," ",T.createElement("code",{style:c},"errorElement")," prop on your route.")),T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},n),r?T.createElement("pre",{style:o},r):null,f)}var p_=T.createElement(m_,null),Zp=class extends T.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,n){return n.location!==i.location||n.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:n.error,location:n.location,revalidation:i.revalidation||n.revalidation}}componentDidCatch(i,n){this.props.onError?this.props.onError(i,n):console.error("React Router caught the following error during render",i)}render(){let i=this.state.error;if(this.context&&typeof i=="object"&&i&&"digest"in i&&typeof i.digest=="string"){const r=o_(i.digest);r&&(i=r)}let n=i!==void 0?T.createElement(nn.Provider,{value:this.props.routeContext},T.createElement(Nc.Provider,{value:i,children:this.props.component})):this.props.children;return this.context?T.createElement(g_,{error:i},n):n}};Zp.contextType=n_;var Fu=new WeakMap;function g_({children:i,error:n}){let{basename:r}=T.useContext(Lt);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let l=l_(n.digest);if(l){let o=Fu.get(n);if(o)throw o;let c=Vp(l.location,r);if(Pp&&!Fu.get(n))if(c.isExternal||l.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const f=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:l.replace}));throw Fu.set(n,f),f}return T.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return i}function y_({routeContext:i,match:n,children:r}){let l=T.useContext(Ri);return l&&l.static&&l.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(nn.Provider,{value:i},r)}function v_(i,n=[],r=null,l=null,o=null){if(i==null){if(!r)return null;if(r.errors)i=r.matches;else if(n.length===0&&!r.initialized&&r.matches.length>0)i=r.matches;else return null}let c=i,f=r?.errors;if(f!=null){let y=c.findIndex(_=>_.route.id&&f?.[_.route.id]!==void 0);Le(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),c=c.slice(0,Math.min(c.length,y+1))}let h=!1,m=-1;if(r)for(let y=0;y<c.length;y++){let _=c[y];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=y),_.route.id){let{loaderData:w,errors:E}=r,O=_.route.loader&&!w.hasOwnProperty(_.route.id)&&(!E||E[_.route.id]===void 0);if(_.route.lazy||O){h=!0,m>=0?c=c.slice(0,m+1):c=[c[0]];break}}}let g=r&&l?(y,_)=>{l(y,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:e_(r.matches),errorInfo:_})}:void 0;return c.reduceRight((y,_,w)=>{let E,O=!1,M=null,D=null;r&&(E=f&&_.route.id?f[_.route.id]:void 0,M=_.route.errorElement||p_,h&&(m<0&&w===0?(Wp("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),O=!0,D=null):m===w&&(O=!0,D=_.route.hydrateFallbackElement||null)));let L=n.concat(c.slice(0,w+1)),B=()=>{let z;return E?z=M:O?z=D:_.route.Component?z=T.createElement(_.route.Component,null):_.route.element?z=_.route.element:z=y,T.createElement(y_,{match:_,routeContext:{outlet:y,matches:L,isDataRoute:r!=null},children:z})};return r&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?T.createElement(Zp,{location:r.location,revalidation:r.revalidation,component:M,error:E,children:B(),routeContext:{outlet:null,matches:L,isDataRoute:!0},onError:g}):B()},null)}function jc(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function __(i){let n=T.useContext(Ri);return Le(n,jc(i)),n}function b_(i){let n=T.useContext(bl);return Le(n,jc(i)),n}function w_(i){let n=T.useContext(nn);return Le(n,jc(i)),n}function Dc(i){let n=w_(i),r=n.matches[n.matches.length-1];return Le(r.route.id,`${i} can only be used on routes that contain a unique "id"`),r.route.id}function S_(){return Dc("useRouteId")}function E_(){let i=T.useContext(Nc),n=b_("useRouteError"),r=Dc("useRouteError");return i!==void 0?i:n.errors?.[r]}function T_(){let{router:i}=__("useNavigate"),n=Dc("useNavigate"),r=T.useRef(!1);return Qp(()=>{r.current=!0}),T.useCallback(async(o,c={})=>{Et(r.current,Jp),r.current&&(typeof o=="number"?await i.navigate(o):await i.navigate(o,{fromRouteId:n,...c}))},[i,n])}var op={};function Wp(i,n,r){!n&&!op[i]&&(op[i]=!0,Et(!1,r))}T.memo(x_);function x_({routes:i,future:n,state:r,onError:l}){return Xp(i,void 0,r,l,n)}function dc({to:i,replace:n,state:r,relative:l}){Le(ki(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=T.useContext(Lt);Et(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:c}=T.useContext(nn),{pathname:f}=un(),h=$r(),m=kc(i,Rc(c),f,l==="path"),g=JSON.stringify(m);return T.useEffect(()=>{h(JSON.parse(g),{replace:n,state:r,relative:l})},[h,g,l,n,r]),null}function A_(i){return f_(i.context)}function We(i){Le(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function O_({basename:i="/",children:n=null,location:r,navigationType:l="POP",navigator:o,static:c=!1,unstable_useTransitions:f}){Le(!ki(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=T.useMemo(()=>({basename:h,navigator:o,static:c,unstable_useTransitions:f,future:{}}),[h,o,c,f]);typeof r=="string"&&(r=Da(r));let{pathname:g="/",search:y="",hash:_="",state:w=null,key:E="default"}=r,O=T.useMemo(()=>{let M=Nn(g,h);return M==null?null:{location:{pathname:M,search:y,hash:_,state:w,key:E},navigationType:l}},[h,g,y,_,w,E,l]);return Et(O!=null,`<Router basename="${h}"> is not able to match the URL "${g}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:T.createElement(Lt.Provider,{value:m},T.createElement(Br.Provider,{children:n,value:O}))}function C_({children:i,location:n}){return h_(fc(i),n)}function fc(i,n=[]){let r=[];return T.Children.forEach(i,(l,o)=>{if(!T.isValidElement(l))return;let c=[...n,o];if(l.type===T.Fragment){r.push.apply(r,fc(l.props.children,c));return}Le(l.type===We,`[${typeof l.type=="string"?l.type:l.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Le(!l.props.index||!l.props.children,"An index route cannot have child routes.");let f={id:l.props.id||c.join("-"),caseSensitive:l.props.caseSensitive,element:l.props.element,Component:l.props.Component,index:l.props.index,path:l.props.path,middleware:l.props.middleware,loader:l.props.loader,action:l.props.action,hydrateFallbackElement:l.props.hydrateFallbackElement,HydrateFallback:l.props.HydrateFallback,errorElement:l.props.errorElement,ErrorBoundary:l.props.ErrorBoundary,hasErrorBoundary:l.props.hasErrorBoundary===!0||l.props.ErrorBoundary!=null||l.props.errorElement!=null,shouldRevalidate:l.props.shouldRevalidate,handle:l.props.handle,lazy:l.props.lazy};l.props.children&&(f.children=fc(l.props.children,c)),r.push(f)}),r}var hl="get",ml="application/x-www-form-urlencoded";function wl(i){return typeof HTMLElement<"u"&&i instanceof HTMLElement}function R_(i){return wl(i)&&i.tagName.toLowerCase()==="button"}function k_(i){return wl(i)&&i.tagName.toLowerCase()==="form"}function N_(i){return wl(i)&&i.tagName.toLowerCase()==="input"}function j_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function D_(i,n){return i.button===0&&(!n||n==="_self")&&!j_(i)}function hc(i=""){return new URLSearchParams(typeof i=="string"||Array.isArray(i)||i instanceof URLSearchParams?i:Object.keys(i).reduce((n,r)=>{let l=i[r];return n.concat(Array.isArray(l)?l.map(o=>[r,o]):[[r,l]])},[]))}function M_(i,n){let r=hc(i);return n&&n.forEach((l,o)=>{r.has(o)||n.getAll(o).forEach(c=>{r.append(o,c)})}),r}var ll=null;function U_(){if(ll===null)try{new FormData(document.createElement("form"),0),ll=!1}catch{ll=!0}return ll}var z_=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ec(i){return i!=null&&!z_.has(i)?(Et(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ml}"`),null):i}function L_(i,n){let r,l,o,c,f;if(k_(i)){let h=i.getAttribute("action");l=h?Nn(h,n):null,r=i.getAttribute("method")||hl,o=ec(i.getAttribute("enctype"))||ml,c=new FormData(i)}else if(R_(i)||N_(i)&&(i.type==="submit"||i.type==="image")){let h=i.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=i.getAttribute("formaction")||h.getAttribute("action");if(l=m?Nn(m,n):null,r=i.getAttribute("formmethod")||h.getAttribute("method")||hl,o=ec(i.getAttribute("formenctype"))||ec(h.getAttribute("enctype"))||ml,c=new FormData(h,i),!U_()){let{name:g,type:y,value:_}=i;if(y==="image"){let w=g?`${g}.`:"";c.append(`${w}x`,"0"),c.append(`${w}y`,"0")}else g&&c.append(g,_)}}else{if(wl(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=hl,l=null,o=ml,f=i}return c&&o==="text/plain"&&(f=c,c=void 0),{action:l,method:r.toLowerCase(),encType:o,formData:c,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mc(i,n){if(i===!1||i===null||typeof i>"u")throw new Error(n)}function q_(i,n,r){let l=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return l.pathname==="/"?l.pathname=`_root.${r}`:n&&Nn(l.pathname,n)==="/"?l.pathname=`${n.replace(/\/$/,"")}/_root.${r}`:l.pathname=`${l.pathname.replace(/\/$/,"")}.${r}`,l}async function B_(i,n){if(i.id in n)return n[i.id];try{let r=await import(i.module);return n[i.id]=r,r}catch(r){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $_(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function H_(i,n,r){let l=await Promise.all(i.map(async o=>{let c=n.routes[o.route.id];if(c){let f=await B_(c,r);return f.links?f.links():[]}return[]}));return G_(l.flat(1).filter($_).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function up(i,n,r,l,o,c){let f=(m,g)=>r[g]?m.route.id!==r[g].route.id:!0,h=(m,g)=>r[g].pathname!==m.pathname||r[g].route.path?.endsWith("*")&&r[g].params["*"]!==m.params["*"];return c==="assets"?n.filter((m,g)=>f(m,g)||h(m,g)):c==="data"?n.filter((m,g)=>{let y=l.routes[m.route.id];if(!y||!y.hasLoader)return!1;if(f(m,g)||h(m,g))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function I_(i,n,{includeHydrateFallback:r}={}){return P_(i.map(l=>{let o=n.routes[l.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),r&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function P_(i){return[...new Set(i)]}function V_(i){let n={},r=Object.keys(i).sort();for(let l of r)n[l]=i[l];return n}function G_(i,n){let r=new Set;return new Set(n),i.reduce((l,o)=>{let c=JSON.stringify(V_(o));return r.has(c)||(r.add(c),l.push({key:c,link:o})),l},[])}function Fp(){let i=T.useContext(Ri);return Mc(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function K_(){let i=T.useContext(bl);return Mc(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Uc=T.createContext(void 0);Uc.displayName="FrameworkContext";function eg(){let i=T.useContext(Uc);return Mc(i,"You must render this element inside a <HydratedRouter> element"),i}function Y_(i,n){let r=T.useContext(Uc),[l,o]=T.useState(!1),[c,f]=T.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:g,onMouseLeave:y,onTouchStart:_}=n,w=T.useRef(null);T.useEffect(()=>{if(i==="render"&&f(!0),i==="viewport"){let M=L=>{L.forEach(B=>{f(B.isIntersecting)})},D=new IntersectionObserver(M,{threshold:.5});return w.current&&D.observe(w.current),()=>{D.disconnect()}}},[i]),T.useEffect(()=>{if(l){let M=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(M)}}},[l]);let E=()=>{o(!0)},O=()=>{o(!1),f(!1)};return r?i!=="intent"?[c,w,{}]:[c,w,{onFocus:Or(h,E),onBlur:Or(m,O),onMouseEnter:Or(g,E),onMouseLeave:Or(y,O),onTouchStart:Or(_,E)}]:[!1,w,{}]}function Or(i,n){return r=>{i&&i(r),r.defaultPrevented||n(r)}}function J_({page:i,...n}){let{router:r}=Fp(),l=T.useMemo(()=>Bp(r.routes,i,r.basename),[r.routes,i,r.basename]);return l?T.createElement(X_,{page:i,matches:l,...n}):null}function Q_(i){let{manifest:n,routeModules:r}=eg(),[l,o]=T.useState([]);return T.useEffect(()=>{let c=!1;return H_(i,n,r).then(f=>{c||o(f)}),()=>{c=!0}},[i,n,r]),l}function X_({page:i,matches:n,...r}){let l=un(),{manifest:o,routeModules:c}=eg(),{basename:f}=Fp(),{loaderData:h,matches:m}=K_(),g=T.useMemo(()=>up(i,n,m,o,l,"data"),[i,n,m,o,l]),y=T.useMemo(()=>up(i,n,m,o,l,"assets"),[i,n,m,o,l]),_=T.useMemo(()=>{if(i===l.pathname+l.search+l.hash)return[];let O=new Set,M=!1;if(n.forEach(L=>{let B=o.routes[L.route.id];!B||!B.hasLoader||(!g.some(z=>z.route.id===L.route.id)&&L.route.id in h&&c[L.route.id]?.shouldRevalidate||B.hasClientLoader?M=!0:O.add(L.route.id))}),O.size===0)return[];let D=q_(i,f,"data");return M&&O.size>0&&D.searchParams.set("_routes",n.filter(L=>O.has(L.route.id)).map(L=>L.route.id).join(",")),[D.pathname+D.search]},[f,h,l,o,g,n,i,c]),w=T.useMemo(()=>I_(y,o),[y,o]),E=Q_(y);return T.createElement(T.Fragment,null,_.map(O=>T.createElement("link",{key:O,rel:"prefetch",as:"fetch",href:O,...r})),w.map(O=>T.createElement("link",{key:O,rel:"modulepreload",href:O,...r})),E.map(({key:O,link:M})=>T.createElement("link",{key:O,nonce:r.nonce,...M})))}function Z_(...i){return n=>{i.forEach(r=>{typeof r=="function"?r(n):r!=null&&(r.current=n)})}}var W_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{W_&&(window.__reactRouterVersion="7.11.0")}catch{}function F_({basename:i,children:n,unstable_useTransitions:r,window:l}){let o=T.useRef();o.current==null&&(o.current=R0({window:l,v5Compat:!0}));let c=o.current,[f,h]=T.useState({action:c.action,location:c.location}),m=T.useCallback(g=>{r===!1?h(g):T.startTransition(()=>h(g))},[r]);return T.useLayoutEffect(()=>c.listen(m),[c,m]),T.createElement(O_,{basename:i,children:n,location:f.location,navigationType:f.action,navigator:c,unstable_useTransitions:r})}var tg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ng=T.forwardRef(function({onClick:n,discover:r="render",prefetch:l="none",relative:o,reloadDocument:c,replace:f,state:h,target:m,to:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:w,...E},O){let{basename:M,unstable_useTransitions:D}=T.useContext(Lt),L=typeof g=="string"&&tg.test(g),B=Vp(g,M);g=B.to;let z=u_(g,{relative:o}),[G,W,ae]=Y_(l,E),Q=nb(g,{replace:f,state:h,target:m,preventScrollReset:y,relative:o,viewTransition:_,unstable_defaultShouldRevalidate:w,unstable_useTransitions:D});function ue(qt){n&&n(qt),qt.defaultPrevented||Q(qt)}let Se=T.createElement("a",{...E,...ae,href:B.absoluteURL||z,onClick:B.isExternal||c?n:ue,ref:Z_(O,W),target:m,"data-discover":!L&&r==="render"?"true":void 0});return G&&!L?T.createElement(T.Fragment,null,Se,T.createElement(J_,{page:z})):Se});ng.displayName="Link";var ag=T.forwardRef(function({"aria-current":n="page",caseSensitive:r=!1,className:l="",end:o=!1,style:c,to:f,viewTransition:h,children:m,...g},y){let _=Hr(f,{relative:g.relative}),w=un(),E=T.useContext(bl),{navigator:O,basename:M}=T.useContext(Lt),D=E!=null&&lb(_)&&h===!0,L=O.encodeLocation?O.encodeLocation(_).pathname:_.pathname,B=w.pathname,z=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;r||(B=B.toLowerCase(),z=z?z.toLowerCase():null,L=L.toLowerCase()),z&&M&&(z=Nn(z,M)||z);const G=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let W=B===L||!o&&B.startsWith(L)&&B.charAt(G)==="/",ae=z!=null&&(z===L||!o&&z.startsWith(L)&&z.charAt(L.length)==="/"),Q={isActive:W,isPending:ae,isTransitioning:D},ue=W?n:void 0,Se;typeof l=="function"?Se=l(Q):Se=[l,W?"active":null,ae?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let qt=typeof c=="function"?c(Q):c;return T.createElement(ng,{...g,"aria-current":ue,className:Se,ref:y,style:qt,to:f,viewTransition:h},typeof m=="function"?m(Q):m)});ag.displayName="NavLink";var eb=T.forwardRef(({discover:i="render",fetcherKey:n,navigate:r,reloadDocument:l,replace:o,state:c,method:f=hl,action:h,onSubmit:m,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:w,...E},O)=>{let{unstable_useTransitions:M}=T.useContext(Lt),D=rb(),L=sb(h,{relative:g}),B=f.toLowerCase()==="get"?"get":"post",z=typeof h=="string"&&tg.test(h),G=W=>{if(m&&m(W),W.defaultPrevented)return;W.preventDefault();let ae=W.nativeEvent.submitter,Q=ae?.getAttribute("formmethod")||f,ue=()=>D(ae||W.currentTarget,{fetcherKey:n,method:Q,navigate:r,replace:o,state:c,relative:g,preventScrollReset:y,viewTransition:_,unstable_defaultShouldRevalidate:w});M&&r!==!1?T.startTransition(()=>ue()):ue()};return T.createElement("form",{ref:O,method:B,action:L,onSubmit:l?m:G,...E,"data-discover":!z&&i==="render"?"true":void 0})});eb.displayName="Form";function tb(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ig(i){let n=T.useContext(Ri);return Le(n,tb(i)),n}function nb(i,{target:n,replace:r,state:l,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:h,unstable_useTransitions:m}={}){let g=$r(),y=un(),_=Hr(i,{relative:c});return T.useCallback(w=>{if(D_(w,n)){w.preventDefault();let E=r!==void 0?r:jr(y)===jr(_),O=()=>g(i,{replace:E,state:l,preventScrollReset:o,relative:c,viewTransition:f,unstable_defaultShouldRevalidate:h});m?T.startTransition(()=>O()):O()}},[y,g,_,r,l,n,i,o,c,f,h,m])}function t2(i){Et(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let n=T.useRef(hc(i)),r=T.useRef(!1),l=un(),o=T.useMemo(()=>M_(l.search,r.current?null:n.current),[l.search]),c=$r(),f=T.useCallback((h,m)=>{const g=hc(typeof h=="function"?h(new URLSearchParams(o)):h);r.current=!0,c("?"+g,m)},[c,o]);return[o,f]}var ab=0,ib=()=>`__${String(++ab)}__`;function rb(){let{router:i}=ig("useSubmit"),{basename:n}=T.useContext(Lt),r=S_(),l=i.fetch,o=i.navigate;return T.useCallback(async(c,f={})=>{let{action:h,method:m,encType:g,formData:y,body:_}=L_(c,n);if(f.navigate===!1){let w=f.fetcherKey||ib();await l(w,r,f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:_,formMethod:f.method||m,formEncType:f.encType||g,flushSync:f.flushSync})}else await o(f.action||h,{unstable_defaultShouldRevalidate:f.unstable_defaultShouldRevalidate,preventScrollReset:f.preventScrollReset,formData:y,body:_,formMethod:f.method||m,formEncType:f.encType||g,replace:f.replace,state:f.state,fromRouteId:r,flushSync:f.flushSync,viewTransition:f.viewTransition})},[l,o,n,r])}function sb(i,{relative:n}={}){let{basename:r}=T.useContext(Lt),l=T.useContext(nn);Le(l,"useFormAction must be used inside a RouteContext");let[o]=l.matches.slice(-1),c={...Hr(i||".",{relative:n})},f=un();if(i==null){c.search=f.search;let h=new URLSearchParams(c.search),m=h.getAll("index");if(m.some(y=>y==="")){h.delete("index"),m.filter(_=>_).forEach(_=>h.append("index",_));let y=h.toString();c.search=y?`?${y}`:""}}return(!i||i===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(c.pathname=c.pathname==="/"?r:kn([r,c.pathname])),jr(c)}function lb(i,{relative:n}={}){let r=T.useContext(Kp);Le(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:l}=ig("useViewTransitionState"),o=Hr(i,{relative:n});if(!r.isTransitioning)return!1;let c=Nn(r.currentLocation.pathname,l)||r.currentLocation.pathname,f=Nn(r.nextLocation.pathname,l)||r.nextLocation.pathname;return pl(o.pathname,f)!=null||pl(o.pathname,c)!=null}const ob={superadmin:["dashboard","orders","orders.new","menu","tables","inventory","recipes","staff","staff.full","reports","smac","settings","users","cash-register","dish-costs","guide"],admin:["dashboard","orders","orders.new","menu","tables","inventory","recipes","staff","staff.full","cash-register","dish-costs","guide"],staff:["orders.new","orders","tables","staff","guide"]},ub={superadmin:"Super Admin",admin:"Admin",staff:"Staff"};function Sl(i,n){var r={};for(var l in i)Object.prototype.hasOwnProperty.call(i,l)&&n.indexOf(l)<0&&(r[l]=i[l]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,l=Object.getOwnPropertySymbols(i);o<l.length;o++)n.indexOf(l[o])<0&&Object.prototype.propertyIsEnumerable.call(i,l[o])&&(r[l[o]]=i[l[o]]);return r}function cb(i,n,r,l){function o(c){return c instanceof r?c:new r(function(f){f(c)})}return new(r||(r=Promise))(function(c,f){function h(y){try{g(l.next(y))}catch(_){f(_)}}function m(y){try{g(l.throw(y))}catch(_){f(_)}}function g(y){y.done?c(y.value):o(y.value).then(h,m)}g((l=l.apply(i,n||[])).next())})}const db=i=>i?(...n)=>i(...n):(...n)=>fetch(...n);class zc extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class fb extends zc{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class cp extends zc{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class dp extends zc{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var mc;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(mc||(mc={}));class hb{constructor(n,{headers:r={},customFetch:l,region:o=mc.Any}={}){this.url=n,this.headers=r,this.region=o,this.fetch=db(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return cb(this,arguments,void 0,function*(r,l={}){var o;let c,f;try{const{headers:h,method:m,body:g,signal:y,timeout:_}=l;let w={},{region:E}=l;E||(E=this.region);const O=new URL(`${this.url}/${r}`);E&&E!=="any"&&(w["x-region"]=E,O.searchParams.set("forceFunctionRegion",E));let M;g&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(w["Content-Type"]="application/octet-stream",M=g):typeof g=="string"?(w["Content-Type"]="text/plain",M=g):typeof FormData<"u"&&g instanceof FormData?M=g:(w["Content-Type"]="application/json",M=JSON.stringify(g)):M=g;let D=y;_&&(f=new AbortController,c=setTimeout(()=>f.abort(),_),y?(D=f.signal,y.addEventListener("abort",()=>f.abort())):D=f.signal);const L=yield this.fetch(O.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},w),this.headers),h),body:M,signal:D}).catch(W=>{throw new fb(W)}),B=L.headers.get("x-relay-error");if(B&&B==="true")throw new cp(L);if(!L.ok)throw new dp(L);let z=((o=L.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),G;return z==="application/json"?G=yield L.json():z==="application/octet-stream"||z==="application/pdf"?G=yield L.blob():z==="text/event-stream"?G=L:z==="multipart/form-data"?G=yield L.formData():G=yield L.text(),{data:G,error:null,response:L}}catch(h){return{data:null,error:h,response:h instanceof dp||h instanceof cp?h.context:void 0}}finally{c&&clearTimeout(c)}})}}var mb=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},pb=class{constructor(i){var n,r;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(n=i.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=i.signal,this.isMaybeSingle=(r=i.isMaybeSingle)!==null&&r!==void 0?r:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,n){return this.headers=new Headers(this.headers),this.headers.set(i,n),this}then(i,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let o=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let f=null,h=null,m=null,g=c.status,y=c.statusText;if(c.ok){var _,w;if(r.method!=="HEAD"){var E;const L=await c.text();L===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((E=r.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?h=L:h=JSON.parse(L))}const M=(_=r.headers.get("Prefer"))===null||_===void 0?void 0:_.match(/count=(exact|planned|estimated)/),D=(w=c.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");M&&D&&D.length>1&&(m=parseInt(D[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(h)&&(h.length>1?(f={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,g=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var O;const M=await c.text();try{f=JSON.parse(M),Array.isArray(f)&&c.status===404&&(h=[],f=null,g=200,y="OK")}catch{c.status===404&&M===""?(g=204,y="No Content"):f={message:M}}if(f&&r.isMaybeSingle&&(!(f==null||(O=f.details)===null||O===void 0)&&O.includes("0 rows"))&&(f=null,g=200,y="OK"),f&&r.shouldThrowOnError)throw new mb(f)}return{error:f,data:h,count:m,status:g,statusText:y}});return this.shouldThrowOnError||(o=o.catch(c=>{var f;let h="";const m=c?.cause;if(m){var g,y,_,w;const O=(g=m?.message)!==null&&g!==void 0?g:"",M=(y=m?.code)!==null&&y!==void 0?y:"";h=`${(_=c?.name)!==null&&_!==void 0?_:"FetchError"}: ${c?.message}`,h+=`

Caused by: ${(w=m?.name)!==null&&w!==void 0?w:"Error"}: ${O}`,M&&(h+=` (${M})`),m?.stack&&(h+=`
${m.stack}`)}else{var E;h=(E=c?.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(f=c?.name)!==null&&f!==void 0?f:"FetchError"}: ${c?.message}`,details:h,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,n)}returns(){return this}overrideTypes(){return this}},gb=class extends pb{select(i){let n=!1;const r=(i??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:o=l}={}){const c=o?`${o}.order`:"order",f=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${f?`${f},`:""}${i}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${i}`),this}range(i,n,{foreignTable:r,referencedTable:l=r}={}){const o=typeof l>"u"?"offset":`${l}.offset`,c=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(c,`${n-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:o=!1,format:c="text"}={}){var f;const h=[i?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,o?"wal":null].filter(Boolean).join("|"),m=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const fp=new RegExp("[,()]");var Ti=class extends gb{eq(i,n){return this.url.searchParams.append(i,`eq.${n}`),this}neq(i,n){return this.url.searchParams.append(i,`neq.${n}`),this}gt(i,n){return this.url.searchParams.append(i,`gt.${n}`),this}gte(i,n){return this.url.searchParams.append(i,`gte.${n}`),this}lt(i,n){return this.url.searchParams.append(i,`lt.${n}`),this}lte(i,n){return this.url.searchParams.append(i,`lte.${n}`),this}like(i,n){return this.url.searchParams.append(i,`like.${n}`),this}likeAllOf(i,n){return this.url.searchParams.append(i,`like(all).{${n.join(",")}}`),this}likeAnyOf(i,n){return this.url.searchParams.append(i,`like(any).{${n.join(",")}}`),this}ilike(i,n){return this.url.searchParams.append(i,`ilike.${n}`),this}ilikeAllOf(i,n){return this.url.searchParams.append(i,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(i,n){return this.url.searchParams.append(i,`ilike(any).{${n.join(",")}}`),this}regexMatch(i,n){return this.url.searchParams.append(i,`match.${n}`),this}regexIMatch(i,n){return this.url.searchParams.append(i,`imatch.${n}`),this}is(i,n){return this.url.searchParams.append(i,`is.${n}`),this}isDistinct(i,n){return this.url.searchParams.append(i,`isdistinct.${n}`),this}in(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&fp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${r})`),this}notIn(i,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&fp.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`not.in.(${r})`),this}contains(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cs.{${n.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(n)}`),this}containedBy(i,n){return typeof n=="string"?this.url.searchParams.append(i,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(i,`cd.{${n.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(n)}`),this}rangeGt(i,n){return this.url.searchParams.append(i,`sr.${n}`),this}rangeGte(i,n){return this.url.searchParams.append(i,`nxl.${n}`),this}rangeLt(i,n){return this.url.searchParams.append(i,`sl.${n}`),this}rangeLte(i,n){return this.url.searchParams.append(i,`nxr.${n}`),this}rangeAdjacent(i,n){return this.url.searchParams.append(i,`adj.${n}`),this}overlaps(i,n){return typeof n=="string"?this.url.searchParams.append(i,`ov.${n}`):this.url.searchParams.append(i,`ov.{${n.join(",")}}`),this}textSearch(i,n,{config:r,type:l}={}){let o="";l==="plain"?o="pl":l==="phrase"?o="ph":l==="websearch"&&(o="w");const c=r===void 0?"":`(${r})`;return this.url.searchParams.append(i,`${o}fts${c}.${n}`),this}match(i){return Object.entries(i).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(i,n,r){return this.url.searchParams.append(i,`not.${n}.${r}`),this}or(i,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,n,r){return this.url.searchParams.append(i,`${n}.${r}`),this}},yb=class{constructor(i,{headers:n={},schema:r,fetch:l}){this.url=i,this.headers=new Headers(n),this.schema=r,this.fetch=l}select(i,n){const{head:r=!1,count:l}=n??{},o=r?"HEAD":"GET";let c=!1;const f=(i??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",f),l&&this.headers.append("Prefer",`count=${l}`),new Ti({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:n,defaultToNull:r=!0}={}){var l;const o="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(c.length>0){const f=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new Ti({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(i,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:o=!0}={}){var c;const f="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),l&&this.headers.append("Prefer",`count=${l}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((m,g)=>m.concat(Object.keys(g)),[]);if(h.length>0){const m=[...new Set(h)].map(g=>`"${g}"`);this.url.searchParams.set("columns",m.join(","))}}return new Ti({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:n}={}){var r;const l="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Ti({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:i}={}){var n;const r="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new Ti({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},vb=class rg{constructor(n,{headers:r={},schema:l,fetch:o}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.fetch=o}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new yb(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new rg(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:l=!1,get:o=!1,count:c}={}){var f;let h;const m=new URL(`${this.url}/rpc/${n}`);let g;l||o?(h=l?"HEAD":"GET",Object.entries(r).filter(([_,w])=>w!==void 0).map(([_,w])=>[_,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([_,w])=>{m.searchParams.append(_,w)})):(h="POST",g=r);const y=new Headers(this.headers);return c&&y.set("Prefer",`count=${c}`),new Ti({method:h,url:m,headers:y,schema:this.schemaName,body:g,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}};class _b{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const l=r.node,o=parseInt(l.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const bb="2.88.0",wb=`realtime-js/${bb}`,sg="1.0.0",Sb="2.0.0",hp=sg,pc=1e4,Eb=1e3,Tb=100;var ia;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(ia||(ia={}));var Fe;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(Fe||(Fe={}));var tn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(tn||(tn={}));var gc;(function(i){i.websocket="websocket"})(gc||(gc={}));var ka;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(ka||(ka={}));class xb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const o=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(n){var r,l;const o=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},f=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,f)}_encodeUserBroadcastPush(n,r,l){var o,c;const f=n.topic,h=(o=n.ref)!==null&&o!==void 0?o:"",m=(c=n.join_ref)!==null&&c!==void 0?c:"",g=n.payload.event,y=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},_=Object.keys(y).length===0?"":JSON.stringify(y);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`topic length ${f.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(_.length>255)throw new Error(`metadata length ${_.length} exceeds maximum of 255`);const w=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+f.length+g.length+_.length,E=new ArrayBuffer(this.HEADER_LENGTH+w);let O=new DataView(E),M=0;O.setUint8(M++,this.KINDS.userBroadcastPush),O.setUint8(M++,m.length),O.setUint8(M++,h.length),O.setUint8(M++,f.length),O.setUint8(M++,g.length),O.setUint8(M++,_.length),O.setUint8(M++,r),Array.from(m,L=>O.setUint8(M++,L.charCodeAt(0))),Array.from(h,L=>O.setUint8(M++,L.charCodeAt(0))),Array.from(f,L=>O.setUint8(M++,L.charCodeAt(0))),Array.from(g,L=>O.setUint8(M++,L.charCodeAt(0))),Array.from(_,L=>O.setUint8(M++,L.charCodeAt(0)));var D=new Uint8Array(E.byteLength+l.byteLength);return D.set(new Uint8Array(E),0),D.set(new Uint8Array(l),E.byteLength),D.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[o,c,f,h,m]=l;return r({join_ref:o,ref:c,topic:f,event:h,payload:m})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),o=new TextDecoder;if(l===this.KINDS.userBroadcast)return this._decodeUserBroadcast(n,r,o)}_decodeUserBroadcast(n,r,l){const o=r.getUint8(1),c=r.getUint8(2),f=r.getUint8(3),h=r.getUint8(4);let m=this.HEADER_LENGTH+4;const g=l.decode(n.slice(m,m+o));m=m+o;const y=l.decode(n.slice(m,m+c));m=m+c;const _=l.decode(n.slice(m,m+f));m=m+f;const w=n.slice(m,n.byteLength),E=h===this.JSON_ENCODING?JSON.parse(l.decode(w)):w,O={type:this.BROADCAST_EVENT,event:y,payload:E};return f>0&&(O.meta=JSON.parse(_)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:O}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n?.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}class lg{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var De;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(De||(De={}));const mp=(i,n,r={})=>{var l;const o=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((c,f)=>(c[f]=Ab(f,i,n,o),c),{}):{}},Ab=(i,n,r,l)=>{const o=n.find(h=>h.name===i),c=o?.type,f=r[i];return c&&!l.includes(c)?og(c,f):yc(f)},og=(i,n)=>{if(i.charAt(0)==="_"){const r=i.slice(1,i.length);return kb(n,r)}switch(i){case De.bool:return Ob(n);case De.float4:case De.float8:case De.int2:case De.int4:case De.int8:case De.numeric:case De.oid:return Cb(n);case De.json:case De.jsonb:return Rb(n);case De.timestamp:return Nb(n);case De.abstime:case De.date:case De.daterange:case De.int4range:case De.int8range:case De.money:case De.reltime:case De.text:case De.time:case De.timestamptz:case De.timetz:case De.tsrange:case De.tstzrange:return yc(n);default:return yc(n)}},yc=i=>i,Ob=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},Cb=i=>{if(typeof i=="string"){const n=parseFloat(i);if(!Number.isNaN(n))return n}return i},Rb=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},kb=(i,n)=>{if(typeof i!="string")return i;const r=i.length-1,l=i[r];if(i[0]==="{"&&l==="}"){let c;const f=i.slice(1,r);try{c=JSON.parse("["+f+"]")}catch{c=f?f.split(","):[]}return c.map(h=>og(n,h))}return i},Nb=i=>typeof i=="string"?i.replace(" ","T"):i,ug=i=>{const n=new URL(i);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class tc{constructor(n,r,l={},o=pc){this.channel=n,this.event=r,this.payload=l,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var pp;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(pp||(pp={}));class Rr{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},o=>{const{onJoin:c,onLeave:f,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rr.syncState(this.state,o,c,f),this.pendingDiffs.forEach(m=>{this.state=Rr.syncDiff(this.state,m,c,f)}),this.pendingDiffs=[],h()}),this.channel._on(l.diff,{},o=>{const{onJoin:c,onLeave:f,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Rr.syncDiff(this.state,o,c,f),h())}),this.onJoin((o,c,f)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:f})}),this.onLeave((o,c,f)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:f})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,o){const c=this.cloneDeep(n),f=this.transformState(r),h={},m={};return this.map(c,(g,y)=>{f[g]||(m[g]=y)}),this.map(f,(g,y)=>{const _=c[g];if(_){const w=y.map(D=>D.presence_ref),E=_.map(D=>D.presence_ref),O=y.filter(D=>E.indexOf(D.presence_ref)<0),M=_.filter(D=>w.indexOf(D.presence_ref)<0);O.length>0&&(h[g]=O),M.length>0&&(m[g]=M)}else h[g]=y}),this.syncDiff(c,{joins:h,leaves:m},l,o)}static syncDiff(n,r,l,o){const{joins:c,leaves:f}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),o||(o=()=>{}),this.map(c,(h,m)=>{var g;const y=(g=n[h])!==null&&g!==void 0?g:[];if(n[h]=this.cloneDeep(m),y.length>0){const _=n[h].map(E=>E.presence_ref),w=y.filter(E=>_.indexOf(E.presence_ref)<0);n[h].unshift(...w)}l(h,y,m)}),this.map(f,(h,m)=>{let g=n[h];if(!g)return;const y=m.map(_=>_.presence_ref);g=g.filter(_=>y.indexOf(_.presence_ref)<0),n[h]=g,o(h,g,m),g.length===0&&delete n[h]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const o=n[l];return"metas"in o?r[l]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):r[l]=o,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var gp;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(gp||(gp={}));var kr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(kr||(kr={}));var Rn;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})(Rn||(Rn={}));class Oi{constructor(n,r={config:{}},l){var o,c;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=Fe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new tc(this,tn.join,this.params,this.timeout),this.rejoinTimer=new lg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Fe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(f=>f.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Fe.closed,this.socket._remove(this)}),this._onError(f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",f=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,f),this.state=Fe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tn.reply,{},(f,h)=>{this._trigger(this._replyEventName(h),f)}),this.presence=new Rr(this),this.broadcastEndpointURL=ug(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==Fe.closed){const{config:{broadcast:f,presence:h,private:m}}=this.params,g=(o=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(E=>E.filter))!==null&&o!==void 0?o:[],y=!!this.bindings[kr.PRESENCE]&&this.bindings[kr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,_={},w={broadcast:f,presence:Object.assign(Object.assign({},h),{enabled:y}),postgres_changes:g,private:m};this.socket.accessTokenValue&&(_.access_token=this.socket.accessTokenValue),this._onError(E=>n?.(Rn.CHANNEL_ERROR,E)),this._onClose(()=>n?.(Rn.CLOSED)),this.updateJoinPayload(Object.assign({config:w},_)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var O;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){n?.(Rn.SUBSCRIBED);return}else{const M=this.bindings.postgres_changes,D=(O=M?.length)!==null&&O!==void 0?O:0,L=[];for(let B=0;B<D;B++){const z=M[B],{filter:{event:G,schema:W,table:ae,filter:Q}}=z,ue=E&&E[B];if(ue&&ue.event===G&&Oi.isFilterValueEqual(ue.schema,W)&&Oi.isFilterValueEqual(ue.table,ae)&&Oi.isFilterValueEqual(ue.filter,Q))L.push(Object.assign(Object.assign({},z),{id:ue.id}));else{this.unsubscribe(),this.state=Fe.errored,n?.(Rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=L,n&&n(Rn.SUBSCRIBED);return}}).receive("error",E=>{this.state=Fe.errored,n?.(Rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n?.(Rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===Fe.joined&&n===kr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var o;if(r==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const f={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(o=l.timeout)!==null&&o!==void 0?o:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const g=await h.json();m=g.error||g.message||m}catch{}return Promise.reject(new Error(m))}async send(n,r={}){var l,o;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:f}=n,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:f,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var f,h,m;const g=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((m=(h=(f=this.params)===null||f===void 0?void 0:f.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Fe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tn.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(o=>{l=new tc(this,tn.leave,{},n),l.receive("ok",()=>{r(),o("ok")}).receive("timeout",()=>{r(),o("timed out")}).receive("error",()=>{o("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Fe.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const o=new AbortController,c=setTimeout(()=>o.abort(),l),f=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:o.signal}));return clearTimeout(c),f}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new tc(this,n,r,l);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Tb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var o,c;const f=n.toLocaleLowerCase(),{close:h,error:m,leave:g,join:y}=tn;if(l&&[h,m,g,y].indexOf(f)>=0&&l!==this._joinRef())return;let w=this._onMessage(f,r,l);if(r&&!w)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(f)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(E=>{var O,M,D;return((O=E.filter)===null||O===void 0?void 0:O.event)==="*"||((D=(M=E.filter)===null||M===void 0?void 0:M.event)===null||D===void 0?void 0:D.toLocaleLowerCase())===f}).map(E=>E.callback(w,l)):(c=this.bindings[f])===null||c===void 0||c.filter(E=>{var O,M,D,L,B,z;if(["broadcast","presence","postgres_changes"].includes(f))if("id"in E){const G=E.id,W=(O=E.filter)===null||O===void 0?void 0:O.event;return G&&((M=r.ids)===null||M===void 0?void 0:M.includes(G))&&(W==="*"||W?.toLocaleLowerCase()===((D=r.data)===null||D===void 0?void 0:D.type.toLocaleLowerCase()))}else{const G=(B=(L=E?.filter)===null||L===void 0?void 0:L.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return G==="*"||G===((z=r?.event)===null||z===void 0?void 0:z.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===f}).map(E=>{if(typeof w=="object"&&"ids"in w){const O=w.data,{schema:M,table:D,commit_timestamp:L,type:B,errors:z}=O;w=Object.assign(Object.assign({},{schema:M,table:D,commit_timestamp:L,eventType:B,new:{},old:{},errors:z}),this._getPayloadRecords(O))}E.callback(w,l)})}_isClosed(){return this.state===Fe.closed}_isJoined(){return this.state===Fe.joined}_isJoining(){return this.state===Fe.joining}_isLeaving(){return this.state===Fe.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const o=n.toLocaleLowerCase(),c={type:o,filter:r,callback:l};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===l&&Oi.isEqual(o.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(tn.close,{},n)}_onError(n){this._on(tn.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fe.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=mp(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=mp(n.columns,n.old_record)),r}}const nc=()=>{},ol={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},jb=[1e3,2e3,5e3,1e4],Db=1e4,Mb=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Ub{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pc,this.transport=null,this.heartbeatIntervalMs=ol.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=nc,this.ref=0,this.reconnectTimer=null,this.vsn=hp,this.logger=nc,this.conn=null,this.sendBuffer=[],this.serializer=new xb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((l=r?.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${gc.websocket}`,this.httpEndpoint=ug(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=_b.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ia.connecting:return ka.Connecting;case ia.open:return ka.Open;case ia.closing:return ka.Closing;default:return ka.Closed}}isConnected(){return this.connectionState()===ka.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,o=this.getChannels().find(c=>c.topic===l);if(o)return o;{const c=new Oi(`realtime:${n}`,r,this);return this.channels.push(c),c}}push(n){const{topic:r,event:l,payload:o,ref:c}=n,f=()=>{this.encode(n,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${r} ${l} (${c})`,o),this.isConnected()?f():this.sendBuffer.push(f)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Eb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ol.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(g){this.log("error","error in heartbeat callback",g)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:l,event:o,payload:c,ref:f}=r,h=f?`(${f})`:"",m=c.status||"";this.log("receive",`${m} ${l} ${o} ${h}`.trim(),c),this.channels.filter(g=>g._isMember(l)).forEach(g=>g._trigger(o,c,f)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ia.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ia.open||this.conn.readyState===ia.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(tn.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",o=new URLSearchParams(r);return`${n}${l}${o}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([Mb],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(o=>{const c={access_token:r,version:wb};r&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(tn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(o){this.log("error",`error in ${n} callback`,o)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new lg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ol.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,o,c,f,h,m,g,y,_,w,E;switch(this.transport=(r=n?.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n?.timeout)!==null&&l!==void 0?l:pc,this.heartbeatIntervalMs=(o=n?.heartbeatIntervalMs)!==null&&o!==void 0?o:ol.HEARTBEAT_INTERVAL,this.worker=(c=n?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(f=n?.accessToken)!==null&&f!==void 0?f:null,this.heartbeatCallback=(h=n?.heartbeatCallback)!==null&&h!==void 0?h:nc,this.vsn=(m=n?.vsn)!==null&&m!==void 0?m:hp,n?.params&&(this.params=n.params),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=n?.reconnectAfterMs)!==null&&g!==void 0?g:(O=>jb[O-1]||Db),this.vsn){case sg:this.encode=(y=n?.encode)!==null&&y!==void 0?y:((O,M)=>M(JSON.stringify(O))),this.decode=(_=n?.decode)!==null&&_!==void 0?_:((O,M)=>M(JSON.parse(O)));break;case Sb:this.encode=(w=n?.encode)!==null&&w!==void 0?w:this.serializer.encode.bind(this.serializer),this.decode=(E=n?.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n?.workerUrl}}}var Dr=class extends Error{constructor(i,n){super(i),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&n.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function zb(i,n,r){const l=new URL(n,i);if(r)for(const[o,c]of Object.entries(r))c!==void 0&&l.searchParams.set(o,c);return l.toString()}async function Lb(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function qb(i){const n=i.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:o,body:c,headers:f}){const h=zb(i.baseUrl,l,o),m=await Lb(i.auth),g=await n(h,{method:r,headers:{...c?{"Content-Type":"application/json"}:{},...m,...f},body:c?JSON.stringify(c):void 0}),y=await g.text(),_=(g.headers.get("content-type")||"").includes("application/json"),w=_&&y?JSON.parse(y):y;if(!g.ok){const E=_?w:void 0,O=E?.error;throw new Dr(O?.message??`Request failed with status ${g.status}`,{status:g.status,icebergType:O?.type,icebergCode:O?.code,details:E})}return{status:g.status,headers:g.headers,data:w}}}}function ul(i){return i.join("")}var Bb=class{constructor(i,n=""){this.client=i,this.prefix=n}async listNamespaces(i){const n=i?{parent:ul(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(i,n){const r={namespace:i.namespace,properties:n?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ul(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ul(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ul(i.namespace)}`}),!0}catch(n){if(n instanceof Dr&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(i,n){try{return await this.createNamespace(i,n)}catch(r){if(r instanceof Dr&&r.status===409)return;throw r}}};function vi(i){return i.join("")}var $b=class{constructor(i,n="",r){this.client=i,this.prefix=n,this.accessDelegation=r}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(i.namespace)}/tables`})).data.identifiers}async createTable(i,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(i.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(i,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${vi(i.namespace)}/tables/${i.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(i,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${vi(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String(n?.purge??!1)}})}async loadTable(i){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${vi(i.namespace)}/tables/${i.name}`,headers:n})).data.metadata}async tableExists(i){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${vi(i.namespace)}/tables/${i.name}`,headers:n}),!0}catch(r){if(r instanceof Dr&&r.status===404)return!1;throw r}}async createTableIfNotExists(i,n){try{return await this.createTable(i,n)}catch(r){if(r instanceof Dr&&r.status===409)return await this.loadTable({namespace:i.namespace,name:n.name});throw r}}},Hb=class{constructor(i){let n="v1";i.catalogName&&(n+=`/${i.catalogName}`);const r=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=qb({baseUrl:r,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=i.accessDelegation?.join(","),this.namespaceOps=new Bb(this.client,n),this.tableOps=new $b(this.client,n,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,n){return this.namespaceOps.createNamespace(i,n)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,n){return this.tableOps.createTable(i,n)}async updateTable(i,n){return this.tableOps.updateTable(i,n)}async dropTable(i,n){await this.tableOps.dropTable(i,n)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,n){return this.namespaceOps.createNamespaceIfNotExists(i,n)}async createTableIfNotExists(i,n){return this.tableOps.createTableIfNotExists(i,n)}},El=class extends Error{constructor(i){super(i),this.__isStorageError=!0,this.name="StorageError"}};function qe(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var Ib=class extends El{constructor(i,n,r){super(i),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vc=class extends El{constructor(i,n){super(i),this.name="StorageUnknownError",this.originalError=n}};const Lc=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Pb=()=>Response,_c=i=>{if(Array.isArray(i))return i.map(r=>_c(r));if(typeof i=="function"||i!==Object(i))return i;const n={};return Object.entries(i).forEach(([r,l])=>{const o=r.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));n[o]=_c(l)}),n},Vb=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Gb=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Mr(i){"@babel/helpers - typeof";return Mr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Mr(i)}function Kb(i,n){if(Mr(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(Mr(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function Yb(i){var n=Kb(i,"string");return Mr(n)=="symbol"?n:n+""}function Jb(i,n,r){return(n=Yb(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function yp(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),r.push.apply(r,l)}return r}function se(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?yp(Object(r),!0).forEach(function(l){Jb(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):yp(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const ac=i=>{var n;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(n=i.error)===null||n===void 0?void 0:n.message)||JSON.stringify(i)},Qb=async(i,n,r)=>{i instanceof await Pb()&&!r?.noResolveJson?i.json().then(l=>{const o=i.status||500,c=l?.statusCode||o+"";n(new Ib(ac(l),o,c))}).catch(l=>{n(new vc(ac(l),l))}):n(new vc(ac(i),i))},Xb=(i,n,r,l)=>{const o={method:i,headers:n?.headers||{}};return i==="GET"||!l?o:(Vb(l)?(o.headers=se({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,n?.duplex&&(o.duplex=n.duplex),se(se({},o),r))};async function Ir(i,n,r,l,o,c){return new Promise((f,h)=>{i(r,Xb(n,l,o,c)).then(m=>{if(!m.ok)throw m;return l?.noResolveJson?m:m.json()}).then(m=>f(m)).catch(m=>Qb(m,h,l))})}async function Ur(i,n,r,l){return Ir(i,"GET",n,r,l)}async function en(i,n,r,l,o){return Ir(i,"POST",n,l,o,r)}async function bc(i,n,r,l,o){return Ir(i,"PUT",n,l,o,r)}async function Zb(i,n,r,l){return Ir(i,"HEAD",n,se(se({},r),{},{noResolveJson:!0}),l)}async function qc(i,n,r,l,o){return Ir(i,"DELETE",n,l,o,r)}var Wb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n}then(i,n){return this.execute().then(i,n)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}};let cg;cg=Symbol.toStringTag;var Fb=class{constructor(i,n){this.downloadFn=i,this.shouldThrowOnError=n,this[cg]="BlobDownloadBuilder",this.promise=null}asStream(){return new Wb(this.downloadFn,this.shouldThrowOnError)}then(i,n){return this.getPromise().then(i,n)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(n){if(i.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}}};const ew={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},vp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var tw=class{constructor(i,n={},r,l){this.shouldThrowOnError=!1,this.url=i,this.headers=n,this.bucketId=r,this.fetch=Lc(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(i,n,r,l){var o=this;try{let c;const f=se(se({},vp),l);let h=se(se({},o.headers),i==="POST"&&{"x-upsert":String(f.upsert)});const m=f.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",f.cacheControl),m&&c.append("metadata",o.encodeMetadata(m)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.has("cacheControl")||c.append("cacheControl",f.cacheControl),m&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(m))):(c=r,h["cache-control"]=`max-age=${f.cacheControl}`,h["content-type"]=f.contentType,m&&(h["x-metadata"]=o.toBase64(o.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!f.duplex&&(f.duplex="half")),l?.headers&&(h=se(se({},h),l.headers));const g=o._removeEmptyFolders(n),y=o._getFinalPath(g),_=await(i=="PUT"?bc:en)(o.fetch,`${o.url}/object/${y}`,c,se({headers:h},f?.duplex?{duplex:f.duplex}:{}));return{data:{path:g,id:_.Id,fullPath:_.Key},error:null}}catch(c){if(o.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}}async upload(i,n,r){return this.uploadOrUpdate("POST",i,n,r)}async uploadToSignedUrl(i,n,r,l){var o=this;const c=o._removeEmptyFolders(i),f=o._getFinalPath(c),h=new URL(o.url+`/object/upload/sign/${f}`);h.searchParams.set("token",n);try{let m;const g=se({upsert:vp.upsert},l),y=se(se({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",g.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",g.cacheControl)):(m=r,y["cache-control"]=`max-age=${g.cacheControl}`,y["content-type"]=g.contentType),{data:{path:c,fullPath:(await bc(o.fetch,h.toString(),m,{headers:y})).Key},error:null}}catch(m){if(o.shouldThrowOnError)throw m;if(qe(m))return{data:null,error:m};throw m}}async createSignedUploadUrl(i,n){var r=this;try{let l=r._getFinalPath(i);const o=se({},r.headers);n?.upsert&&(o["x-upsert"]="true");const c=await en(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:o}),f=new URL(r.url+c.url),h=f.searchParams.get("token");if(!h)throw new El("No token returned by API");return{data:{signedUrl:f.toString(),path:i,token:h},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async update(i,n,r){return this.uploadOrUpdate("PUT",i,n,r)}async move(i,n,r){var l=this;try{return{data:await en(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers}),error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async copy(i,n,r){var l=this;try{return{data:{path:(await en(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:i,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:l.headers})).Key},error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async createSignedUrl(i,n,r){var l=this;try{let o=l._getFinalPath(i),c=await en(l.fetch,`${l.url}/object/sign/${o}`,se({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:l.headers});const f=r?.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${l.url}${c.signedURL}${f}`)},{data:c,error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async createSignedUrls(i,n,r){var l=this;try{const o=await en(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:i},{headers:l.headers}),c=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(f=>se(se({},f),{},{signedUrl:f.signedURL?encodeURI(`${l.url}${f.signedURL}${c}`):null})),error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}download(i,n){const r=typeof n?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(n?.transform||{}),o=l?`?${l}`:"",c=this._getFinalPath(i),f=()=>Ur(this.fetch,`${this.url}/${r}/${c}${o}`,{headers:this.headers,noResolveJson:!0});return new Fb(f,this.shouldThrowOnError)}async info(i){var n=this;const r=n._getFinalPath(i);try{return{data:_c(await Ur(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async exists(i){var n=this;const r=n._getFinalPath(i);try{return await Zb(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(qe(l)&&l instanceof vc){const o=l.originalError;if([400,404].includes(o?.status))return{data:!1,error:l}}throw l}}getPublicUrl(i,n){const r=this._getFinalPath(i),l=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&l.push(o);const c=typeof n?.transform<"u"?"render/image":"object",f=this.transformOptsToQueryString(n?.transform||{});f!==""&&l.push(f);let h=l.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${h}`)}}}async remove(i){var n=this;try{return{data:await qc(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async list(i,n,r){var l=this;try{const o=se(se(se({},ew),n),{},{prefix:i||""});return{data:await en(l.fetch,`${l.url}/object/list/${l.bucketId}`,o,{headers:l.headers},r),error:null}}catch(o){if(l.shouldThrowOnError)throw o;if(qe(o))return{data:null,error:o};throw o}}async listV2(i,n){var r=this;try{const l=se({},i);return{data:await en(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const n=[];return i.width&&n.push(`width=${i.width}`),i.height&&n.push(`height=${i.height}`),i.resize&&n.push(`resize=${i.resize}`),i.format&&n.push(`format=${i.format}`),i.quality&&n.push(`quality=${i.quality}`),n.join("&")}};const dg="2.88.0",fg={"X-Client-Info":`storage-js/${dg}`};var nw=class{constructor(i,n={},r,l){this.shouldThrowOnError=!1;const o=new URL(i);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=se(se({},fg),n),this.fetch=Lc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(i){var n=this;try{const r=n.listBucketOptionsToQueryString(i);return{data:await Ur(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async getBucket(i){var n=this;try{return{data:await Ur(n.fetch,`${n.url}/bucket/${i}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async createBucket(i,n={public:!1}){var r=this;try{return{data:await en(r.fetch,`${r.url}/bucket`,{id:i,name:i,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async updateBucket(i,n){var r=this;try{return{data:await bc(r.fetch,`${r.url}/bucket/${i}`,{id:i,name:i,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(qe(l))return{data:null,error:l};throw l}}async emptyBucket(i){var n=this;try{return{data:await en(n.fetch,`${n.url}/bucket/${i}/empty`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await qc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(i){const n={};return i&&("limit"in i&&(n.limit=String(i.limit)),"offset"in i&&(n.offset=String(i.offset)),i.search&&(n.search=i.search),i.sortColumn&&(n.sortColumn=i.sortColumn),i.sortOrder&&(n.sortOrder=i.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},aw=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=se(se({},fg),n),this.fetch=Lc(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await en(n.fetch,`${n.url}/bucket`,{name:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async listBuckets(i){var n=this;try{const r=new URLSearchParams;i?.limit!==void 0&&r.set("limit",i.limit.toString()),i?.offset!==void 0&&r.set("offset",i.offset.toString()),i?.sortColumn&&r.set("sortColumn",i.sortColumn),i?.sortOrder&&r.set("sortOrder",i.sortOrder),i?.search&&r.set("search",i.search);const l=r.toString(),o=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Ur(n.fetch,o,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await qc(n.fetch,`${n.url}/bucket/${i}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}}from(i){var n=this;if(!Gb(i))throw new El("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new Hb({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(o,c){const f=o[c];return typeof f!="function"?f:async(...h)=>{try{return{data:await f.apply(o,h),error:null}}catch(m){if(l)throw m;return{data:null,error:m}}}}})}};const Bc={"X-Client-Info":`storage-js/${dg}`,"Content-Type":"application/json"};var hg=class extends Error{constructor(i){super(i),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ut(i){return typeof i=="object"&&i!==null&&"__isStorageVectorsError"in i}var ic=class extends hg{constructor(i,n,r){super(i),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},iw=class extends hg{constructor(i,n){super(i),this.name="StorageVectorsUnknownError",this.originalError=n}};const $c=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),rw=i=>{if(typeof i!="object"||i===null)return!1;const n=Object.getPrototypeOf(i);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},_p=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),sw=async(i,n,r)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!r?.noResolveJson){const l=i.status||500,o=i;if(typeof o.json=="function")o.json().then(c=>{const f=c?.statusCode||c?.code||l+"";n(new ic(_p(c),l,f))}).catch(()=>{const c=l+"";n(new ic(o.statusText||`HTTP ${l} error`,l,c))});else{const c=l+"";n(new ic(o.statusText||`HTTP ${l} error`,l,c))}}else n(new iw(_p(i),i))},lw=(i,n,r,l)=>{const o={method:i,headers:n?.headers||{}};return l?(rw(l)?(o.headers=se({"Content-Type":"application/json"},n?.headers),o.body=JSON.stringify(l)):o.body=l,se(se({},o),r)):o};async function ow(i,n,r,l,o,c){return new Promise((f,h)=>{i(r,lw(n,l,o,c)).then(m=>{if(!m.ok)throw m;if(l?.noResolveJson)return m;const g=m.headers.get("content-type");return!g||!g.includes("application/json")?{}:m.json()}).then(m=>f(m)).catch(m=>sw(m,h,l))})}async function zt(i,n,r,l,o){return ow(i,"POST",n,l,o,r)}var uw=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=se(se({},Bc),n),this.fetch=$c(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(i){var n=this;try{return{data:await zt(n.fetch,`${n.url}/CreateIndex`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async getIndex(i,n){var r=this;try{return{data:await zt(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}}async listIndexes(i){var n=this;try{return{data:await zt(n.fetch,`${n.url}/ListIndexes`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async deleteIndex(i,n){var r=this;try{return{data:await zt(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:i,indexName:n},{headers:r.headers})||{},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(Ut(l))return{data:null,error:l};throw l}}},cw=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=se(se({},Bc),n),this.fetch=$c(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(i){var n=this;try{if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await zt(n.fetch,`${n.url}/PutVectors`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async getVectors(i){var n=this;try{return{data:await zt(n.fetch,`${n.url}/GetVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async listVectors(i){var n=this;try{if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return{data:await zt(n.fetch,`${n.url}/ListVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async queryVectors(i){var n=this;try{return{data:await zt(n.fetch,`${n.url}/QueryVectors`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async deleteVectors(i){var n=this;try{if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await zt(n.fetch,`${n.url}/DeleteVectors`,i,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}},dw=class{constructor(i,n={},r){this.shouldThrowOnError=!1,this.url=i.replace(/\/$/,""),this.headers=se(se({},Bc),n),this.fetch=$c(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(i){var n=this;try{return{data:await zt(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async getBucket(i){var n=this;try{return{data:await zt(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:i},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async listBuckets(i={}){var n=this;try{return{data:await zt(n.fetch,`${n.url}/ListVectorBuckets`,i,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}async deleteBucket(i){var n=this;try{return{data:await zt(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Ut(r))return{data:null,error:r};throw r}}},fw=class extends dw{constructor(i,n={}){super(i,n.headers||{},n.fetch)}from(i){return new hw(this.url,this.headers,i,this.fetch)}async createBucket(i){var n=()=>super.createBucket,r=this;return n().call(r,i)}async getBucket(i){var n=()=>super.getBucket,r=this;return n().call(r,i)}async listBuckets(i={}){var n=()=>super.listBuckets,r=this;return n().call(r,i)}async deleteBucket(i){var n=()=>super.deleteBucket,r=this;return n().call(r,i)}},hw=class extends uw{constructor(i,n,r,l){super(i,n,l),this.vectorBucketName=r}async createIndex(i){var n=()=>super.createIndex,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(i={}){var n=()=>super.listIndexes,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(i){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,i)}async deleteIndex(i){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,i)}index(i){return new mw(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},mw=class extends cw{constructor(i,n,r,l,o){super(i,n,o),this.vectorBucketName=r,this.indexName=l}async putVectors(i){var n=()=>super.putVectors,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(i){var n=()=>super.getVectors,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(i={}){var n=()=>super.listVectors,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(i){var n=()=>super.queryVectors,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(i){var n=()=>super.deleteVectors,r=this;return n().call(r,se(se({},i),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},pw=class extends nw{constructor(i,n={},r,l){super(i,n,r,l)}from(i){return new tw(this.url,this.headers,i,this.fetch)}get vectors(){return new fw(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new aw(this.url+"/iceberg",this.headers,this.fetch)}};const mg="2.88.0",xi=30*1e3,wc=3,rc=wc*xi,gw="http://localhost:9999",yw="supabase.auth.token",vw={"X-Client-Info":`gotrue-js/${mg}`},Sc="X-Supabase-Api-Version",pg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},_w=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,bw=600*1e3;class zr extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function ee(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class ww extends zr{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function Sw(i){return ee(i)&&i.name==="AuthApiError"}class Na extends zr{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class jn extends zr{constructor(n,r,l,o){super(n,l,o),this.name=r,this.status=l}}class Mt extends jn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ew(i){return ee(i)&&i.name==="AuthSessionMissingError"}class _i extends jn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cl extends jn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class dl extends jn{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Tw(i){return ee(i)&&i.name==="AuthImplicitGrantRedirectError"}class bp extends jn{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class xw extends jn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Ec extends jn{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function sc(i){return ee(i)&&i.name==="AuthRetryableFetchError"}class wp extends jn{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class Tc extends jn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const gl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sp=` 	
\r=`.split(""),Aw=(()=>{const i=new Array(128);for(let n=0;n<i.length;n+=1)i[n]=-1;for(let n=0;n<Sp.length;n+=1)i[Sp[n].charCodeAt(0)]=-2;for(let n=0;n<gl.length;n+=1)i[gl[n].charCodeAt(0)]=n;return i})();function Ep(i,n,r){if(i!==null)for(n.queue=n.queue<<8|i,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(gl[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(gl[l]),n.queuedBits-=6}}function gg(i,n,r){const l=Aw[i];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function Tp(i){const n=[],r=f=>{n.push(String.fromCodePoint(f))},l={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=f=>{Rw(f,l,r)};for(let f=0;f<i.length;f+=1)gg(i.charCodeAt(f),o,c);return n.join("")}function Ow(i,n){if(i<=127){n(i);return}else if(i<=2047){n(192|i>>6),n(128|i&63);return}else if(i<=65535){n(224|i>>12),n(128|i>>6&63),n(128|i&63);return}else if(i<=1114111){n(240|i>>18),n(128|i>>12&63),n(128|i>>6&63),n(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function Cw(i,n){for(let r=0;r<i.length;r+=1){let l=i.charCodeAt(r);if(l>55295&&l<=56319){const o=(l-55296)*1024&65535;l=(i.charCodeAt(r+1)-56320&65535|o)+65536,r+=1}Ow(l,n)}}function Rw(i,n,r){if(n.utf8seq===0){if(i<=127){r(i);return}for(let l=1;l<6;l+=1)if((i>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=i&31;else if(n.utf8seq===3)n.codepoint=i&15;else if(n.utf8seq===4)n.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|i&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Ci(i){const n=[],r={queue:0,queuedBits:0},l=o=>{n.push(o)};for(let o=0;o<i.length;o+=1)gg(i.charCodeAt(o),r,l);return new Uint8Array(n)}function kw(i){const n=[];return Cw(i,r=>n.push(r)),new Uint8Array(n)}function ja(i){const n=[],r={queue:0,queuedBits:0},l=o=>{n.push(o)};return i.forEach(o=>Ep(o,r,l)),Ep(null,r,l),n.join("")}function Nw(i){return Math.round(Date.now()/1e3)+i}function jw(){return Symbol("auth-callback")}const ot=()=>typeof window<"u"&&typeof document<"u",Oa={tested:!1,writable:!1},yg=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Oa.tested)return Oa.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Oa.tested=!0,Oa.writable=!0}catch{Oa.tested=!0,Oa.writable=!1}return Oa.writable};function Dw(i){const n={},r=new URL(i);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((o,c)=>{n[c]=o})}catch{}return r.searchParams.forEach((l,o)=>{n[o]=l}),n}const vg=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),Mw=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Ai=async(i,n,r)=>{await i.setItem(n,JSON.stringify(r))},Ca=async(i,n)=>{const r=await i.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},lt=async(i,n)=>{await i.removeItem(n)};class Tl{constructor(){this.promise=new Tl.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}Tl.promiseConstructor=Promise;function lc(i){const n=i.split(".");if(n.length!==3)throw new Tc("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!_w.test(n[l]))throw new Tc("JWT not in base64url format");return{header:JSON.parse(Tp(n[0])),payload:JSON.parse(Tp(n[1])),signature:Ci(n[2]),raw:{header:n[0],payload:n[1]}}}async function Uw(i){return await new Promise(n=>{setTimeout(()=>n(null),i)})}function zw(i,n){return new Promise((l,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const f=await i(c);if(!n(c,null,f)){l(f);return}}catch(f){if(!n(c,f)){o(f);return}}})()})}function Lw(i){return("0"+i.toString(16)).substr(-2)}function qw(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let o="";for(let c=0;c<56;c++)o+=r.charAt(Math.floor(Math.random()*l));return o}return crypto.getRandomValues(n),Array.from(n,Lw).join("")}async function Bw(i){const r=new TextEncoder().encode(i),l=await crypto.subtle.digest("SHA-256",r),o=new Uint8Array(l);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function $w(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const r=await Bw(i);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bi(i,n,r=!1){const l=qw();let o=l;r&&(o+="/PASSWORD_RECOVERY"),await Ai(i,`${n}-code-verifier`,o);const c=await $w(l);return[c,l===c?"plain":"s256"]}const Hw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Iw(i){const n=i.headers.get(Sc);if(!n||!n.match(Hw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Pw(i){if(!i)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(i<=n)throw new Error("JWT has expired")}function Vw(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Gw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function wi(i){if(!Gw.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function oc(){const i={};return new Proxy(i,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Kw(i,n){return new Proxy(i,{get:(r,l,o)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const c=l.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,o)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,o)}})}function xp(i){return JSON.parse(JSON.stringify(i))}const Ra=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),Yw=[502,503,504];async function Ap(i){var n;if(!Mw(i))throw new Ec(Ra(i),0);if(Yw.includes(i.status))throw new Ec(Ra(i),i.status);let r;try{r=await i.json()}catch(c){throw new Na(Ra(c),c)}let l;const o=Iw(i);if(o&&o.getTime()>=pg["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new wp(Ra(r),i.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Mt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((c,f)=>c&&typeof f=="string",!0))throw new wp(Ra(r),i.status,r.weak_password.reasons);throw new ww(Ra(r),i.status||500,l)}const Jw=(i,n,r,l)=>{const o={method:i,headers:n?.headers||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),o.body=JSON.stringify(l),Object.assign(Object.assign({},o),r))};async function re(i,n,r,l){var o;const c=Object.assign({},l?.headers);c[Sc]||(c[Sc]=pg["2024-01-01"].name),l?.jwt&&(c.Authorization=`Bearer ${l.jwt}`);const f=(o=l?.query)!==null&&o!==void 0?o:{};l?.redirectTo&&(f.redirect_to=l.redirectTo);const h=Object.keys(f).length?"?"+new URLSearchParams(f).toString():"",m=await Qw(i,n,r+h,{headers:c,noResolveJson:l?.noResolveJson},{},l?.body);return l?.xform?l?.xform(m):{data:Object.assign({},m),error:null}}async function Qw(i,n,r,l,o,c){const f=Jw(n,l,o,c);let h;try{h=await i(r,Object.assign({},f))}catch(m){throw console.error(m),new Ec(Ra(m),0)}if(h.ok||await Ap(h),l?.noResolveJson)return h;try{return await h.json()}catch(m){await Ap(m)}}function Ft(i){var n;let r=null;Ww(i)&&(r=Object.assign({},i),i.expires_at||(r.expires_at=Nw(i.expires_in)));const l=(n=i.user)!==null&&n!==void 0?n:i;return{data:{session:r,user:l},error:null}}function Op(i){const n=Ft(i);return!n.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=i.weak_password),n}function ra(i){var n;return{data:{user:(n=i.user)!==null&&n!==void 0?n:i},error:null}}function Xw(i){return{data:i,error:null}}function Zw(i){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:o,verification_type:c}=i,f=Sl(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:n,email_otp:r,hashed_token:l,redirect_to:o,verification_type:c},m=Object.assign({},f);return{data:{properties:h,user:m},error:null}}function Cp(i){return i}function Ww(i){return i.access_token&&i.refresh_token&&i.expires_in}const uc=["global","local","others"];class Fw{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=vg(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=uc[0]){if(uc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${uc.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ee(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ra})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=Sl(n,["options"]),o=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(o.new_email=l?.newEmail,delete o.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:Zw,redirectTo:r?.redirectTo})}catch(r){if(ee(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:ra})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,o,c,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},y=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Cp});if(y.error)throw y.error;const _=await y.json(),w=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(O=>{const M=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(O.split(";")[1].split("=")[1]);g[`${D}Page`]=M}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ee(g))return{data:{users:[]},error:g};throw g}}async getUserById(n){wi(n);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:ra})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){wi(n);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:ra})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){wi(n);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:ra})}catch(l){if(ee(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){wi(n.userId);try{const{data:r,error:l}=await re(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:r,error:l}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteFactor(n){wi(n.userId),wi(n.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,o,c,f,h,m;try{const g={nextPage:null,lastPage:0,total:0},y=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n?.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(c=(o=n?.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:Cp});if(y.error)throw y.error;const _=await y.json(),w=(f=y.headers.get("x-total-count"))!==null&&f!==void 0?f:0,E=(m=(h=y.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return E.length>0&&(E.forEach(O=>{const M=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),D=JSON.parse(O.split(";")[1].split("=")[1]);g[`${D}Page`]=M}),g.total=parseInt(w)),{data:Object.assign(Object.assign({},_),g),error:null}}catch(g){if(ee(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await re(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ee(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}}function Rp(i={}){return{getItem:n=>i[n]||null,setItem:(n,r)=>{i[n]=r},removeItem:n=>{delete i[n]}}}const Si={debug:!!(globalThis&&yg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class _g extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class eS extends _g{}async function tS(i,n,r){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Si.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(i,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async o=>{if(o){Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await r()}finally{Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(n===0)throw Si.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new eS(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Si.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function nS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function bg(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function aS(i){return parseInt(i,16)}function iS(i){const n=new TextEncoder().encode(i);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function rS(i){var n;const{chainId:r,domain:l,expirationTime:o,issuedAt:c=new Date,nonce:f,notBefore:h,requestId:m,resources:g,scheme:y,uri:_,version:w}=i;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(f&&f.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${f}`);if(!_)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(w!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${w}`);if(!((n=i.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const E=bg(i.address),O=y?`${y}://${l}`:l,M=i.statement?`${i.statement}
`:"",D=`${O} wants you to sign in with your Ethereum account:
${E}

${M}`;let L=`URI: ${_}
Version: ${w}
Chain ID: ${r}${f?`
Nonce: ${f}`:""}
Issued At: ${c.toISOString()}`;if(o&&(L+=`
Expiration Time: ${o.toISOString()}`),h&&(L+=`
Not Before: ${h.toISOString()}`),m&&(L+=`
Request ID: ${m}`),g){let B=`
Resources:`;for(const z of g){if(!z||typeof z!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${z}`);B+=`
- ${z}`}L+=B}return`${D}
${L}`}class Xe extends Error{constructor({message:n,code:r,cause:l,name:o}){var c;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(c=o??(l instanceof Error?l.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=r}}class yl extends Xe{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function sS({error:i,options:n}){var r,l,o;const{publicKey:c}=n;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Xe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((r=c.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Xe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(n.mediation==="conditional"&&((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Xe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new Xe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new Xe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new Xe({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new Xe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new Xe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const f=window.location.hostname;if(wg(f)){if(c.rp.id!==f)return new Xe({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new Xe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new Xe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function lS({error:i,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(n.signal instanceof AbortSignal)return new Xe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new Xe({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const l=window.location.hostname;if(wg(l)){if(r.rpId!==l)return new Xe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new Xe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new Xe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new Xe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class oS{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const uS=new oS;function cS(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:n,user:r,excludeCredentials:l}=i,o=Sl(i,["challenge","user","excludeCredentials"]),c=Ci(n).buffer,f=Object.assign(Object.assign({},r),{id:Ci(r.id).buffer}),h=Object.assign(Object.assign({},o),{challenge:c,user:f});if(l&&l.length>0){h.excludeCredentials=new Array(l.length);for(let m=0;m<l.length;m++){const g=l[m];h.excludeCredentials[m]=Object.assign(Object.assign({},g),{id:Ci(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return h}function dS(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:n,allowCredentials:r}=i,l=Sl(i,["challenge","allowCredentials"]),o=Ci(n).buffer,c=Object.assign(Object.assign({},l),{challenge:o});if(r&&r.length>0){c.allowCredentials=new Array(r.length);for(let f=0;f<r.length;f++){const h=r[f];c.allowCredentials[f]=Object.assign(Object.assign({},h),{id:Ci(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function fS(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i;return{id:i.id,rawId:i.id,response:{attestationObject:ja(new Uint8Array(i.response.attestationObject)),clientDataJSON:ja(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function hS(i){var n;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const r=i,l=i.getClientExtensionResults(),o=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:ja(new Uint8Array(o.authenticatorData)),clientDataJSON:ja(new Uint8Array(o.clientDataJSON)),signature:ja(new Uint8Array(o.signature)),userHandle:o.userHandle?ja(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function wg(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function kp(){var i,n;return!!(ot()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator?.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.get)=="function")}async function mS(i){try{const n=await navigator.credentials.create(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new yl("Browser returned unexpected credential type",n)}:{data:null,error:new yl("Empty credential response",n)}}catch(n){return{data:null,error:sS({error:n,options:i})}}}async function pS(i){try{const n=await navigator.credentials.get(i);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new yl("Browser returned unexpected credential type",n)}:{data:null,error:new yl("Empty credential response",n)}}catch(n){return{data:null,error:lS({error:n,options:i})}}}const gS={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},yS={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vl(...i){const n=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),r=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),l={};for(const o of i)if(o)for(const c in o){const f=o[c];if(f!==void 0)if(Array.isArray(f))l[c]=f;else if(r(f))l[c]=f;else if(n(f)){const h=l[c];n(h)?l[c]=vl(h,f):l[c]=vl(f)}else l[c]=f}return l}function vS(i,n){return vl(gS,i,n||{})}function _S(i,n){return vl(yS,i,n||{})}class bS{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:o},c){try{const{data:f,error:h}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!f)return{data:null,error:h};const m=o??uS.createNewAbortSignal();if(f.webauthn.type==="create"){const{user:g}=f.webauthn.credential_options.publicKey;g.name||(g.name=`${g.id}:${l}`),g.displayName||(g.displayName=g.name)}switch(f.webauthn.type){case"create":{const g=vS(f.webauthn.credential_options.publicKey,c?.create),{data:y,error:_}=await mS({publicKey:g,signal:m});return y?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}case"request":{const g=_S(f.webauthn.credential_options.publicKey,c?.request),{data:y,error:_}=await pS(Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:g,signal:m}));return y?{data:{factorId:n,challengeId:f.id,webauthn:{type:f.webauthn.type,credential_response:y}},error:null}:{data:null,error:_}}}}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Na("Unexpected error in challenge",f)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new zr("rpId is required for WebAuthn authentication")};try{if(!kp())return{data:null,error:new Na("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:o},{request:c});if(!f)return{data:null,error:h};const{webauthn:m}=f;return this._verify({factorId:n,challengeId:f.challengeId,webauthn:{type:m.type,rpId:r,rpOrigins:l,credential_response:m.credential_response}})}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Na("Unexpected error in authenticate",f)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!r)return{data:null,error:new zr("rpId is required for WebAuthn registration")};try{if(!kp())return{data:null,error:new Na("Browser does not support WebAuthn",null)};const{data:f,error:h}=await this._enroll({friendlyName:n});if(!f)return await this.client.mfa.listFactors().then(y=>{var _;return(_=y.data)===null||_===void 0?void 0:_.all.find(w=>w.factor_type==="webauthn"&&w.friendly_name===n&&w.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:h};const{data:m,error:g}=await this._challenge({factorId:f.id,friendlyName:f.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:o},{create:c});return m?this._verify({factorId:f.id,challengeId:m.challengeId,webauthn:{rpId:r,rpOrigins:l,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:g}}catch(f){return ee(f)?{data:null,error:f}:{data:null,error:new Na("Unexpected error in register",f)}}}}nS();const wS={url:gw,storageKey:yw,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:vw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Np(i,n,r){return await r()}const Ei={};class Lr{get jwks(){var n,r;return(r=(n=Ei[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Ei[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ei[this.storageKey]=Object.assign(Object.assign({},Ei[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},wS),n);if(this.storageKey=c.storageKey,this.instanceID=(r=Lr.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Lr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&ot()){const f=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(f),this.logDebugMessages&&console.trace(f)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new Fw({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=vg(c.fetch),this.lock=c.lock||Np,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,c.lock?this.lock=c.lock:this.persistSession&&ot()&&(!((l=globalThis?.navigator)===null||l===void 0)&&l.locks)?this.lock=tS:this.lock=Np,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new bS(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:yg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rp(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Rp(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(f){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",f)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async f=>{this._debug("received broadcast notification from other tab or client",f),await this._notifyAllSubscribers(f.data.event,f.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${mg}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(ot()&&(r=Dw(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ot()&&this.detectSessionInUrl&&l!=="none"){const{data:o,error:c}=await this._getSessionFromURL(r,l);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),Tw(c)){const m=(n=c.details)===null||n===void 0?void 0:n.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:f,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",f,"redirect type",h),await this._saveSession(f),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",f):await this._notifyAllSubscribers("SIGNED_IN",f)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ee(r)?this._returnResult({error:r}):this._returnResult({error:new Na("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,o;try{const c=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ft}),{data:f,error:h}=c;if(h||!f)return this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(n){var r,l,o;try{let c;if("email"in n){const{email:y,password:_,options:w}=n;let E=null,O=null;this.flowType==="pkce"&&([E,O]=await bi(this.storage,this.storageKey)),c=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:w?.emailRedirectTo,body:{email:y,password:_,data:(r=w?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:w?.captchaToken},code_challenge:E,code_challenge_method:O},xform:Ft})}else if("phone"in n){const{phone:y,password:_,options:w}=n;c=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:_,data:(l=w?.data)!==null&&l!==void 0?l:{},channel:(o=w?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:w?.captchaToken}},xform:Ft})}else throw new cl("You must provide either an email or phone number and a password");const{data:f,error:h}=c;if(h||!f)return await lt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const m=f.session,g=f.user;return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(n){try{let r;if("email"in n){const{email:c,password:f,options:h}=n;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Op})}else if("phone"in n){const{phone:c,password:f,options:h}=n;r=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:f,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Op})}else throw new cl("You must provide either an email or phone number and a password");const{data:l,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!l||!l.session||!l.user){const c=new _i;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:o})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,o,c;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=n.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,o,c,f,h,m,g,y,_,w;let E,O;if("message"in n)E=n.message,O=n.signature;else{const{chain:M,wallet:D,statement:L,options:B}=n;let z;if(ot())if(typeof D=="object")z=D;else{const Se=window;if("ethereum"in Se&&typeof Se.ethereum=="object"&&"request"in Se.ethereum&&typeof Se.ethereum.request=="function")z=Se.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof D!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");z=D}const G=new URL((r=B?.url)!==null&&r!==void 0?r:window.location.href),W=await z.request({method:"eth_requestAccounts"}).then(Se=>Se).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!W||W.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ae=bg(W[0]);let Q=(l=B?.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!Q){const Se=await z.request({method:"eth_chainId"});Q=aS(Se)}const ue={domain:G.host,address:ae,statement:L,uri:G.href,version:"1",chainId:Q,nonce:(o=B?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(f=(c=B?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&f!==void 0?f:new Date,expirationTime:(h=B?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=B?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(g=B?.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(y=B?.signInWithEthereum)===null||y===void 0?void 0:y.resources};E=rS(ue),O=await z.request({method:"personal_sign",params:[iS(E),ae]})}try{const{data:M,error:D}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:O},!((_=n.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(w=n.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Ft});if(D)throw D;if(!M||!M.session||!M.user){const L=new _i;return this._returnResult({data:{user:null,session:null},error:L})}return M.session&&(await this._saveSession(M.session),await this._notifyAllSubscribers("SIGNED_IN",M.session)),this._returnResult({data:Object.assign({},M),error:D})}catch(M){if(ee(M))return this._returnResult({data:{user:null,session:null},error:M});throw M}}async signInWithSolana(n){var r,l,o,c,f,h,m,g,y,_,w,E;let O,M;if("message"in n)O=n.message,M=n.signature;else{const{chain:D,wallet:L,statement:B,options:z}=n;let G;if(ot())if(typeof L=="object")G=L;else{const ae=window;if("solana"in ae&&typeof ae.solana=="object"&&("signIn"in ae.solana&&typeof ae.solana.signIn=="function"||"signMessage"in ae.solana&&typeof ae.solana.signMessage=="function"))G=ae.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!z?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");G=L}const W=new URL((r=z?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in G&&G.signIn){const ae=await G.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},z?.signInWithSolana),{version:"1",domain:W.host,uri:W.href}),B?{statement:B}:null));let Q;if(Array.isArray(ae)&&ae[0]&&typeof ae[0]=="object")Q=ae[0];else if(ae&&typeof ae=="object"&&"signedMessage"in ae&&"signature"in ae)Q=ae;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)O=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),M=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in G)||typeof G.signMessage!="function"||!("publicKey"in G)||typeof G!="object"||!G.publicKey||!("toBase58"in G.publicKey)||typeof G.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${W.host} wants you to sign in with your Solana account:`,G.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${W.href}`,`Issued At: ${(o=(l=z?.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=z?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${z.signInWithSolana.notBefore}`]:[],...!((f=z?.signInWithSolana)===null||f===void 0)&&f.expirationTime?[`Expiration Time: ${z.signInWithSolana.expirationTime}`]:[],...!((h=z?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${z.signInWithSolana.chainId}`]:[],...!((m=z?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${z.signInWithSolana.nonce}`]:[],...!((g=z?.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${z.signInWithSolana.requestId}`]:[],...!((_=(y=z?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||_===void 0)&&_.length?["Resources",...z.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const ae=await G.signMessage(new TextEncoder().encode(O),"utf8");if(!ae||!(ae instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");M=ae}}try{const{data:D,error:L}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:ja(M)},!((w=n.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Ft});if(L)throw L;if(!D||!D.session||!D.user){const B=new _i;return this._returnResult({data:{user:null,session:null},error:B})}return D.session&&(await this._saveSession(D.session),await this._notifyAllSubscribers("SIGNED_IN",D.session)),this._returnResult({data:Object.assign({},D),error:L})}catch(D){if(ee(D))return this._returnResult({data:{user:null,session:null},error:D});throw D}}async _exchangeCodeForSession(n){const r=await Ca(this.storage,`${this.storageKey}-code-verifier`),[l,o]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new xw;const{data:c,error:f}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Ft});if(await lt(this.storage,`${this.storageKey}-code-verifier`),f)throw f;if(!c||!c.session||!c.user){const h=new _i;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:f})}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(n){try{const{options:r,provider:l,token:o,access_token:c,nonce:f}=n,h=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:o,access_token:c,nonce:f,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ft}),{data:m,error:g}=h;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!m||!m.session||!m.user){const y=new _i;return this._returnResult({data:{user:null,session:null},error:y})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:g})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,o,c,f;try{if("email"in n){const{email:h,options:m}=n;let g=null,y=null;this.flowType==="pkce"&&([g,y]=await bi(this.storage,this.storageKey));const{error:_}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(r=m?.data)!==null&&r!==void 0?r:{},create_user:(l=m?.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:g,code_challenge_method:y},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:_})}if("phone"in n){const{phone:h,options:m}=n,{data:g,error:y}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m?.data)!==null&&o!==void 0?o:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(f=m?.channel)!==null&&f!==void 0?f:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g?.message_id},error:y})}throw new cl("You must provide either an email or phone number.")}catch(h){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(n){var r,l;try{let o,c;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,c=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:f,error:h}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Ft});if(h)throw h;if(!f)throw new Error("An error occurred on token verification.");const m=f.session,g=f.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:g,session:m},error:null})}catch(o){if(ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,l,o,c,f;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await bi(this.storage,this.storageKey));const g=await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:Xw});return!((c=g.data)===null||c===void 0)&&c.url&&ot()&&!(!((f=n.options)===null||f===void 0)&&f.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(h){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Mt;const{error:o}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:o,options:c}=n,{error:f}=await re(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}else if("phone"in n){const{phone:l,type:o,options:c}=n,{data:f,error:h}=await re(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:o,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:f?.message_id},error:h})}throw new cl("You must provide either an email or phone number and a type")}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await Ca(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<rc:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const f=await Ca(this.userStorage,this.storageKey+"-user");f?.user?n.user=f.user:n.user=oc()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const f={value:this.suppressGetSessionWarning};n.user=Kw(n.user,f),f.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(-1,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:ra}):await this._useSession(async r=>{var l,o,c;const{data:f,error:h}=r;if(h)throw h;return!(!((l=f.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Mt}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:ra})})}catch(r){if(ee(r))return Ew(r)&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:o,error:c}=l;if(c)throw c;if(!o.session)throw new Mt;const f=o.session;let h=null,m=null;this.flowType==="pkce"&&n.email!=null&&([h,m]=await bi(this.storage,this.storageKey));const{data:g,error:y}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:h,code_challenge_method:m}),jwt:f.access_token,xform:ra});if(y)throw y;return f.user=g.user,await this._saveSession(f),await this._notifyAllSubscribers("USER_UPDATED",f),this._returnResult({data:{user:f.user},error:null})})}catch(l){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Mt;const r=Date.now()/1e3;let l=r,o=!0,c=null;const{payload:f}=lc(n.access_token);if(f.exp&&(l=f.exp,o=l<=r),o){const{data:h,error:m}=await this._callRefreshToken(n.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(n.access_token);if(m)throw m;c={access_token:n.access_token,refresh_token:n.refresh_token,user:h.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:f,error:h}=r;if(h)throw h;n=(l=f.session)!==null&&l!==void 0?l:void 0}if(!n?.refresh_token)throw new Mt;const{data:o,error:c}=await this._callRefreshToken(n.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ee(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ot())throw new dl("No browser detected.");if(n.error||n.error_description||n.error_code)throw new dl(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new bp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dl("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new bp("No code detected.");const{data:B,error:z}=await this._exchangeCodeForSession(n.code);if(z)throw z;const G=new URL(window.location.href);return G.searchParams.delete("code"),window.history.replaceState(window.history.state,"",G.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:o,access_token:c,refresh_token:f,expires_in:h,expires_at:m,token_type:g}=n;if(!c||!h||!f||!g)throw new dl("No session defined in URL");const y=Math.round(Date.now()/1e3),_=parseInt(h);let w=y+_;m&&(w=parseInt(m));const E=w-y;E*1e3<=xi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${_}s`);const O=w-_;y-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,w,y):y-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,w,y);const{data:M,error:D}=await this._getUser(c);if(D)throw D;const L={provider_token:l,provider_refresh_token:o,access_token:c,expires_in:_,expires_at:w,refresh_token:f,token_type:g,user:M.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:L,redirectType:n.type},error:null})}catch(l){if(ee(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await Ca(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:o,error:c}=r;if(c)return this._returnResult({error:c});const f=(l=o.session)===null||l===void 0?void 0:l.access_token;if(f){const{error:h}=await this.admin.signOut(f,n);if(h&&!(Sw(h)&&(h.status===404||h.status===401||h.status===403)))return this._returnResult({error:h})}return n!=="others"&&(await this._removeSession(),await lt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=jw(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,o;try{const{data:{session:c},error:f}=r;if(f)throw f;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",n,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",c),console.error(c)}})}async resetPasswordForEmail(n,r={}){let l=null,o=null;this.flowType==="pkce"&&([l,o]=await bi(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(c){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:o}=await this._useSession(async c=>{var f,h,m,g,y;const{data:_,error:w}=c;if(w)throw w;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(f=n.options)===null||f===void 0?void 0:f.redirectTo,scopes:(h=n.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=n.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",E,{headers:this.headers,jwt:(y=(g=_.session)===null||g===void 0?void 0:g.access_token)!==null&&y!==void 0?y:void 0})});if(o)throw o;return ot()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l?.url),this._returnResult({data:{provider:n.provider,url:l?.url},error:null})}catch(l){if(ee(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:o,data:{session:c}}=r;if(o)throw o;const{options:f,provider:h,token:m,access_token:g,nonce:y}=n,_=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=c?.access_token)!==null&&l!==void 0?l:void 0,body:{provider:h,id_token:m,access_token:g,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:Ft}),{data:w,error:E}=_;return E?this._returnResult({data:{user:null,session:null},error:E}):!w||!w.session||!w.user?this._returnResult({data:{user:null,session:null},error:new _i}):(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("USER_UPDATED",w.session)),this._returnResult({data:w,error:E}))}catch(o){if(await lt(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,o;const{data:c,error:f}=r;if(f)throw f;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(l=c.session)===null||l===void 0?void 0:l.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await zw(async o=>(o>0&&await Uw(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ft})),(o,c)=>{const f=200*Math.pow(2,o);return c&&sc(c)&&Date.now()+f-l<xi})}catch(l){if(this._debug(r,"error",l),ee(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),ot()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const o=await Ca(this.storage,this.storageKey);if(o&&this.userStorage){let f=await Ca(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!f&&(f={user:o.user},await Ai(this.userStorage,this.storageKey+"-user",f)),o.user=(n=f?.user)!==null&&n!==void 0?n:oc()}else if(o&&!o.user&&!o.user){const f=await Ca(this.storage,this.storageKey+"-user");f&&f?.user?(o.user=f.user,await lt(this.storage,this.storageKey+"-user"),await Ai(this.storage,this.storageKey,o)):o.user=oc()}if(this._debug(l,"session from storage",o),!this._isValidSession(o)){this._debug(l,"session is not valid"),o!==null&&await this._removeSession();return}const c=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<rc;if(this._debug(l,`session has${c?"":" not"} expired with margin of ${rc}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:f}=await this._callRefreshToken(o.refresh_token);f&&(console.error(f),sc(f)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",f),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:f,error:h}=await this._getUser(o.access_token);!h&&f?.user?(o.user=f.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(f){console.error("Error getting user data:",f),this._debug(l,"error getting user data, skipping SIGNED_IN notification",f)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(l,"error",o),console.error(o);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Mt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Tl;const{data:c,error:f}=await this._refreshAccessToken(n);if(f)throw f;if(!c.session)throw new Mt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),ee(c)){const f={data:null,error:c};return sc(c)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(f),f}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,l=!0){const o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const c=[],f=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(n,r)}catch(m){c.push(m)}});if(await Promise.all(f),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await lt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Ai(this.userStorage,this.storageKey+"-user",{user:r.user});const o=Object.assign({},r);delete o.user;const c=xp(o);await Ai(this.storage,this.storageKey,c)}else{const o=xp(r);await Ai(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await lt(this.storage,this.storageKey),await lt(this.storage,this.storageKey+"-code-verifier"),await lt(this.storage,this.storageKey+"-user"),this.userStorage&&await lt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),xi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((l.expires_at*1e3-n)/xi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${xi}ms, refresh threshold is ${wc} ticks`),o<=wc&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof _g)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const o=[`provider=${encodeURIComponent(r)}`];if(l?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l?.scopes&&o.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[c,f]=await bi(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(f)}`});o.push(h.toString())}if(l?.queryParams){const c=new URLSearchParams(l.queryParams);o.push(c.toString())}return l?.skipBrowserRedirect&&o.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:o,error:c}=r;return c?this._returnResult({data:null,error:c}):await re(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,o;const{data:c,error:f}=r;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:m,error:g}=await re(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(l=c?.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(n.factorType==="totp"&&m.type==="totp"&&(!((o=m?.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?fS(n.webauthn.credential_response):hS(n.webauthn.credential_response)})}:{code:n.code}),{data:h,error:m}=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:f,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var l;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const f=await re(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=o?.session)===null||l===void 0?void 0:l.access_token});if(f.error)return f;const{data:h}=f;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:cS(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:dS(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:l},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:c}=lc(l.access_token);let f=null;c.aal&&(f=c.aal);let h=f;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(h="aal2");const g=c.amr||[];return{data:{currentLevel:f,nextLevel:h,currentAuthenticationMethods:g},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:o}=r;return o?this._returnResult({data:null,error:o}):l?await re(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Mt});const f=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&ot()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:o},error:c}=l;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Mt});const f=await re(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return f.data&&f.data.redirect_url&&ot()&&!r?.skipBrowserRedirect&&window.location.assign(f.data.redirect_url),f})}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await re(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Mt})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:o}=r;return o?this._returnResult({data:null,error:o}):l?(await re(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Mt})})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(h=>h.kid===n);if(l)return l;const o=Date.now();if(l=this.jwks.keys.find(h=>h.kid===n),l&&this.jwks_cached_at+bw>o)return l;const{data:c,error:f}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(f)throw f;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,l=c.keys.find(h=>h.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:E,error:O}=await this.getSession();if(O||!E.session)return this._returnResult({data:null,error:O});l=E.session.access_token}const{header:o,payload:c,signature:f,raw:{header:h,payload:m}}=lc(l);r?.allowExpired||Pw(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!g){const{error:E}=await this.getUser(l);if(E)throw E;return{data:{claims:c,header:o,signature:f},error:null}}const y=Vw(o.alg),_=await crypto.subtle.importKey("jwk",g,y,!0,["verify"]);if(!await crypto.subtle.verify(y,_,f,kw(`${h}.${m}`)))throw new Tc("Invalid JWT signature");return{data:{claims:c,header:o,signature:f},error:null}}catch(l){if(ee(l))return this._returnResult({data:null,error:l});throw l}}}Lr.nextInstanceID={};const SS=Lr,ES="2.88.0";let Cr="";typeof Deno<"u"?Cr="deno":typeof document<"u"?Cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cr="react-native":Cr="node";const TS={"X-Client-Info":`supabase-js-${Cr}/${ES}`},xS={headers:TS},AS={schema:"public"},OS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},CS={};function qr(i){"@babel/helpers - typeof";return qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},qr(i)}function RS(i,n){if(qr(i)!="object"||!i)return i;var r=i[Symbol.toPrimitive];if(r!==void 0){var l=r.call(i,n);if(qr(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(i)}function kS(i){var n=RS(i,"string");return qr(n)=="symbol"?n:n+""}function NS(i,n,r){return(n=kS(n))in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,i}function jp(i,n){var r=Object.keys(i);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(i);n&&(l=l.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),r.push.apply(r,l)}return r}function He(i){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?jp(Object(r),!0).forEach(function(l){NS(i,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(r)):jp(Object(r)).forEach(function(l){Object.defineProperty(i,l,Object.getOwnPropertyDescriptor(r,l))})}return i}const jS=i=>i?(...n)=>i(...n):(...n)=>fetch(...n),DS=()=>Headers,MS=(i,n,r)=>{const l=jS(r),o=DS();return async(c,f)=>{var h;const m=(h=await n())!==null&&h!==void 0?h:i;let g=new o(f?.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${m}`),l(c,He(He({},f),{},{headers:g}))}};function US(i){return i.endsWith("/")?i:i+"/"}function zS(i,n){var r,l;const{db:o,auth:c,realtime:f,global:h}=i,{db:m,auth:g,realtime:y,global:_}=n,w={db:He(He({},m),o),auth:He(He({},g),c),realtime:He(He({},y),f),storage:{},global:He(He(He({},_),h),{},{headers:He(He({},(r=_?.headers)!==null&&r!==void 0?r:{}),(l=h?.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return i.accessToken?w.accessToken=i.accessToken:delete w.accessToken,w}function LS(i){const n=i?.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(US(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var qS=class extends SS{constructor(i){super(i)}},BS=class{constructor(i,n,r){var l,o;this.supabaseUrl=i,this.supabaseKey=n;const c=LS(i);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const f=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:AS,realtime:CS,auth:He(He({},OS),{},{storageKey:f}),global:xS},m=zS(r??{},h);if(this.storageKey=(l=m.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(o=m.global.headers)!==null&&o!==void 0?o:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=m.auth)!==null&&g!==void 0?g:{},this.headers,m.global.fetch)}this.fetch=MS(n,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(He({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&this.accessToken().then(y=>this.realtime.setAuth(y)).catch(y=>console.warn("Failed to set initial Realtime auth token:",y)),this.rest=new vb(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new pw(this.storageUrl.href,this.headers,this.fetch,r?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new hb(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,n,r)}channel(i,n={config:{}}){return this.realtime.channel(i,n)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,n,r;if(i.accessToken)return await i.accessToken();const{data:l}=await i.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:o,storageKey:c,flowType:f,lock:h,debug:m,throwOnError:g},y,_){const w={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new qS({url:this.authUrl.href,headers:He(He({},w),y),storageKey:c,autoRefreshToken:i,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:o,flowType:f,lock:h,debug:m,throwOnError:g,fetch:_,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new Ub(this.realtimeUrl.href,He(He({},i),{},{params:He(He({},{apikey:this.supabaseKey}),i?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,n)=>{this._handleTokenChanged(i,"CLIENT",n?.access_token)})}_handleTokenChanged(i,n,r){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const $S=(i,n,r)=>new BS(i,n,r);function HS(){if(typeof window<"u"||typeof process>"u")return!1;const i=process.version;if(i==null)return!1;const n=i.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}HS()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const IS="https://jhyidrhckhoavlmmmlwq.supabase.co",Sg="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpoeWlkcmhja2hvYXZsbW1tbHdxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5ODkzMzIsImV4cCI6MjA4MTU2NTMzMn0.8l7i5EJiF_xJZSO__y83S7kw-bDq2PVH24sl4f5ESyM",J=!!Sg,N=J?$S(IS,Sg):null,Eg=T.createContext(void 0),Nr="kebab_auth_user";function PS(){const i=localStorage.getItem(Nr);if(i)try{return JSON.parse(i)}catch{localStorage.removeItem(Nr)}return null}function VS({children:i}){const[n,r]=T.useState(()=>PS()),[l]=T.useState(!1);T.useEffect(()=>{if(!J&&JSON.parse(localStorage.getItem("kebab_users")||"[]").length===0){const _={id:1,username:"admin",password:"admin123",name:"Andrea Fabbri",role:"superadmin",active:!0,created_at:new Date().toISOString()};localStorage.setItem("kebab_users",JSON.stringify([_]))}},[]);const o=async(y,_)=>{if(J&&N)try{const{data:O,error:M}=await N.from("users").select("*").eq("username",y.toLowerCase()).eq("password",_).eq("active",!0).single();if(M||!O)return!1;await N.from("users").update({last_login:new Date().toISOString()}).eq("id",O.id);const D={id:O.id,username:O.username,password:O.password,name:O.name,role:O.role,active:O.active,created_at:O.created_at,last_login:new Date().toISOString()};return r(D),localStorage.setItem(Nr,JSON.stringify(D)),!0}catch(O){return console.error("Errore login Supabase:",O),!1}const w=JSON.parse(localStorage.getItem("kebab_users")||"[]"),E=w.find(O=>O.username.toLowerCase()===y.toLowerCase()&&O.password===_);if(E&&E.active){const O={...E,last_login:new Date().toISOString()},M=w.map(D=>D.id===E.id?O:D);return localStorage.setItem("kebab_users",JSON.stringify(M)),r(O),localStorage.setItem(Nr,JSON.stringify(O)),!0}return!1},c=()=>{r(null),localStorage.removeItem(Nr)},f=y=>n?ob[n.role].includes(y):!1,h=()=>n?.role==="superadmin",m=()=>n?.role==="admin"||n?.role==="superadmin",g=()=>!!n;return b.jsx(Eg.Provider,{value:{user:n,isAuthenticated:!!n,isLoading:l,login:o,logout:c,hasPermission:f,isSuperAdmin:h,isAdmin:m,isStaff:g},children:i})}function xl(){const i=T.useContext(Eg);if(i===void 0)throw new Error("useAuth must be used within an AuthProvider");return i}const Tg=T.createContext(void 0),xc="kebab_notifications";function GS(){const i=localStorage.getItem(xc);if(i)try{return JSON.parse(i).map(r=>({...r,timestamp:new Date(r.timestamp)}))}catch{localStorage.removeItem(xc)}return[]}function KS({children:i}){const[n,r]=T.useState(()=>GS()),[l,o]=T.useState(!1);T.useEffect(()=>{localStorage.setItem(xc,JSON.stringify(n))},[n]);const c=T.useCallback(_=>{const w={..._,id:crypto.randomUUID(),timestamp:new Date,read:!1};r(E=>[w,...E])},[]),f=T.useCallback(_=>{r(w=>w.map(E=>E.id===_?{...E,read:!0}:E))},[]),h=T.useCallback(()=>{r(_=>_.map(w=>({...w,read:!0})))},[]),m=T.useCallback(_=>{r(w=>w.filter(E=>E.id!==_))},[]),g=T.useCallback(()=>{r([])},[]);T.useEffect(()=>{if(!J||!N)return;const _=N.channel("notifications-orders").on("postgres_changes",{event:"INSERT",schema:"public",table:"orders"},w=>{console.log("New order received:",w);const E=w.new,O={dine_in:"Tavolo",takeaway:"Asporto",delivery:"Domicilio"};c({type:"order",title:"Nuovo Ordine",message:`Ordine #${E.id} - ${O[E.order_type]||E.order_type}${E.customer_name?` - ${E.customer_name}`:""} - ${E.total?.toFixed(2)||"0.00"}`,orderId:E.id})}).subscribe(w=>{console.log("Notification realtime status:",w),o(w==="SUBSCRIBED")});return()=>{N&&N.removeChannel(_)}},[c]);const y=n.filter(_=>!_.read).length;return b.jsx(Tg.Provider,{value:{notifications:n,unreadCount:y,isRealtimeConnected:l,addNotification:c,markAsRead:f,markAllAsRead:h,removeNotification:m,clearAllNotifications:g},children:i})}function xg(){const i=T.useContext(Tg);if(i===void 0)throw new Error("useNotifications must be used within a NotificationProvider");return i}const Ag=T.createContext(null);function YS({children:i}){const[n,r]=T.useState(()=>localStorage.getItem("restaurant_theme")||"dark"),[l,o]=T.useState(()=>localStorage.getItem("restaurant_sidebar_collapsed")==="true");T.useEffect(()=>{localStorage.setItem("restaurant_theme",n),n==="light"?(document.documentElement.classList.add("light-theme"),document.documentElement.classList.remove("dark-theme")):(document.documentElement.classList.add("dark-theme"),document.documentElement.classList.remove("light-theme"))},[n]),T.useEffect(()=>{localStorage.setItem("restaurant_sidebar_collapsed",String(l))},[l]);function c(){r(h=>h==="dark"?"light":"dark")}function f(){o(h=>!h)}return b.jsx(Ag.Provider,{value:{theme:n,toggleTheme:c,sidebarCollapsed:l,toggleSidebar:f,setSidebarCollapsed:o},children:i})}function Og(){const i=T.useContext(Ag);if(!i)throw new Error("useTheme must be used within a ThemeProvider");return i}const JS={save:"Salva",cancel:"Annulla",delete:"Elimina",edit:"Modifica",add:"Aggiungi",search:"Cerca",loading:"Caricamento...",error:"Errore",success:"Successo",close:"Chiudi",confirm:"Conferma",back:"Indietro",next:"Avanti",yes:"S",no:"No",active:"Attivo",inactive:"Inattivo",all:"Tutti",none:"Nessuno",total:"Totale",actions:"Azioni",details:"Dettagli",name:"Nome",description:"Descrizione",price:"Prezzo",quantity:"Quantit",date:"Data",time:"Ora",status:"Stato",type:"Tipo",category:"Categoria",notes:"Note",today:"Oggi",yesterday:"Ieri",week:"Settimana",month:"Mese",year:"Anno",from:"Da",to:"A",noResults:"Nessun risultato",required:"Obbligatorio",optional:"Opzionale"},QS={dashboard:"Dashboard",newOrder:"Nuovo Ordine",orders:"Ordini",tables:"Tavoli",menu:"Menu",recipes:"Ricette",dishCosts:"Costo Piatti",inventory:"Inventario",staff:"Personale",cashRegister:"Chiusura Cassa",smac:"SMAC",reports:"Ammin. & Report",settings:"Impostazioni",users:"Utenti",guide:"Guida e FAQ",logout:"Esci",lightTheme:"Tema Chiaro",darkTheme:"Tema Scuro",collapseMenu:"Riduci Menu",expandMenu:"Espandi Menu",language:"Lingua"},XS={title:"Accedi al Sistema",subtitle:"Gestionale Ristorante",username:"Username",password:"Password",loginButton:"Accedi",loggingIn:"Accesso in corso...",errorCredentials:"Credenziali non valide o account disattivato",errorRequired:"Inserisci username e password",forgotPassword:"Password dimenticata?",rememberMe:"Ricordami"},ZS={title:"Dashboard",subtitle:"Panoramica del ristorante",ordersToday:"Ordini Oggi",revenueToday:"Incasso Oggi",avgOrder:"Media Ordine",pendingOrders:"In Attesa",activeTables:"Tavoli Attivi",lowStock:"Scorte Basse",recentOrders:"Ordini Recenti",topItems:"Prodotti Pi Venduti",salesChart:"Andamento Vendite",quickActions:"Azioni Rapide",viewAll:"Vedi Tutto",noOrdersToday:"Nessun ordine oggi",welcome:"Benvenuto",todaysSummary:"Riepilogo di oggi"},WS={title:"Ordini",subtitle:"Gestisci gli ordini del ristorante",newOrder:"Nuovo Ordine",activeOrders:"Ordini Attivi",completedOrders:"Ordini Completati",allOrders:"Tutti gli Ordini",orderNumber:"Ordine #{{number}}",table:"Tavolo",takeaway:"Asporto",delivery:"Consegna",dineIn:"Al Tavolo",pending:"In Attesa",preparing:"In Preparazione",ready:"Pronto",served:"Servito",completed:"Completato",cancelled:"Annullato",paid:"Pagato",unpaid:"Non Pagato",partiallyPaid:"Parzialmente Pagato",items:"Articoli",subtotal:"Subtotale",discount:"Sconto",total:"Totale",addItem:"Aggiungi Articolo",removeItem:"Rimuovi Articolo",sendToKitchen:"Invia in Cucina",printReceipt:"Stampa Scontrino",printOrder:"Stampa Ordine",cancelOrder:"Annulla Ordine",completeOrder:"Completa Ordine",payOrder:"Paga Ordine",splitBill:"Dividi Conto",customerName:"Nome Cliente",customerPhone:"Telefono Cliente",deliveryAddress:"Indirizzo Consegna",orderNotes:"Note Ordine",itemNotes:"Note Articolo",noActiveOrders:"Nessun ordine attivo",noCompletedOrders:"Nessun ordine completato",confirmCancel:"Sei sicuro di voler annullare questo ordine?",orderCreated:"Ordine creato",orderUpdated:"Ordine aggiornato",orderCompleted:"Ordine completato",orderCancelled:"Ordine annullato",history:"Storico",current:"Correnti",filterByDate:"Filtra per data",filterByStatus:"Filtra per stato",filterByType:"Filtra per tipo",searchOrders:"Cerca ordini...",covers:"Coperti",session:"Sessione"},FS={title:"Tavoli",subtitle:"Gestione tavoli del ristorante",addTable:"Aggiungi Tavolo",editTable:"Modifica Tavolo",deleteTable:"Elimina Tavolo",tableName:"Nome Tavolo",tableNumber:"Numero Tavolo",capacity:"Capacit",seats:"Posti",status:"Stato",free:"Libero",occupied:"Occupato",reserved:"Prenotato",area:"Area",indoor:"Interno",outdoor:"Esterno",terrace:"Terrazza",privateRoom:"Sala Privata",currentOrder:"Ordine Corrente",noCurrentOrder:"Nessun ordine",openOrder:"Apri Ordine",closeTable:"Chiudi Tavolo",moveTable:"Sposta Tavolo",mergeTable:"Unisci Tavoli",tableCreated:"Tavolo creato",tableUpdated:"Tavolo aggiornato",tableDeleted:"Tavolo eliminato",confirmDelete:"Sei sicuro di voler eliminare questo tavolo?",noTables:"Nessun tavolo configurato",allAreas:"Tutte le Aree"},e1={title:"Menu",subtitle:"Gestisci il menu del ristorante",addItem:"Aggiungi Piatto",editItem:"Modifica Piatto",deleteItem:"Elimina Piatto",itemName:"Nome Piatto",itemPrice:"Prezzo",itemDescription:"Descrizione",itemCategory:"Categoria",itemImage:"Immagine",available:"Disponibile",unavailable:"Non Disponibile",outOfStock:"Esaurito",categories:"Categorie",addCategory:"Aggiungi Categoria",editCategory:"Modifica Categoria",deleteCategory:"Elimina Categoria",categoryName:"Nome Categoria",allCategories:"Tutte le Categorie",ingredients:"Ingredienti",allergens:"Allergeni",vegetarian:"Vegetariano",vegan:"Vegano",glutenFree:"Senza Glutine",spicy:"Piccante",preparationTime:"Tempo Preparazione",minutes:"minuti",itemCreated:"Piatto creato",itemUpdated:"Piatto aggiornato",itemDeleted:"Piatto eliminato",categoryCreated:"Categoria creata",categoryUpdated:"Categoria aggiornata",categoryDeleted:"Categoria eliminata",confirmDeleteItem:"Sei sicuro di voler eliminare questo piatto?",confirmDeleteCategory:"Sei sicuro di voler eliminare questa categoria?",noItems:"Nessun piatto nel menu",noCategories:"Nessuna categoria",searchMenu:"Cerca nel menu...",exportPDF:"Esporta PDF",printMenu:"Stampa Menu"},t1={title:"Ricette",subtitle:"Gestisci le ricette dei piatti",addRecipe:"Aggiungi Ricetta",editRecipe:"Modifica Ricetta",deleteRecipe:"Elimina Ricetta",recipeName:"Nome Ricetta",ingredients:"Ingredienti",addIngredient:"Aggiungi Ingrediente",quantity:"Quantit",unit:"Unit",procedure:"Procedimento",portions:"Porzioni",costPerPortion:"Costo per Porzione",totalCost:"Costo Totale",noRecipes:"Nessuna ricetta",recipeCreated:"Ricetta creata",recipeUpdated:"Ricetta aggiornata",recipeDeleted:"Ricetta eliminata"},n1={title:"Costo Piatti",subtitle:"Analisi dei costi dei piatti",dish:"Piatto",ingredientsCost:"Costo Ingredienti",sellingPrice:"Prezzo Vendita",margin:"Margine",marginPercent:"Margine %",profitable:"Redditizio",lowMargin:"Margine Basso",unprofitable:"Non Redditizio",noDishes:"Nessun piatto con ricetta",recalculate:"Ricalcola Costi"},a1={title:"Inventario",subtitle:"Gestione scorte e magazzino",addItem:"Aggiungi Articolo",editItem:"Modifica Articolo",deleteItem:"Elimina Articolo",itemName:"Nome Articolo",currentStock:"Scorta Attuale",minStock:"Scorta Minima",maxStock:"Scorta Massima",unit:"Unit",unitPrice:"Prezzo Unitario",supplier:"Fornitore",category:"Categoria",inStock:"In Stock",lowStock:"Scorta Bassa",outOfStock:"Esaurito",reorder:"Riordina",addStock:"Aggiungi Scorta",removeStock:"Rimuovi Scorta",stockMovement:"Movimento Scorta",movementHistory:"Storico Movimenti",noItems:"Nessun articolo in inventario",itemCreated:"Articolo creato",itemUpdated:"Articolo aggiornato",itemDeleted:"Articolo eliminato",stockUpdated:"Scorta aggiornata",searchInventory:"Cerca in inventario...",threshold:"Soglia",ingredients:"Ingredienti",products:"Prodotti"},i1={title:"Personale",subtitle:"Gestione dipendenti e turni",addEmployee:"Aggiungi Dipendente",editEmployee:"Modifica Dipendente",deleteEmployee:"Elimina Dipendente",employeeName:"Nome Dipendente",role:"Ruolo",phone:"Telefono",email:"Email",hireDate:"Data Assunzione",hourlyRate:"Tariffa Oraria",shifts:"Turni",addShift:"Aggiungi Turno",editShift:"Modifica Turno",deleteShift:"Elimina Turno",shiftDate:"Data Turno",startTime:"Ora Inizio",endTime:"Ora Fine",hoursWorked:"Ore Lavorate",totalHours:"Totale Ore",totalCost:"Costo Totale",noEmployees:"Nessun dipendente",noShifts:"Nessun turno",employeeCreated:"Dipendente creato",employeeUpdated:"Dipendente aggiornato",employeeDeleted:"Dipendente eliminato",shiftCreated:"Turno creato",shiftUpdated:"Turno aggiornato",shiftDeleted:"Turno eliminato",kitchen:"Cucina",service:"Servizio",manager:"Manager",chef:"Chef",waiter:"Cameriere",cashier:"Cassiere"},r1={title:"Chiusura Cassa",subtitle:"Gestione cassa e chiusure giornaliere",openCash:"Fondo Cassa",totalSales:"Totale Vendite",cashPayments:"Pagamenti Contanti",cardPayments:"Pagamenti Carta",otherPayments:"Altri Pagamenti",expenses:"Spese",expectedCash:"Contanti Attesi",actualCash:"Contanti Effettivi",difference:"Differenza",closeCash:"Chiudi Cassa",cashClosed:"Cassa Chiusa",history:"Storico Chiusure",noClosures:"Nessuna chiusura",date:"Data",closedBy:"Chiuso da",notes:"Note",printReport:"Stampa Report"},s1={title:"SMAC",subtitle:"Gestione Tessere SMAC",searchCard:"Cerca Tessera",cardNumber:"Numero Tessera",cardHolder:"Intestatario",expiryDate:"Data Scadenza",balance:"Saldo",valid:"Valida",expired:"Scaduta",blocked:"Bloccata",applyDiscount:"Applica Sconto",discountApplied:"Sconto SMAC applicato",noCardFound:"Tessera non trovata",invalidCard:"Tessera non valida"},l1={title:"Ammin. & Report",subtitle:"Report e statistiche del ristorante",salesReport:"Report Vendite",dailyReport:"Report Giornaliero",weeklyReport:"Report Settimanale",monthlyReport:"Report Mensile",customReport:"Report Personalizzato",totalRevenue:"Ricavi Totali",totalOrders:"Ordini Totali",averageOrder:"Ordine Medio",topProducts:"Prodotti Top",salesByCategory:"Vendite per Categoria",salesByHour:"Vendite per Ora",salesByDay:"Vendite per Giorno",comparison:"Confronto",vsLastWeek:"vs Settimana Scorsa",vsLastMonth:"vs Mese Scorso",vsLastYear:"vs Anno Scorso",exportPDF:"Esporta PDF",exportExcel:"Esporta Excel",printReport:"Stampa Report",noData:"Nessun dato disponibile",selectDateRange:"Seleziona periodo",expenses:"Spese",profit:"Profitto",staffCosts:"Costi Personale",ingredientCosts:"Costi Ingredienti",applyVatAsCost:"Applica IVA come costo",applyVatAsCostDesc:"Considera l'IVA scorporata dal ricavo come un costo nel bilancio",vatAmount:"IVA",netRevenue:"Ricavo Netto",overview:"Panoramica",invoices:"Fatture",revenue:"Incasso",orders:"Ordini",revenueInPeriod:"Incassi nel Periodo",ordersInPeriod:"Ordini nel Periodo",revenueByPayment:"Incasso per Metodo Pagamento",ordersByType:"Ordini per Tipologia",topSellingProducts:"Prodotti Pi Venduti",sold:"venduti",noDataForPeriod:"Nessun dato disponibile per il periodo",expensesInPeriod:"Spese del Periodo",expense:"spesa",expensesPlural:"spese",addExpense:"Aggiungi Spesa",addFirstExpense:"Aggiungi prima spesa",noExpensesInPeriod:"Nessuna spesa nel periodo selezionato",startTrackingExpenses:"Aggiungi la tua prima spesa per iniziare a tracciare le uscite",invoicesInPeriod:"Fatture del Periodo",invoice:"fattura",invoicesPlural:"fatture",addInvoice:"Aggiungi Fattura",addFirstInvoice:"Aggiungi prima fattura",noInvoicesInPeriod:"Nessuna fattura nel periodo selezionato",startTrackingInvoices:"Aggiungi la tua prima fattura per tracciare i documenti contabili",toPay:"Da pagare"},o1={title:"Impostazioni",subtitle:"Configura il tuo ristorante",saved:"Impostazioni salvate",errorSaving:"Errore nel salvataggio",errorLoading:"Errore nel caricamento impostazioni",language:"Lingua",languageSection:"Lingua e Regione",selectLanguage:"Seleziona lingua",italian:"Italiano",english:"English",shopInfo:"Informazioni Negozio",shopName:"Nome Negozio",shopNamePlaceholder:"Nome del tuo ristorante",menuSlogan:"Slogan Menu (per PDF)",menuSloganPlaceholder:"Es: Autentica cucina mediterranea",menuSloganHint:"Questo testo verr mostrato sotto il nome nel menu PDF",address:"Indirizzo",addressPlaceholder:"Via Example 123, Citt",phone:"Telefono",phonePlaceholder:"+39 0549 123456",email:"Email",emailPlaceholder:"info@tuoristorante.it",financialSettings:"Impostazioni Finanziarie",currency:"Valuta",currencyEuro:"Euro ()",currencyDollar:"Dollaro ($)",currencyPound:"Sterlina ()",vatRate:"Aliquota IVA (%)",stockThreshold:"Soglia Scorte",database:"Database",databaseConnected:"Supabase Connesso",databaseDemo:"Modalit Demo",databaseCloudDesc:"I dati sono salvati nel cloud su Supabase",databaseLocalDesc:"I dati sono salvati localmente nel browser. Configura Supabase per il cloud.",configureSupabase:"Configura Supabase",backup:"Backup & Ripristino",backupDesc:"Esporta tutti i dati del ristorante in un file JSON per backup o migrazione.",exportBackup:"Esporta Backup (JSON)",backupExported:"Backup esportato",backupError:"Errore nell'esportazione",about:"Informazioni",version:"Versione",frontend:"Frontend",databaseType:"Database",languageType:"Linguaggio",smacSection:"Funzionalit SMAC",smacEnabled:"Abilita campi SMAC",smacEnabledDesc:"Mostra l'opzione SMAC Card negli ordini e nei pagamenti",smacNote:"Nota",smacNoteDesc:"La SMAC Card  un sistema di pagamento specifico di San Marino. Se il tuo ristorante non opera a San Marino, disattiva questa opzione per nascondere tutti i riferimenti SMAC nel programma."},u1={title:"Utenti",subtitle:"Gestione utenti e permessi",addUser:"Aggiungi Utente",editUser:"Modifica Utente",deleteUser:"Elimina Utente",username:"Username",password:"Password",confirmPassword:"Conferma Password",role:"Ruolo",superadmin:"Super Admin",admin:"Amministratore",staffRole:"Staff",active:"Attivo",inactive:"Inattivo",lastLogin:"Ultimo Accesso",createdAt:"Creato il",noUsers:"Nessun utente",userCreated:"Utente creato",userUpdated:"Utente aggiornato",userDeleted:"Utente eliminato",confirmDelete:"Sei sicuro di voler eliminare questo utente?",passwordMismatch:"Le password non corrispondono",cannotDeleteSelf:"Non puoi eliminare il tuo account",cannotDeleteLastAdmin:"Non puoi eliminare l'ultimo amministratore",totalUsers:"Totale Utenti",activeUsers:"Utenti Attivi",admins:"Amministratori",staffMembers:"Staff"},c1={title:"Guida e FAQ",subtitle:"Aiuto e domande frequenti",gettingStarted:"Per Iniziare",faq:"Domande Frequenti",shortcuts:"Scorciatoie da Tastiera",contactSupport:"Contatta Supporto",documentation:"Documentazione",videoTutorials:"Video Tutorial",searchHelp:"Cerca nella guida..."},d1={success:"Operazione completata",error:"Si  verificato un errore",warning:"Attenzione",info:"Informazione",saved:"Salvato con successo",deleted:"Eliminato con successo",updated:"Aggiornato con successo",created:"Creato con successo"},f1={required:"Campo obbligatorio",invalidEmail:"Email non valida",invalidPhone:"Telefono non valido",minLength:"Minimo {{min}} caratteri",maxLength:"Massimo {{max}} caratteri",minValue:"Valore minimo {{min}}",maxValue:"Valore massimo {{max}}",passwordTooShort:"Password troppo corta",passwordMismatch:"Le password non corrispondono"},h1={confirm:"Conferma",cancel:"Annulla",close:"Chiudi",save:"Salva",delete:"Elimina",areYouSure:"Sei sicuro?",thisActionCannot:"Questa azione non pu essere annullata."},m1={common:JS,sidebar:QS,login:XS,dashboard:ZS,orders:WS,tables:FS,menu:e1,recipes:t1,dishCosts:n1,inventory:a1,staff:i1,cashRegister:r1,smac:s1,reports:l1,settings:o1,users:u1,guide:c1,toast:d1,validation:f1,modal:h1},p1={save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",add:"Add",search:"Search",loading:"Loading...",error:"Error",success:"Success",close:"Close",confirm:"Confirm",back:"Back",next:"Next",yes:"Yes",no:"No",active:"Active",inactive:"Inactive",all:"All",none:"None",total:"Total",actions:"Actions",details:"Details",name:"Name",description:"Description",price:"Price",quantity:"Quantity",date:"Date",time:"Time",status:"Status",type:"Type",category:"Category",notes:"Notes",today:"Today",yesterday:"Yesterday",week:"Week",month:"Month",year:"Year",from:"From",to:"To",noResults:"No results",required:"Required",optional:"Optional"},g1={dashboard:"Dashboard",newOrder:"New Order",orders:"Orders",tables:"Tables",menu:"Menu",recipes:"Recipes",dishCosts:"Dish Costs",inventory:"Inventory",staff:"Staff",cashRegister:"Cash Register",smac:"SMAC",reports:"Admin & Reports",settings:"Settings",users:"Users",guide:"Guide & FAQ",logout:"Logout",lightTheme:"Light Theme",darkTheme:"Dark Theme",collapseMenu:"Collapse Menu",expandMenu:"Expand Menu",language:"Language"},y1={title:"Login to System",subtitle:"Restaurant Management",username:"Username",password:"Password",loginButton:"Login",loggingIn:"Logging in...",errorCredentials:"Invalid credentials or account disabled",errorRequired:"Enter username and password",forgotPassword:"Forgot password?",rememberMe:"Remember me"},v1={title:"Dashboard",subtitle:"Restaurant overview",ordersToday:"Orders Today",revenueToday:"Revenue Today",avgOrder:"Average Order",pendingOrders:"Pending",activeTables:"Active Tables",lowStock:"Low Stock",recentOrders:"Recent Orders",topItems:"Top Selling Items",salesChart:"Sales Trend",quickActions:"Quick Actions",viewAll:"View All",noOrdersToday:"No orders today",welcome:"Welcome",todaysSummary:"Today's Summary"},_1={title:"Orders",subtitle:"Manage restaurant orders",newOrder:"New Order",activeOrders:"Active Orders",completedOrders:"Completed Orders",allOrders:"All Orders",orderNumber:"Order #{{number}}",table:"Table",takeaway:"Takeaway",delivery:"Delivery",dineIn:"Dine In",pending:"Pending",preparing:"Preparing",ready:"Ready",served:"Served",completed:"Completed",cancelled:"Cancelled",paid:"Paid",unpaid:"Unpaid",partiallyPaid:"Partially Paid",items:"Items",subtotal:"Subtotal",discount:"Discount",total:"Total",addItem:"Add Item",removeItem:"Remove Item",sendToKitchen:"Send to Kitchen",printReceipt:"Print Receipt",printOrder:"Print Order",cancelOrder:"Cancel Order",completeOrder:"Complete Order",payOrder:"Pay Order",splitBill:"Split Bill",customerName:"Customer Name",customerPhone:"Customer Phone",deliveryAddress:"Delivery Address",orderNotes:"Order Notes",itemNotes:"Item Notes",noActiveOrders:"No active orders",noCompletedOrders:"No completed orders",confirmCancel:"Are you sure you want to cancel this order?",orderCreated:"Order created",orderUpdated:"Order updated",orderCompleted:"Order completed",orderCancelled:"Order cancelled",history:"History",current:"Current",filterByDate:"Filter by date",filterByStatus:"Filter by status",filterByType:"Filter by type",searchOrders:"Search orders...",covers:"Covers",session:"Session"},b1={title:"Tables",subtitle:"Restaurant table management",addTable:"Add Table",editTable:"Edit Table",deleteTable:"Delete Table",tableName:"Table Name",tableNumber:"Table Number",capacity:"Capacity",seats:"Seats",status:"Status",free:"Free",occupied:"Occupied",reserved:"Reserved",area:"Area",indoor:"Indoor",outdoor:"Outdoor",terrace:"Terrace",privateRoom:"Private Room",currentOrder:"Current Order",noCurrentOrder:"No order",openOrder:"Open Order",closeTable:"Close Table",moveTable:"Move Table",mergeTable:"Merge Tables",tableCreated:"Table created",tableUpdated:"Table updated",tableDeleted:"Table deleted",confirmDelete:"Are you sure you want to delete this table?",noTables:"No tables configured",allAreas:"All Areas"},w1={title:"Menu",subtitle:"Manage restaurant menu",addItem:"Add Dish",editItem:"Edit Dish",deleteItem:"Delete Dish",itemName:"Dish Name",itemPrice:"Price",itemDescription:"Description",itemCategory:"Category",itemImage:"Image",available:"Available",unavailable:"Unavailable",outOfStock:"Out of Stock",categories:"Categories",addCategory:"Add Category",editCategory:"Edit Category",deleteCategory:"Delete Category",categoryName:"Category Name",allCategories:"All Categories",ingredients:"Ingredients",allergens:"Allergens",vegetarian:"Vegetarian",vegan:"Vegan",glutenFree:"Gluten Free",spicy:"Spicy",preparationTime:"Preparation Time",minutes:"minutes",itemCreated:"Dish created",itemUpdated:"Dish updated",itemDeleted:"Dish deleted",categoryCreated:"Category created",categoryUpdated:"Category updated",categoryDeleted:"Category deleted",confirmDeleteItem:"Are you sure you want to delete this dish?",confirmDeleteCategory:"Are you sure you want to delete this category?",noItems:"No dishes in menu",noCategories:"No categories",searchMenu:"Search menu...",exportPDF:"Export PDF",printMenu:"Print Menu"},S1={title:"Recipes",subtitle:"Manage dish recipes",addRecipe:"Add Recipe",editRecipe:"Edit Recipe",deleteRecipe:"Delete Recipe",recipeName:"Recipe Name",ingredients:"Ingredients",addIngredient:"Add Ingredient",quantity:"Quantity",unit:"Unit",procedure:"Procedure",portions:"Portions",costPerPortion:"Cost per Portion",totalCost:"Total Cost",noRecipes:"No recipes",recipeCreated:"Recipe created",recipeUpdated:"Recipe updated",recipeDeleted:"Recipe deleted"},E1={title:"Dish Costs",subtitle:"Dish cost analysis",dish:"Dish",ingredientsCost:"Ingredients Cost",sellingPrice:"Selling Price",margin:"Margin",marginPercent:"Margin %",profitable:"Profitable",lowMargin:"Low Margin",unprofitable:"Unprofitable",noDishes:"No dishes with recipes",recalculate:"Recalculate Costs"},T1={title:"Inventory",subtitle:"Stock and warehouse management",addItem:"Add Item",editItem:"Edit Item",deleteItem:"Delete Item",itemName:"Item Name",currentStock:"Current Stock",minStock:"Minimum Stock",maxStock:"Maximum Stock",unit:"Unit",unitPrice:"Unit Price",supplier:"Supplier",category:"Category",inStock:"In Stock",lowStock:"Low Stock",outOfStock:"Out of Stock",reorder:"Reorder",addStock:"Add Stock",removeStock:"Remove Stock",stockMovement:"Stock Movement",movementHistory:"Movement History",noItems:"No items in inventory",itemCreated:"Item created",itemUpdated:"Item updated",itemDeleted:"Item deleted",stockUpdated:"Stock updated",searchInventory:"Search inventory...",threshold:"Threshold",ingredients:"Ingredients",products:"Products"},x1={title:"Staff",subtitle:"Employee and shift management",addEmployee:"Add Employee",editEmployee:"Edit Employee",deleteEmployee:"Delete Employee",employeeName:"Employee Name",role:"Role",phone:"Phone",email:"Email",hireDate:"Hire Date",hourlyRate:"Hourly Rate",shifts:"Shifts",addShift:"Add Shift",editShift:"Edit Shift",deleteShift:"Delete Shift",shiftDate:"Shift Date",startTime:"Start Time",endTime:"End Time",hoursWorked:"Hours Worked",totalHours:"Total Hours",totalCost:"Total Cost",noEmployees:"No employees",noShifts:"No shifts",employeeCreated:"Employee created",employeeUpdated:"Employee updated",employeeDeleted:"Employee deleted",shiftCreated:"Shift created",shiftUpdated:"Shift updated",shiftDeleted:"Shift deleted",kitchen:"Kitchen",service:"Service",manager:"Manager",chef:"Chef",waiter:"Waiter",cashier:"Cashier"},A1={title:"Cash Register",subtitle:"Cash management and daily closures",openCash:"Opening Cash",totalSales:"Total Sales",cashPayments:"Cash Payments",cardPayments:"Card Payments",otherPayments:"Other Payments",expenses:"Expenses",expectedCash:"Expected Cash",actualCash:"Actual Cash",difference:"Difference",closeCash:"Close Cash",cashClosed:"Cash Closed",history:"Closure History",noClosures:"No closures",date:"Date",closedBy:"Closed by",notes:"Notes",printReport:"Print Report"},O1={title:"SMAC",subtitle:"SMAC Card Management",searchCard:"Search Card",cardNumber:"Card Number",cardHolder:"Card Holder",expiryDate:"Expiry Date",balance:"Balance",valid:"Valid",expired:"Expired",blocked:"Blocked",applyDiscount:"Apply Discount",discountApplied:"SMAC discount applied",noCardFound:"Card not found",invalidCard:"Invalid card"},C1={title:"Admin & Reports",subtitle:"Restaurant reports and statistics",salesReport:"Sales Report",dailyReport:"Daily Report",weeklyReport:"Weekly Report",monthlyReport:"Monthly Report",customReport:"Custom Report",totalRevenue:"Total Revenue",totalOrders:"Total Orders",averageOrder:"Average Order",topProducts:"Top Products",salesByCategory:"Sales by Category",salesByHour:"Sales by Hour",salesByDay:"Sales by Day",comparison:"Comparison",vsLastWeek:"vs Last Week",vsLastMonth:"vs Last Month",vsLastYear:"vs Last Year",exportPDF:"Export PDF",exportExcel:"Export Excel",printReport:"Print Report",noData:"No data available",selectDateRange:"Select date range",expenses:"Expenses",profit:"Profit",staffCosts:"Staff Costs",ingredientCosts:"Ingredient Costs",applyVatAsCost:"Apply VAT as cost",applyVatAsCostDesc:"Consider VAT extracted from revenue as a cost in the balance",vatAmount:"VAT",netRevenue:"Net Revenue",overview:"Overview",invoices:"Invoices",revenue:"Revenue",orders:"Orders",revenueInPeriod:"Revenue in Period",ordersInPeriod:"Orders in Period",revenueByPayment:"Revenue by Payment Method",ordersByType:"Orders by Type",topSellingProducts:"Top Selling Products",sold:"sold",noDataForPeriod:"No data available for the period",expensesInPeriod:"Expenses in Period",expense:"expense",expensesPlural:"expenses",addExpense:"Add Expense",addFirstExpense:"Add first expense",noExpensesInPeriod:"No expenses in the selected period",startTrackingExpenses:"Add your first expense to start tracking outflows",invoicesInPeriod:"Invoices in Period",invoice:"invoice",invoicesPlural:"invoices",addInvoice:"Add Invoice",addFirstInvoice:"Add first invoice",noInvoicesInPeriod:"No invoices in the selected period",startTrackingInvoices:"Add your first invoice to track accounting documents",toPay:"To pay"},R1={title:"Settings",subtitle:"Configure your restaurant",saved:"Settings saved",errorSaving:"Error saving",errorLoading:"Error loading settings",language:"Language",languageSection:"Language and Region",selectLanguage:"Select language",italian:"Italiano",english:"English",shopInfo:"Shop Information",shopName:"Shop Name",shopNamePlaceholder:"Your restaurant name",menuSlogan:"Menu Slogan (for PDF)",menuSloganPlaceholder:"E.g.: Authentic Mediterranean cuisine",menuSloganHint:"This text will be shown below the name in the PDF menu",address:"Address",addressPlaceholder:"123 Example Street, City",phone:"Phone",phonePlaceholder:"+1 234 567 8900",email:"Email",emailPlaceholder:"info@yourrestaurant.com",financialSettings:"Financial Settings",currency:"Currency",currencyEuro:"Euro ()",currencyDollar:"Dollar ($)",currencyPound:"Pound ()",vatRate:"VAT Rate (%)",stockThreshold:"Stock Threshold",database:"Database",databaseConnected:"Supabase Connected",databaseDemo:"Demo Mode",databaseCloudDesc:"Data is saved in the cloud on Supabase",databaseLocalDesc:"Data is saved locally in the browser. Configure Supabase for cloud storage.",configureSupabase:"Configure Supabase",backup:"Backup & Restore",backupDesc:"Export all restaurant data to a JSON file for backup or migration.",exportBackup:"Export Backup (JSON)",backupExported:"Backup exported",backupError:"Export error",about:"About",version:"Version",frontend:"Frontend",databaseType:"Database",languageType:"Language",smacSection:"SMAC Features",smacEnabled:"Enable SMAC fields",smacEnabledDesc:"Show SMAC Card option in orders and payments",smacNote:"Note",smacNoteDesc:"SMAC Card is a payment system specific to San Marino. If your restaurant doesn't operate in San Marino, disable this option to hide all SMAC references in the program."},k1={title:"Users",subtitle:"User and permission management",addUser:"Add User",editUser:"Edit User",deleteUser:"Delete User",username:"Username",password:"Password",confirmPassword:"Confirm Password",role:"Role",superadmin:"Super Admin",admin:"Administrator",staffRole:"Staff",active:"Active",inactive:"Inactive",lastLogin:"Last Login",createdAt:"Created at",noUsers:"No users",userCreated:"User created",userUpdated:"User updated",userDeleted:"User deleted",confirmDelete:"Are you sure you want to delete this user?",passwordMismatch:"Passwords do not match",cannotDeleteSelf:"You cannot delete your own account",cannotDeleteLastAdmin:"You cannot delete the last administrator",totalUsers:"Total Users",activeUsers:"Active Users",admins:"Administrators",staffMembers:"Staff Members"},N1={title:"Guide & FAQ",subtitle:"Help and frequently asked questions",gettingStarted:"Getting Started",faq:"Frequently Asked Questions",shortcuts:"Keyboard Shortcuts",contactSupport:"Contact Support",documentation:"Documentation",videoTutorials:"Video Tutorials",searchHelp:"Search help..."},j1={success:"Operation completed",error:"An error occurred",warning:"Warning",info:"Information",saved:"Saved successfully",deleted:"Deleted successfully",updated:"Updated successfully",created:"Created successfully"},D1={required:"Required field",invalidEmail:"Invalid email",invalidPhone:"Invalid phone",minLength:"Minimum {{min}} characters",maxLength:"Maximum {{max}} characters",minValue:"Minimum value {{min}}",maxValue:"Maximum value {{max}}",passwordTooShort:"Password too short",passwordMismatch:"Passwords do not match"},M1={confirm:"Confirm",cancel:"Cancel",close:"Close",save:"Save",delete:"Delete",areYouSure:"Are you sure?",thisActionCannot:"This action cannot be undone."},U1={common:p1,sidebar:g1,login:y1,dashboard:v1,orders:_1,tables:b1,menu:w1,recipes:S1,dishCosts:E1,inventory:T1,staff:x1,cashRegister:A1,smac:O1,reports:C1,settings:R1,users:k1,guide:N1,toast:j1,validation:D1,modal:M1},z1={it:m1,en:U1},Cg=T.createContext(null);function L1({children:i}){const[n,r]=T.useState(()=>localStorage.getItem("kebab_language")||"it");T.useEffect(()=>{localStorage.setItem("kebab_language",n),document.documentElement.lang=n},[n]);const l=T.useCallback(c=>{r(c)},[]),o=T.useCallback((c,f)=>{const h=c.split(".");let m=z1[n];for(const g of h)if(m&&typeof m=="object")m=m[g];else return c;return typeof m!="string"?c:f?m.replace(/\{\{(\w+)\}\}/g,(g,y)=>String(f[y]??`{{${y}}}`)):m},[n]);return b.jsx(Cg.Provider,{value:{language:n,setLanguage:l,t:o},children:i})}function Rg(){const i=T.useContext(Cg);if(!i)throw new Error("useLanguage must be used within a LanguageProvider");return i}const Dp="https://jhyidrhckhoavlmmmlwq.supabase.co",fl="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpoeWlkcmhja2hvYXZsbW1tbHdxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU5ODkzMzIsImV4cCI6MjA4MTU2NTMzMn0.8l7i5EJiF_xJZSO__y83S7kw-bDq2PVH24sl4f5ESyM",q1="sanma-kebab",kg=T.createContext(null),Mp={blocked_title:"Licenza Non Valida",blocked_message:"La tua licenza  scaduta o  stata sospesa. Per continuare ad utilizzare il software, contatta il supporto.",blocked_contact_email:"support@example.com",blocked_contact_phone:"+39 333 1234567"};function B1({children:i}){const[n,r]=T.useState(null),[l,o]=T.useState(null),[c,f]=T.useState(!0),h=async()=>{try{const y=await fetch(`${Dp}/rest/v1/admin_settings?select=*&limit=1`,{method:"GET",headers:{"Content-Type":"application/json",apikey:fl,Authorization:`Bearer ${fl}`}});if(y.ok){const _=await y.json();if(_&&_.length>0){o(_[0]);return}}o(Mp)}catch(y){console.warn("Failed to fetch admin settings:",y),o(Mp)}},m=async()=>{f(!0);try{const y=await fetch(`${Dp}/rest/v1/rpc/check_license`,{method:"POST",headers:{"Content-Type":"application/json",apikey:fl,Authorization:`Bearer ${fl}`},body:JSON.stringify({p_client_id:q1})});if(!y.ok){console.warn("License server unreachable, using grace period"),r({valid:!0,reason:"grace_period"});return}const _=await y.json();r(_),_.valid||await h()}catch(y){console.warn("License check failed, using grace period:",y),r({valid:!0,reason:"grace_period"})}finally{f(!1)}};T.useEffect(()=>{m();const y=setInterval(m,3600*1e3);return()=>clearInterval(y)},[]);const g=n?.valid??!0;return b.jsx(kg.Provider,{value:{isLicenseValid:g,licenseStatus:n,adminSettings:l,isChecking:c,recheckLicense:m},children:i})}function Ng(){const i=T.useContext(kg);if(!i)throw new Error("useLicense must be used within a LicenseProvider");return i}const Hc="kebab_";function V(i,n){try{const r=localStorage.getItem(Hc+i);return r?JSON.parse(r):n}catch(r){return console.error(`Error parsing localStorage key ${i}:`,r),n}}function te(i,n){localStorage.setItem(Hc+i,JSON.stringify(n))}function Qe(i,n){localStorage.getItem(Hc+i)||te(i,n)}function $1(){Qe("categories",[{id:1,name:"Kebab",icon:"utensils",color:"#f97316"},{id:2,name:"Piadine",icon:"sandwich",color:"#eab308"},{id:3,name:"Bibite",icon:"coffee",color:"#3b82f6"},{id:4,name:"Contorni",icon:"salad",color:"#22c55e"},{id:5,name:"Dolci",icon:"cake",color:"#ec4899"}]),Qe("menu_items",[{id:1,name:"Kebab Classico",category_id:1,price:6.5,description:"Carne di vitello, insalata, pomodori, cipolla, salsa yogurt",available:!0},{id:2,name:"Kebab Durum",category_id:1,price:7,description:"Kebab avvolto in piadina sottile",available:!0},{id:3,name:"Kebab Box",category_id:1,price:8,description:"Kebab con patatine in box",available:!0},{id:4,name:"Kebab Falafel",category_id:1,price:7.5,description:"Versione vegetariana con falafel",available:!0},{id:5,name:"Piadina Classica",category_id:2,price:5.5,description:"Prosciutto, formaggio, insalata",available:!0},{id:6,name:"Piadina Kebab",category_id:2,price:7,description:"Carne kebab in piadina",available:!0},{id:7,name:"Coca Cola",category_id:3,price:2.5,description:"33cl",available:!0},{id:8,name:"Fanta",category_id:3,price:2.5,description:"33cl",available:!0},{id:9,name:"Acqua",category_id:3,price:1.5,description:"50cl",available:!0},{id:10,name:"Birra",category_id:3,price:3.5,description:"33cl",available:!0},{id:11,name:"Patatine Fritte",category_id:4,price:3,description:"Porzione abbondante",available:!0},{id:12,name:"Insalata Mista",category_id:4,price:4,description:"Insalata fresca di stagione",available:!0},{id:13,name:"Baklava",category_id:5,price:3.5,description:"Dolce turco con miele e noci",available:!0}]),Qe("tables",[{id:1,name:"Tavolo 1",capacity:4},{id:2,name:"Tavolo 2",capacity:4},{id:3,name:"Tavolo 3",capacity:2},{id:4,name:"Tavolo 4",capacity:6},{id:5,name:"Tavolo 5",capacity:4},{id:6,name:"Tavolo 6",capacity:8}]),Qe("ingredients",[{id:1,name:"Carne Kebab",unit:"kg",cost:12,lead_time_days:2,order_cost:15,holding_cost_percent:20},{id:2,name:"Pane Pita",unit:"pz",cost:.3,lead_time_days:2,order_cost:15,holding_cost_percent:20},{id:3,name:"Piadina",unit:"pz",cost:.4,lead_time_days:2,order_cost:15,holding_cost_percent:20},{id:4,name:"Insalata",unit:"kg",cost:3,lead_time_days:2,order_cost:15,holding_cost_percent:20},{id:5,name:"Pomodori",unit:"kg",cost:2.5,lead_time_days:2,order_cost:15,holding_cost_percent:20},{id:6,name:"Cipolla",unit:"kg",cost:1.5,lead_time_days:2,order_cost:15,holding_cost_percent:20},{id:7,name:"Salsa Yogurt",unit:"lt",cost:5,lead_time_days:2,order_cost:15,holding_cost_percent:20},{id:8,name:"Salsa Piccante",unit:"lt",cost:6,lead_time_days:2,order_cost:15,holding_cost_percent:20},{id:9,name:"Patatine Surgelate",unit:"kg",cost:2,lead_time_days:2,order_cost:15,holding_cost_percent:20},{id:10,name:"Coca Cola 33cl",unit:"pz",cost:.8,lead_time_days:2,order_cost:15,holding_cost_percent:20}]),Qe("inventory",[{id:1,ingredient_id:1,quantity:15,threshold:5},{id:2,ingredient_id:2,quantity:100,threshold:30},{id:3,ingredient_id:3,quantity:80,threshold:25},{id:4,ingredient_id:4,quantity:8,threshold:3},{id:5,ingredient_id:5,quantity:10,threshold:3},{id:6,ingredient_id:6,quantity:5,threshold:2},{id:7,ingredient_id:7,quantity:4,threshold:2},{id:8,ingredient_id:8,quantity:3,threshold:2},{id:9,ingredient_id:9,quantity:20,threshold:5},{id:10,ingredient_id:10,quantity:48,threshold:20}]),Qe("employees",[{id:1,name:"Marco Rossi",role:"Cuoco",hourly_rate:12,active:!0},{id:2,name:"Luca Bianchi",role:"Cameriere",hourly_rate:10,active:!0},{id:3,name:"Sara Verdi",role:"Cassiere",hourly_rate:10,active:!0}]),Qe("settings",{shop_name:"Il Mio Ristorante",currency:"",iva_rate:17,default_threshold:10,language:"it",address:"Via Example 123, San Marino",phone:"+378 0549 123456"}),Qe("orders",[]),Qe("order_items",[]),Qe("work_shifts",[]),Qe("reservations",[]),Qe("expenses",[]),Qe("supplies",[]),Qe("supply_items",[]),Qe("menu_item_ingredients",[{id:1,menu_item_id:1,ingredient_id:1,quantity:.15},{id:2,menu_item_id:1,ingredient_id:2,quantity:1},{id:3,menu_item_id:1,ingredient_id:4,quantity:.05},{id:4,menu_item_id:1,ingredient_id:5,quantity:.03},{id:5,menu_item_id:1,ingredient_id:6,quantity:.02},{id:6,menu_item_id:1,ingredient_id:7,quantity:.03},{id:7,menu_item_id:2,ingredient_id:1,quantity:.18},{id:8,menu_item_id:2,ingredient_id:3,quantity:1},{id:9,menu_item_id:2,ingredient_id:4,quantity:.05},{id:10,menu_item_id:2,ingredient_id:5,quantity:.03},{id:11,menu_item_id:2,ingredient_id:7,quantity:.03},{id:12,menu_item_id:3,ingredient_id:1,quantity:.2},{id:13,menu_item_id:3,ingredient_id:9,quantity:.15},{id:14,menu_item_id:3,ingredient_id:4,quantity:.04},{id:15,menu_item_id:3,ingredient_id:7,quantity:.04},{id:16,menu_item_id:6,ingredient_id:1,quantity:.12},{id:17,menu_item_id:6,ingredient_id:3,quantity:1},{id:18,menu_item_id:6,ingredient_id:4,quantity:.04},{id:19,menu_item_id:6,ingredient_id:7,quantity:.02},{id:20,menu_item_id:7,ingredient_id:10,quantity:1},{id:21,menu_item_id:11,ingredient_id:9,quantity:.2}]),Qe("ingredient_consumptions",[]),Qe("table_sessions",[]),Qe("session_payments",[]),te("initialized",!0)}function H1(){Qe("table_sessions",[]),Qe("session_payments",[])}H1();$1();async function n2(){if(J&&N){const{data:i,error:n}=await N.from("categories").select("*").order("name");if(n)throw n;return i||[]}return V("categories",[])}async function a2(i){if(J&&N){const{data:l,error:o}=await N.from("categories").insert(i).select().single();if(o)throw o;return l}const n=V("categories",[]),r={...i,id:Date.now()};return te("categories",[...n,r]),r}async function i2(i){if(J&&N){const{error:r}=await N.from("categories").delete().eq("id",i);if(r)throw r;return}const n=V("categories",[]);te("categories",n.filter(r=>r.id!==i))}async function I1(){if(J&&N){const{data:r,error:l}=await N.from("menu_items").select("*, categories(name)").order("category_id").order("name");if(l)throw l;return(r||[]).map(o=>({...o,category_name:o.categories?.name}))}const i=V("menu_items",[]),n=V("categories",[]);return i.map(r=>({...r,category_name:n.find(l=>l.id===r.category_id)?.name}))}async function r2(i){if(J&&N){const{data:l,error:o}=await N.from("menu_items").insert(i).select().single();if(o)throw o;return l}const n=V("menu_items",[]),r={...i,id:Date.now()};return te("menu_items",[...n,r]),r}async function s2(i,n){if(J&&N){const{data:o,error:c}=await N.from("menu_items").update(n).eq("id",i).select().single();if(c)throw c;return o}const r=V("menu_items",[]),l=r.findIndex(o=>o.id===i);if(l===-1)throw new Error("Prodotto non trovato");return r[l]={...r[l],...n},te("menu_items",r),r[l]}async function l2(i){if(J&&N){const{error:r}=await N.from("menu_items").delete().eq("id",i);if(r)throw r;return}const n=V("menu_items",[]);te("menu_items",n.filter(r=>r.id!==i))}async function Ni(i){if(J&&N){let o=N.from("orders").select("*, tables(name), table_sessions(status)").order("created_at",{ascending:!1});i&&(o=o.eq("date",i));const{data:c,error:f}=await o;if(f)throw f;return(c||[]).map(h=>({...h,table_name:h.tables?.name,session_status:h.table_sessions?.status}))}let n=V("orders",[]);i&&(n=n.filter(o=>o.date===i));const r=V("tables",[]),l=V("table_sessions",[]);return n.map(o=>({...o,table_name:r.find(c=>c.id===o.table_id)?.name,session_status:o.session_id?l.find(c=>c.id===o.session_id)?.status:void 0})).sort((o,c)=>new Date(c.created_at).getTime()-new Date(o.created_at).getTime())}async function o2(i){return(await Ni()).filter(r=>r.status===i)}async function u2(i,n){if(J&&N){const{data:c,error:f}=await N.from("orders").select("*, tables(name), table_sessions(status)").gte("date",i).lte("date",n).order("created_at",{ascending:!1});if(f)throw f;return(c||[]).map(h=>({...h,table_name:h.tables?.name,session_status:h.table_sessions?.status}))}const r=V("orders",[]),l=V("tables",[]),o=V("table_sessions",[]);return r.filter(c=>c.date>=i&&c.date<=n).map(c=>({...c,table_name:l.find(f=>f.id===c.table_id)?.name,session_status:c.session_id?o.find(f=>f.id===c.session_id)?.status:void 0})).sort((c,f)=>new Date(f.created_at).getTime()-new Date(c.created_at).getTime())}async function c2(i,n){if(J&&N){const{error:o}=await N.from("orders").update({status:n}).in("id",i);if(o)throw o;return}const l=V("orders",[]).map(o=>i.includes(o.id)?{...o,status:n}:o);te("orders",l)}async function d2(i){if(J&&N){const{error:l}=await N.from("order_items").delete().in("order_id",i);if(l)throw l;const{error:o}=await N.from("orders").delete().in("id",i);if(o)throw o;return}const n=V("orders",[]),r=V("order_items",[]);te("orders",n.filter(l=>!i.includes(l.id))),te("order_items",r.filter(l=>!i.includes(l.order_id)))}async function f2(i,n){if(J&&N){const{data:f,error:h}=await N.from("orders").insert(i).select().single();if(h)throw h;const m=n.map(y=>({...y,order_id:f.id})),{error:g}=await N.from("order_items").insert(m);if(g)throw g;return await Up(n,f.id),f}const r=V("orders",[]),l=V("order_items",[]),o={...i,id:Date.now(),created_at:new Date().toISOString()},c=n.map((f,h)=>({...f,id:Date.now()+h+1,order_id:o.id}));return te("orders",[...r,o]),te("order_items",[...l,...c]),await Up(n,o.id),o}async function Up(i,n){const r=V("menu_item_ingredients",[]),l=V("inventory",[]),o=V("ingredients",[]),c={};for(const m of i){const g=r.filter(y=>y.menu_item_id===m.menu_item_id);for(const y of g){const _=y.quantity*m.quantity;c[y.ingredient_id]=(c[y.ingredient_id]||0)+_}}const f=V("ingredient_consumptions",[]),h=new Date().toISOString().split("T")[0];for(const[m,g]of Object.entries(c)){const y=l.findIndex(_=>_.ingredient_id===Number(m));y!==-1&&(l[y].quantity=Math.max(0,l[y].quantity-g),f.push({id:Date.now()+Math.random(),ingredient_id:Number(m),ingredient_name:o.find(_=>_.id===Number(m))?.name,date:h,quantity_used:g,order_id:n}))}te("inventory",l),te("ingredient_consumptions",f)}async function h2(i,n){if(J&&N){const{data:o,error:c}=await N.from("orders").update({status:n}).eq("id",i).select().single();if(c)throw c;return o}const r=V("orders",[]),l=r.findIndex(o=>o.id===i);return l!==-1&&(r[l]={...r[l],status:n},te("orders",r)),r[l]}async function m2(i,n,r){if(J&&N){const{data:c,error:f}=await N.from("orders").update(n).eq("id",i).select().single();if(f)throw f;return c}const l=V("orders",[]),o=l.findIndex(c=>c.id===i);if(o!==-1)return l[o]={...l[o],...n},te("orders",l),l[o];throw new Error("Ordine non trovato")}async function p2(i){if(J&&N){await N.from("order_items").delete().eq("order_id",i);const{error:l}=await N.from("orders").delete().eq("id",i);if(l)throw l;return}const n=V("orders",[]),r=V("order_items",[]);te("orders",n.filter(l=>l.id!==i)),te("order_items",r.filter(l=>l.order_id!==i))}async function Ic(i){if(J&&N){const{data:l,error:o}=await N.from("order_items").select("*, menu_items(name)").eq("order_id",i);if(o)throw o;return(l||[]).map(c=>({...c,menu_item_name:c.menu_items?.name}))}const n=V("order_items",[]),r=V("menu_items",[]);return n.filter(l=>l.order_id===i).map(l=>({...l,menu_item_name:r.find(o=>o.id===l.menu_item_id)?.name}))}async function g2(i,n){if(J&&N){const{data:c,error:f}=await N.from("order_items").update(n).eq("id",i).select("*, menu_items(name)").single();if(f)throw f;return{...c,menu_item_name:c.menu_items?.name}}const r=V("order_items",[]),l=V("menu_items",[]),o=r.findIndex(c=>c.id===i);if(o===-1)throw new Error("Item not found");return r[o]={...r[o],...n},te("order_items",r),{...r[o],menu_item_name:l.find(c=>c.id===r[o].menu_item_id)?.name}}async function y2(i){if(J&&N){const{error:r}=await N.from("order_items").delete().eq("id",i);if(r)throw r;return}const n=V("order_items",[]);te("order_items",n.filter(r=>r.id!==i))}async function v2(i){const r=(await Ic(i)).reduce((l,o)=>l+o.price*o.quantity,0);if(J&&N)await N.from("orders").update({total:r}).eq("id",i);else{const l=V("orders",[]),o=l.findIndex(c=>c.id===i);o!==-1&&(l[o].total=r,te("orders",l))}return r}async function jg(){if(J&&N){const{data:i,error:n}=await N.from("tables").select("*").order("name");if(n)throw n;return i||[]}return V("tables",[])}async function _2(i){if(J&&N){const{data:l,error:o}=await N.from("tables").insert(i).select().single();if(o)throw o;return l}const n=V("tables",[]),r={...i,id:Date.now()};return te("tables",[...n,r]),r}async function b2(i,n){if(J&&N){const{data:o,error:c}=await N.from("tables").update(n).eq("id",i).select().single();if(c)throw c;return o}const r=V("tables",[]),l=r.findIndex(o=>o.id===i);return l!==-1&&(r[l]={...r[l],...n},te("tables",r)),r[l]}async function w2(i){if(J&&N){const{error:r}=await N.from("tables").delete().eq("id",i);if(r)throw r;return}const n=V("tables",[]);te("tables",n.filter(r=>r.id!==i))}async function Dg(){if(J&&N){const{data:i,error:n}=await N.from("ingredients").select("*").order("name");if(n)throw n;return i||[]}return V("ingredients",[])}async function Mg(){if(J&&N){const{data:r,error:l}=await N.from("inventory").select("*, ingredients(name, unit)").order("id");if(l)throw l;return(r||[]).map(o=>({...o,ingredient_name:o.ingredients?.name,unit:o.ingredients?.unit}))}const i=V("inventory",[]),n=V("ingredients",[]);return i.map(r=>({...r,ingredient_name:n.find(l=>l.id===r.ingredient_id)?.name,unit:n.find(l=>l.id===r.ingredient_id)?.unit}))}async function P1(){return(await Mg()).filter(n=>n.quantity<=n.threshold)}async function S2(i){if(J&&N){const{data:o,error:c}=await N.from("ingredients").insert(i).select().single();if(c)throw c;return await N.from("inventory").insert({ingredient_id:o.id,quantity:0,threshold:10}),o}const n=V("ingredients",[]),r=V("inventory",[]),l={...i,id:Date.now()};return te("ingredients",[...n,l]),te("inventory",[...r,{id:Date.now()+1,ingredient_id:l.id,quantity:0,threshold:10}]),l}async function E2(i,n){if(J&&N){const{error:o}=await N.from("ingredients").update({cost:n}).eq("id",i);if(o)throw o;return}const r=V("ingredients",[]),l=r.findIndex(o=>o.id===i);l!==-1&&(r[l]={...r[l],cost:n},te("ingredients",r))}async function T2(i,n){if(J&&N){const{error:o}=await N.from("inventory").update({quantity:n}).eq("ingredient_id",i);if(o)throw o;return}const r=V("inventory",[]),l=r.findIndex(o=>o.ingredient_id===i);l!==-1&&(r[l]={...r[l],quantity:n},te("inventory",r))}async function x2(){if(J&&N){const{data:i,error:n}=await N.from("employees").select("*").order("name");if(n)throw n;return i||[]}return V("employees",[])}async function A2(i){if(J&&N){const{data:l,error:o}=await N.from("employees").insert(i).select().single();if(o)throw o;return l}const n=V("employees",[]),r={...i,id:Date.now()};return te("employees",[...n,r]),r}async function O2(i,n){if(J&&N){const{data:o,error:c}=await N.from("employees").update(n).eq("id",i).select().single();if(c)throw c;return o}const r=V("employees",[]),l=r.findIndex(o=>o.id===i);return l!==-1&&(r[l]={...r[l],...n},te("employees",r)),r[l]}async function C2(i){if(J&&N){const{error:r}=await N.from("employees").delete().eq("id",i);if(r)throw r;return}const n=V("employees",[]);te("employees",n.filter(r=>r.id!==i))}async function R2(i,n){if(J&&N){let o=N.from("work_shifts").select("*, employees(name)").order("date",{ascending:!1});i&&(o=o.gte("date",i)),n&&(o=o.lte("date",n));const{data:c,error:f}=await o;if(f)throw f;return(c||[]).map(h=>({...h,employee_name:h.employees?.name}))}let r=V("work_shifts",[]);i&&(r=r.filter(o=>o.date>=i)),n&&(r=r.filter(o=>o.date<=n));const l=V("employees",[]);return r.map(o=>({...o,employee_name:l.find(c=>c.id===o.employee_id)?.name}))}async function k2(i){if(J&&N){const{data:l,error:o}=await N.from("work_shifts").insert(i).select().single();if(o)throw o;return l}const n=V("work_shifts",[]),r={...i,id:Date.now()};return te("work_shifts",[...n,r]),r}async function N2(i){if(J&&N){let o=N.from("reservations").select("*").order("date").order("time");i&&(o=o.eq("date",i));const{data:c,error:f}=await o;if(f)throw f;const{data:h}=await N.from("tables").select("id, name"),m=h||[];return(c||[]).map(g=>{const y=g.table_ids&&g.table_ids.length>0?g.table_ids:[g.table_id],_=y.map(w=>m.find(E=>E.id===w)?.name||"").filter(Boolean);return{...g,table_ids:y,table_name:_.join(" + ")||m.find(w=>w.id===g.table_id)?.name,table_names:_}})}let n=V("reservations",[]);i&&(n=n.filter(o=>o.date===i));const r=V("tables",[]);return n.map(o=>{const c=o.table_ids&&o.table_ids.length>0?o.table_ids:[o.table_id],f=c.map(h=>r.find(m=>m.id===h)?.name||"").filter(Boolean);return{...o,table_ids:c,table_name:f.join(" + ")||r.find(h=>h.id===o.table_id)?.name,table_names:f}})}async function j2(i){if(J&&N){const{table_names:l,...o}=i,{data:c,error:f}=await N.from("reservations").insert({...o,table_id:i.table_ids?.[0]||i.table_id,table_ids:i.table_ids||[i.table_id]}).select().single();if(f)throw f;return c}const n=V("reservations",[]),r={...i,id:Date.now()};return te("reservations",[...n,r]),r}async function D2(i,n){if(J&&N){const{table_names:o,...c}=n,{data:f,error:h}=await N.from("reservations").update({...c,table_id:n.table_ids?.[0]||n.table_id,table_ids:n.table_ids||(n.table_id?[n.table_id]:null)}).eq("id",i).select().single();if(h)throw h;return f}const r=V("reservations",[]),l=r.findIndex(o=>o.id===i);if(l!==-1)return r[l]={...r[l],...n},te("reservations",r),r[l];throw new Error("Prenotazione non trovata")}async function M2(i){if(J&&N){const{error:r}=await N.from("reservations").delete().eq("id",i);if(r)throw r;return}const n=V("reservations",[]);te("reservations",n.filter(r=>r.id!==i))}async function U2(i,n){if(J&&N){let l=N.from("expenses").select("*").order("date",{ascending:!1});i&&(l=l.gte("date",i)),n&&(l=l.lte("date",n));const{data:o,error:c}=await l;if(c)throw c;return o||[]}let r=V("expenses",[]);return i&&(r=r.filter(l=>l.date>=i)),n&&(r=r.filter(l=>l.date<=n)),r}async function z2(i){if(J&&N){const{data:l,error:o}=await N.from("expenses").insert(i).select().single();if(o)throw o;return l}const n=V("expenses",[]),r={...i,id:Date.now()};return te("expenses",[...n,r]),r}async function L2(i,n){if(J&&N){const{error:o}=await N.from("expenses").update(n).eq("id",i);if(o)throw o;return}const r=V("expenses",[]),l=r.findIndex(o=>o.id===i);l!==-1&&(r[l]={...r[l],...n},te("expenses",r))}async function q2(i){if(J&&N){const{error:r}=await N.from("expenses").delete().eq("id",i);if(r)throw r;return}const n=V("expenses",[]);te("expenses",n.filter(r=>r.id!==i))}async function Al(){if(J&&N){const{data:r,error:l}=await N.from("settings").select("*").limit(1).single();return l?(console.warn("Error fetching settings from Supabase, using defaults:",l),{shop_name:"Il Mio Ristorante",currency:"",iva_rate:17,iva_included:!0,default_threshold:10,language:"it",smac_enabled:!0}):{shop_name:r?.shop_name||"Il Mio Ristorante",menu_slogan:r?.menu_slogan,currency:r?.currency||"",iva_rate:r?.iva_rate??17,iva_included:r?.iva_included??!0,default_threshold:r?.default_threshold??10,language:r?.language||"it",address:r?.address,phone:r?.phone,email:r?.email,smac_enabled:r?.smac_enabled??!0}}const i={shop_name:"Il Mio Ristorante",menu_slogan:"",currency:"",iva_rate:17,iva_included:!0,default_threshold:10,language:"it",smac_enabled:!0},n=V("settings",{});return{...i,...n}}async function V1(i){if(J&&N){const{data:l}=await N.from("settings").select("id").limit(1).single(),o=Object.fromEntries(Object.entries(i).filter(([,c])=>c!==void 0));if(l){const{error:c}=await N.from("settings").update(o).eq("id",l.id);if(c)if(console.error("Supabase update error:",c),c.message?.includes("column")||c.code==="42703"){const f={shop_name:i.shop_name,currency:i.currency,iva_rate:i.iva_rate,default_threshold:i.default_threshold,language:i.language,address:i.address,phone:i.phone,email:i.email},h=Object.fromEntries(Object.entries(f).filter(([,g])=>g!==void 0)),{error:m}=await N.from("settings").update(h).eq("id",l.id);if(m)throw m}else throw c}else{const c={shop_name:"Il Mio Ristorante",currency:"",iva_rate:17,iva_included:!0,default_threshold:10,language:"it",...o},{error:f}=await N.from("settings").insert(c);if(f)throw f}window.dispatchEvent(new CustomEvent("settings-updated",{detail:i}));return}const r={...V("settings",{}),...i};te("settings",r),window.dispatchEvent(new CustomEvent("settings-updated",{detail:r}))}const _l={cost_calculation_method:"fixed",moving_avg_months:3};async function G1(){if(J&&N){const{data:i,error:n}=await N.from("inventory_settings").select("*").limit(1).single();return n||!i?_l:i}return V("inventory_settings",_l)}async function B2(i){if(J&&N){const{data:l}=await N.from("inventory_settings").select("id").limit(1).single();if(l){const{error:o}=await N.from("inventory_settings").update(i).eq("id",l.id);if(o)throw o}else{const o={..._l,...i},{error:c}=await N.from("inventory_settings").insert(o);if(c)throw c}return}const r={...V("inventory_settings",_l),...i};te("inventory_settings",r)}async function zp(i,n,r,l,o){const c=await G1();switch(c.cost_calculation_method){case"fixed":return n;case"last":return o;case"weighted_avg":{const f=r+l;if(f===0)return o;const h=(n*r+o*l)/f;return Math.round(h*100)/100}case"moving_avg":{const f=c.moving_avg_months,h=new Date;h.setMonth(h.getMonth()-f);const m=h.toISOString().split("T")[0],y=(await Ug()).filter(O=>O.date>=m).map(O=>O.id);if(y.length===0)return o;let _=0,w=0;for(const O of y){const D=(await zg(O)).find(L=>L.ingredient_id===i);D&&(_+=D.unit_cost,w+=D.quantity)}if(_+=o*l,w+=l,w===0)return o;const E=_/w;return Math.round(E*100)/100}default:return n}}async function $2(i){const r=(await Ni(i)).filter(o=>o.status!=="cancelled"),l=r.reduce((o,c)=>o+c.total,0);return{orders:r.length,revenue:l,avgOrder:r.length>0?l/r.length:0}}async function H2(i=5){const n=await Ni(),r={};for(const l of n){if(l.status==="cancelled")continue;const o=await Ic(l.id);for(const c of o)r[c.menu_item_id]||(r[c.menu_item_id]={name:c.menu_item_name||"Unknown",quantity:0,revenue:0}),r[c.menu_item_id].quantity+=c.quantity,r[c.menu_item_id].revenue+=c.quantity*c.price}return Object.values(r).sort((l,o)=>o.quantity-l.quantity).slice(0,i)}async function K1(i){if(J&&N){let o=N.from("menu_item_ingredients").select("*, menu_items(name), ingredients(name, unit)");const{data:c,error:f}=await o;if(f)throw f;return(c||[]).map(h=>({...h,menu_item_name:h.menu_items?.name,ingredient_name:h.ingredients?.name,unit:h.ingredients?.unit}))}let n=V("menu_item_ingredients",[]);const r=V("menu_items",[]),l=V("ingredients",[]);return n.map(o=>({...o,menu_item_name:r.find(c=>c.id===o.menu_item_id)?.name,ingredient_name:l.find(c=>c.id===o.ingredient_id)?.name,unit:l.find(c=>c.id===o.ingredient_id)?.unit}))}async function I2(i){if(J&&N){const{data:l,error:o}=await N.from("menu_item_ingredients").insert(i).select().single();if(o)throw o;return l}const n=V("menu_item_ingredients",[]),r={...i,id:Date.now()};return te("menu_item_ingredients",[...n,r]),r}async function P2(i,n){if(J&&N){const{error:o}=await N.from("menu_item_ingredients").update(n).eq("id",i);if(o)throw o;return}const r=V("menu_item_ingredients",[]),l=r.findIndex(o=>o.id===i);l!==-1&&(r[l]={...r[l],...n},te("menu_item_ingredients",r))}async function V2(i){if(J&&N){const{error:r}=await N.from("menu_item_ingredients").delete().eq("id",i);if(r)throw r;return}const n=V("menu_item_ingredients",[]);te("menu_item_ingredients",n.filter(r=>r.id!==i))}async function Y1(i,n,r){if(J&&N){let c=N.from("ingredient_consumptions").select("*, ingredients(name)");const{data:f,error:h}=await c.order("date",{ascending:!1});if(h)throw h;return(f||[]).map(m=>({...m,ingredient_name:m.ingredients?.name}))}let l=V("ingredient_consumptions",[]);const o=V("ingredients",[]);return l.map(c=>({...c,ingredient_name:o.find(f=>f.id===c.ingredient_id)?.name}))}async function G2(){const i=await Dg(),n=await Mg(),r=await Y1(),l=new Date;l.setDate(l.getDate()-30);const o=l.toISOString().split("T")[0],c=[];for(const f of i){const h=n.find(ue=>ue.ingredient_id===f.id);if(!h)continue;const m=r.filter(ue=>ue.ingredient_id===f.id&&ue.date>=o),g=m.reduce((ue,Se)=>ue+Se.quantity_used,0),y=Math.max(1,new Set(m.map(ue=>ue.date)).size),_=g/Math.max(y,1);if(_===0){c.push({ingredient_id:f.id,ingredient_name:f.name,current_stock:h.quantity,avg_daily_consumption:0,eoq:0,reorder_point:h.threshold,safety_stock:h.threshold,days_until_reorder:h.quantity>0?1/0:0,annual_demand:0,order_frequency:0,total_annual_cost:0});continue}const w=_*365,E=f.order_cost||15,O=(f.holding_cost_percent||20)/100,D=f.cost*O,L=f.lead_time_days||2,B=D>0?Math.sqrt(2*w*E/D):w/12,z=_*L*.5,G=_*L+z,W=_>0?Math.max(0,(h.quantity-G)/_):1/0,ae=B>0?w/B:0,Q=ae*E+B/2*D;c.push({ingredient_id:f.id,ingredient_name:f.name,current_stock:h.quantity,avg_daily_consumption:Math.round(_*1e3)/1e3,eoq:Math.round(B*10)/10,reorder_point:Math.round(G*10)/10,safety_stock:Math.round(z*10)/10,days_until_reorder:Math.round(W),annual_demand:Math.round(w),order_frequency:Math.round(ae*10)/10,total_annual_cost:Math.round(Q*100)/100})}return c.sort((f,h)=>f.days_until_reorder-h.days_until_reorder)}async function Ug(i,n){if(J&&N){let l=N.from("supplies").select("*").order("date",{ascending:!1});const{data:o,error:c}=await l;if(c)throw c;return o||[]}return V("supplies",[]).sort((l,o)=>new Date(o.date).getTime()-new Date(l.date).getTime())}async function zg(i){if(J&&N){const{data:l,error:o}=await N.from("supply_items").select("*, ingredients(name, unit)").eq("supply_id",i);if(o)throw o;return(l||[]).map(c=>({...c,ingredient_name:c.ingredients?.name,unit:c.ingredients?.unit,total_cost:c.quantity*c.unit_cost}))}const n=V("supply_items",[]),r=V("ingredients",[]);return n.filter(l=>l.supply_id===i).map(l=>({...l,ingredient_name:r.find(o=>o.id===l.ingredient_id)?.name,unit:r.find(o=>o.id===l.ingredient_id)?.unit,total_cost:l.quantity*l.unit_cost}))}async function K2(i,n){const r=n.reduce((g,y)=>g+y.unit_cost,0);if(J&&N){const{data:g,error:y}=await N.from("supplies").insert({...i,total_cost:r}).select().single();if(y)throw y;const _=n.map(E=>({...E,supply_id:g.id})),{error:w}=await N.from("supply_items").insert(_);if(w)throw w;for(const E of n){const{data:O}=await N.from("inventory").select("quantity").eq("ingredient_id",E.ingredient_id).single(),{data:M}=await N.from("ingredients").select("cost").eq("id",E.ingredient_id).single(),D=O?.quantity||0,L=M?.cost||0;O&&await N.from("inventory").update({quantity:D+E.quantity}).eq("ingredient_id",E.ingredient_id);const B=E.quantity>0?E.unit_cost/E.quantity:E.unit_cost,z=await zp(E.ingredient_id,L,D,E.quantity,B);await N.from("ingredients").update({cost:z}).eq("id",E.ingredient_id)}return g}const l=V("supplies",[]),o=V("supply_items",[]),c=V("inventory",[]),f=V("ingredients",[]),h={...i,id:Date.now(),total_cost:r,created_at:new Date().toISOString()};l.push(h),te("supplies",l);const m=n.map((g,y)=>({...g,id:Date.now()+y+1,supply_id:h.id}));te("supply_items",[...o,...m]);for(const g of n){const y=c.findIndex(E=>E.ingredient_id===g.ingredient_id),_=y!==-1?c[y].quantity:0;y!==-1&&(c[y].quantity+=g.quantity);const w=f.findIndex(E=>E.id===g.ingredient_id);if(w!==-1){const E=f[w].cost,O=g.quantity>0?g.unit_cost/g.quantity:g.unit_cost,M=await zp(g.ingredient_id,E,_,g.quantity,O);f[w].cost=M}}return te("inventory",c),te("ingredients",f),h}async function Y2(i){if(J&&N){await N.from("supply_items").delete().eq("supply_id",i);const{error:l}=await N.from("supplies").delete().eq("id",i);if(l)throw l;return}const n=V("supplies",[]),r=V("supply_items",[]);te("supplies",n.filter(l=>l.id!==i)),te("supply_items",r.filter(l=>l.supply_id!==i))}async function J2(i,n){const r=await Ug(),l=r.reduce((m,g)=>m+g.total_cost,0),o=r.length,c=o>0?l/o:0,f={};for(const m of r){const g=await zg(m.id);for(const y of g)f[y.ingredient_id]||(f[y.ingredient_id]={ingredient_name:y.ingredient_name||"Sconosciuto",quantity:0,total_cost:0}),f[y.ingredient_id].quantity+=y.quantity,f[y.ingredient_id].total_cost+=y.quantity*y.unit_cost}const h=Object.values(f).sort((m,g)=>g.total_cost-m.total_cost).slice(0,5);return{totalSpent:Math.round(l*100)/100,suppliesCount:o,avgSupplyCost:Math.round(c*100)/100,topIngredients:h}}async function Q2(i){const n=await Ni(i),r=n.filter(y=>y.status!=="cancelled"),l=r.filter(y=>y.payment_method==="cash").reduce((y,_)=>y+_.total,0),o=r.filter(y=>y.payment_method==="card").reduce((y,_)=>y+_.total,0),c=r.filter(y=>y.payment_method==="online").reduce((y,_)=>y+_.total,0),f=r.filter(y=>y.smac_passed).reduce((y,_)=>y+_.total,0),h=r.filter(y=>!y.smac_passed).reduce((y,_)=>y+_.total,0),m={dine_in:r.filter(y=>y.order_type==="dine_in").length,takeaway:r.filter(y=>y.order_type==="takeaway").length,delivery:r.filter(y=>y.order_type==="delivery").length},g={};for(const y of n)g[y.status]=(g[y.status]||0)+1;return{total_orders:r.length,total_revenue:Math.round((l+o+c)*100)/100,cash_revenue:Math.round(l*100)/100,card_revenue:Math.round(o*100)/100,online_revenue:Math.round(c*100)/100,smac_total:Math.round(f*100)/100,non_smac_total:Math.round(h*100)/100,orders_by_type:m,orders_by_status:g}}async function X2(){if(J&&N){const{data:i,error:n}=await N.from("cash_closures").select("*").order("date",{ascending:!1});return n?(console.warn("Error fetching cash closures:",n),[]):i||[]}return V("cash_closures",[]).sort((i,n)=>new Date(n.date).getTime()-new Date(i.date).getTime())}async function Z2(i){const n={...i,id:Date.now(),created_at:new Date().toISOString()};if(J&&N){const{data:l,error:o}=await N.from("cash_closures").insert(n).select().single();if(o)throw o;return l}const r=V("cash_closures",[]);return r.push(n),te("cash_closures",r),n}async function W2(i){const r=(await Ni()).find(m=>m.id===i);if(!r)return null;const l=await Ic(i),o=await Al(),c=r.total/(1+o.iva_rate/100),f=r.total-c;return{id:Date.now(),order_id:i,receipt_number:`R-${r.date.replace(/-/g,"")}-${i}`,date:r.date,time:new Date(r.created_at).toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"}),items:l.map(m=>({name:m.menu_item_name||"Prodotto",quantity:m.quantity,unit_price:m.price,total:m.quantity*m.price})),subtotal:Math.round(c*100)/100,iva_rate:o.iva_rate,iva_amount:Math.round(f*100)/100,total:r.total,payment_method:r.payment_method,smac_passed:r.smac_passed,shop_info:{name:o.shop_name,address:o.address,phone:o.phone}}}function J1(i,n,r){const l=n.filter(m=>m.menu_item_id===i.id);let o=0;const c=[];for(const m of l){const g=r.find(y=>y.id===m.ingredient_id);if(g){const y=m.quantity*g.cost;o+=y,c.push({ingredient_id:g.id,ingredient_name:g.name,quantity:m.quantity,unit:g.unit,unit_cost:g.cost,total_cost:Math.round(y*100)/100})}}const f=i.price-o,h=i.price>0?f/i.price*100:0;return{menu_item_id:i.id,menu_item_name:i.name,selling_price:i.price,ingredient_cost:Math.round(o*100)/100,profit_margin:Math.round(f*100)/100,profit_margin_percent:Math.round(h*10)/10,ingredients:c}}async function F2(){const[i,n,r]=await Promise.all([I1(),K1(),Dg()]),l=i.map(y=>J1(y,n,r)),o=[...l].sort((y,_)=>_.profit_margin_percent-y.profit_margin_percent),c=l.filter(y=>y.ingredients.length>0),f=i.filter(y=>!l.find(_=>_.menu_item_id===y.id&&_.ingredients.length>0)),h=c.length>0?c.reduce((y,_)=>y+_.profit_margin_percent,0)/c.length:0,m=c.filter(y=>y.profit_margin_percent>=60).slice(0,5),g=c.filter(y=>y.profit_margin_percent<40).slice(0,5);return{costs:o,summary:{totalDishes:i.length,avgProfitMargin:Math.round(h*10)/10,highMarginDishes:m,lowMarginDishes:g,dishesWithoutRecipe:f}}}function Q1(i,n){let r=V("invoices",[]);return i&&(r=r.filter(l=>l.date>=i)),n&&(r=r.filter(l=>l.date<=n)),r.sort((l,o)=>o.date.localeCompare(l.date))}async function ex(i,n){return Q1(i,n)}async function tx(i){const n=V("invoices",[]),r={...i,id:Date.now(),created_at:new Date().toISOString()};return te("invoices",[...n,r]),r}async function nx(i,n){const r=V("invoices",[]),l=r.findIndex(o=>o.id===i);l!==-1&&(r[l]={...r[l],...n},te("invoices",r))}async function ax(i){const n=V("invoices",[]);te("invoices",n.filter(r=>r.id!==i))}async function ix(i,n){const l=(await Ni()).filter(w=>w.date>=i&&w.date<=n&&w.status!=="cancelled"),o={},c=new Date(i),f=new Date(n);for(let w=new Date(c);w<=f;w.setDate(w.getDate()+1)){const E=w.toISOString().split("T")[0];o[E]={orders:0,revenue:0}}for(const w of l)o[w.date]&&(o[w.date].orders++,o[w.date].revenue+=w.total);const h=Object.entries(o).map(([w,E])=>({date:w,...E})).sort((w,E)=>w.date.localeCompare(E.date)),m={cash:0,card:0,online:0};for(const w of l)m[w.payment_method]=(m[w.payment_method]||0)+w.total;const g=Object.entries(m).map(([w,E])=>({method:w,total:E})),y={dine_in:0,takeaway:0,delivery:0};for(const w of l)y[w.order_type]=(y[w.order_type]||0)+1;const _=Object.entries(y).map(([w,E])=>({type:w,count:E}));return{dailyStats:h,revenueByPaymentMethod:g,ordersByType:_}}async function rx(i,n=1,r,l){const c=(await jg()).find(m=>m.id===i),f={id:Date.now(),table_id:i,table_name:c?.name,opened_at:new Date().toISOString(),status:"open",total:0,covers:n,customer_name:r,customer_phone:l,smac_passed:!1};if(J&&N){const{data:m,error:g}=await N.from("table_sessions").insert({table_id:i,covers:n,customer_name:r,customer_phone:l,status:"open",total:0,smac_passed:!1}).select().single();if(g)throw g;return{...m,table_name:c?.name}}const h=V("table_sessions",[]);return h.push(f),te("table_sessions",h),f}async function sx(i){if(J&&N){const{data:o,error:c}=await N.from("table_sessions").select("*, tables(name)").eq("id",i).single();return c?null:{...o,table_name:o.tables?.name}}const n=V("table_sessions",[]),r=V("tables",[]),l=n.find(o=>o.id===i);return l?{...l,table_name:r.find(o=>o.id===l.table_id)?.name}:null}async function lx(i){if(J&&N){const{data:o,error:c}=await N.from("table_sessions").select("*, tables(name)").eq("table_id",i).eq("status","open").single();return c?null:{...o,table_name:o.tables?.name}}const n=V("table_sessions",[]),r=V("tables",[]),l=n.find(o=>o.table_id===i&&o.status==="open");return l?{...l,table_name:r.find(o=>o.id===l.table_id)?.name}:null}async function ox(){if(J&&N){const{data:r,error:l}=await N.from("table_sessions").select("*, tables(name)").eq("status","open").order("opened_at",{ascending:!1});if(l)throw l;return(r||[]).map(o=>({...o,table_name:o.tables?.name}))}const i=V("table_sessions",[]),n=V("tables",[]);return i.filter(r=>r.status==="open").map(r=>({...r,table_name:n.find(l=>l.id===r.table_id)?.name})).sort((r,l)=>new Date(l.opened_at).getTime()-new Date(r.opened_at).getTime())}async function Pc(i){if(J&&N){const{data:l,error:o}=await N.from("orders").select("*, tables(name)").eq("session_id",i).order("order_number",{ascending:!0});if(o)throw o;return(l||[]).map(c=>({...c,table_name:c.tables?.name}))}const n=V("orders",[]),r=V("tables",[]);return n.filter(l=>l.session_id===i).map(l=>({...l,table_name:r.find(o=>o.id===l.table_id)?.name})).sort((l,o)=>(l.order_number||1)-(o.order_number||1))}async function X1(i){const r=(await Pc(i)).filter(c=>c.status!=="cancelled").reduce((c,f)=>c+f.total,0);if(J&&N){await N.from("table_sessions").update({total:r}).eq("id",i);return}const l=V("table_sessions",[]),o=l.findIndex(c=>c.id===i);o!==-1&&(l[o].total=r,te("table_sessions",l))}async function ux(i,n,r){if(await X1(i),J&&N){const{data:c,error:f}=await N.from("table_sessions").update({status:"paid",payment_method:n,smac_passed:r,closed_at:new Date().toISOString()}).eq("id",i).select().single();if(f)throw f;return c}const l=V("table_sessions",[]),o=l.findIndex(c=>c.id===i);if(o!==-1)return l[o]={...l[o],status:"paid",payment_method:n,smac_passed:r,closed_at:new Date().toISOString()},te("table_sessions",l),l[o];throw new Error("Sessione non trovata")}async function cx(i,n){const l=(await jg()).find(f=>f.id===n);if(J&&N){const{data:f,error:h}=await N.from("table_sessions").update({table_id:n}).eq("id",i).select().single();if(h)throw h;return{...f,table_name:l?.name}}const o=V("table_sessions",[]),c=o.findIndex(f=>f.id===i);if(c!==-1)return o[c].table_id=n,o[c].table_name=l?.name,te("table_sessions",o),o[c];throw new Error("Sessione non trovata")}async function dx(i){const n=await Pc(i);return n.length===0?1:n.map(o=>o.order_number||1).reduce((o,c)=>Math.max(o,c),0)+1}async function fx(i,n,r,l,o,c){const f={id:Date.now(),session_id:i,amount:n,payment_method:r,paid_at:new Date().toISOString(),notes:l,smac_passed:o||!1,paid_items:c||[]};if(J&&N){const{data:m,error:g}=await N.from("session_payments").insert({session_id:i,amount:n,payment_method:r,notes:l,smac_passed:o||!1,paid_items:c||[]}).select().single();if(g)throw g;return m}const h=V("session_payments",[]);return h.push(f),te("session_payments",h),f}async function Lg(i){if(J&&N){const{data:r,error:l}=await N.from("session_payments").select("*").eq("session_id",i).order("paid_at",{ascending:!0});if(l)throw l;return(r||[]).map(o=>({...o,paid_items:o.paid_items||[]}))}return V("session_payments",[]).filter(r=>r.session_id===i).sort((r,l)=>new Date(r.paid_at).getTime()-new Date(l.paid_at).getTime())}async function hx(i){try{const r=(await Pc(i)).filter(c=>c.status!=="cancelled").reduce((c,f)=>c+f.total,0);if(r===0)return 0;const o=(await Lg(i)).reduce((c,f)=>c+f.amount,0);return Math.max(0,r-o)}catch(n){return console.error("Error in getSessionRemainingAmount:",n),0}}async function mx(i){const n=await Lg(i),r={};return n.forEach(l=>{(l.paid_items||[]).forEach(o=>{r[o.order_item_id]=(r[o.order_item_id]||0)+o.quantity})}),r}async function px(i){const n=await Al(),r=new Date(i.paid_at),l=r.toLocaleDateString("it-IT"),o=r.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"});if(!i.paid_items||i.paid_items.length===0)return{id:i.id,order_id:0,receipt_number:`P-${i.id}`,date:l,time:o,shop_info:{name:n.shop_name||"Kebab Restaurant",address:n.address,phone:n.phone},items:[{name:"Pagamento parziale",quantity:1,unit_price:i.amount,total:i.amount}],subtotal:i.amount,iva_rate:n.iva_rate||10,iva_amount:0,total:i.amount,payment_method:i.payment_method,smac_passed:i.smac_passed||!1};const c=i.paid_items.map(f=>({name:f.menu_item_name,quantity:f.quantity,unit_price:f.price,total:f.price*f.quantity}));return{id:i.id,order_id:0,receipt_number:`P-${i.id}`,date:l,time:o,shop_info:{name:n.shop_name||"Kebab Restaurant",address:n.address,phone:n.phone},items:c,subtotal:i.amount,iva_rate:n.iva_rate||10,iva_amount:0,total:i.amount,payment_method:i.payment_method,smac_passed:i.smac_passed||!1}}const qg=T.createContext(null);function Z1({children:i}){const[n,r]=T.useState(!0),[l,o]=T.useState(!0);T.useEffect(()=>{c()},[]);async function c(){try{const h=await Al();r(h.smac_enabled??!0)}catch(h){console.error("Error loading SMAC setting:",h),r(!0)}finally{o(!1)}}const f=T.useCallback(async h=>{try{await V1({smac_enabled:h}),r(h)}catch(m){throw console.error("Error saving SMAC setting:",m),m}},[]);return b.jsx(qg.Provider,{value:{smacEnabled:n,setSmacEnabled:f,loading:l},children:i})}function W1(){const i=T.useContext(qg);if(!i)throw new Error("useSmac must be used within a SmacProvider");return i}function ct({children:i,permission:n}){const{isAuthenticated:r,isLoading:l,hasPermission:o}=xl(),c=un();return l?b.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto"}),b.jsx("p",{className:"text-dark-400 mt-4",children:"Caricamento..."})]})}):r?n&&!o(n)?b.jsx(dc,{to:"/orders/new",replace:!0}):b.jsx(b.Fragment,{children:i}):b.jsx(dc,{to:"/login",state:{from:c},replace:!0})}const F1=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),eE=i=>i.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,l)=>l?l.toUpperCase():r.toLowerCase()),Lp=i=>{const n=eE(i);return n.charAt(0).toUpperCase()+n.slice(1)},Bg=(...i)=>i.filter((n,r,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===r).join(" ").trim(),tE=i=>{for(const n in i)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};var nE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const aE=T.forwardRef(({color:i="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:o="",children:c,iconNode:f,...h},m)=>T.createElement("svg",{ref:m,...nE,width:n,height:n,stroke:i,strokeWidth:l?Number(r)*24/Number(n):r,className:Bg("lucide",o),...!c&&!tE(h)&&{"aria-hidden":"true"},...h},[...f.map(([g,y])=>T.createElement(g,y)),...Array.isArray(c)?c:[c]]));const he=(i,n)=>{const r=T.forwardRef(({className:l,...o},c)=>T.createElement(aE,{ref:c,iconNode:n,className:Bg(`lucide-${F1(Lp(i))}`,`lucide-${i}`,l),...o}));return r.displayName=Lp(i),r};const iE=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qp=he("bell",iE);const rE=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],sE=he("book-open",rE);const lE=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],oE=he("calculator",lE);const uE=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],cE=he("calendar-days",uE);const dE=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],fE=he("chart-column",dE);const hE=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],mE=he("check",hE);const pE=[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]],$g=he("chef-hat",pE);const gE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ac=he("circle-alert",gE);const yE=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],vE=he("circle-check-big",yE);const _E=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],bE=he("circle-question-mark",_E);const wE=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],SE=he("circle-x",wE);const EE=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],TE=he("credit-card",EE);const xE=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],AE=he("house",xE);const OE=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],CE=he("layout-dashboard",OE);const RE=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],kE=he("lock",RE);const NE=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],jE=he("log-in",NE);const DE=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ME=he("log-out",DE);const UE=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zE=he("mail",UE);const LE=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],qE=he("menu",LE);const BE=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],$E=he("moon",BE);const HE=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],IE=he("package",HE);const PE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"m16 15-3-3 3-3",key:"14y99z"}]],VE=he("panel-left-close",PE);const GE=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]],KE=he("panel-left",GE);const YE=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],JE=he("phone",YE);const QE=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],XE=he("receipt",QE);const ZE=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Hg=he("refresh-cw",ZE);const WE=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],FE=he("settings",WE);const eT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],tT=he("shield",eT);const nT=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m14.5 9.5-5 5",key:"17q4r4"}],["path",{d:"m9.5 9.5 5 5",key:"18nt4w"}]],aT=he("shield-x",nT);const iT=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],rT=he("shopping-cart",iT);const sT=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],lT=he("sun",sT);const oT=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],uT=he("trash-2",oT);const cT=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dT=he("triangle-alert",cT);const fT=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hT=he("user-cog",fT);const mT=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pT=he("user",mT);const gT=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],yT=he("users",gT);const vT=[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]],Ig=he("utensils-crossed",vT);const _T=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],bT=he("wifi-off",_T);const wT=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],ST=he("wifi",wT);const ET=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Vc=he("x",ET),TT=[{nameKey:"sidebar.dashboard",href:"/",icon:CE,permission:"dashboard"},{nameKey:"sidebar.newOrder",href:"/orders/new",icon:rT,permission:"orders.new"},{nameKey:"sidebar.orders",href:"/orders",icon:$g,permission:"orders"},{nameKey:"sidebar.tables",href:"/tables",icon:cE,permission:"tables"},{nameKey:"sidebar.menu",href:"/menu",icon:Ig,permission:"menu"},{nameKey:"sidebar.recipes",href:"/recipes",icon:sE,permission:"recipes"},{nameKey:"sidebar.dishCosts",href:"/dish-costs",icon:oE,permission:"dish-costs"},{nameKey:"sidebar.inventory",href:"/inventory",icon:IE,permission:"inventory"},{nameKey:"sidebar.staff",href:"/staff",icon:yT,permission:"staff"},{nameKey:"sidebar.cashRegister",href:"/cash-register",icon:XE,permission:"cash-register"},{nameKey:"sidebar.smac",href:"/smac",icon:TE,permission:"smac"},{nameKey:"sidebar.reports",href:"/reports",icon:fE,permission:"reports"},{nameKey:"sidebar.settings",href:"/settings",icon:FE,permission:"settings"},{nameKey:"sidebar.users",href:"/users",icon:hT,permission:"users"},{nameKey:"sidebar.guide",href:"/guide",icon:bE,permission:"guide"}];function xT({isOpen:i,onClose:n}){const{user:r,logout:l,hasPermission:o}=xl(),{isRealtimeConnected:c}=xg(),{theme:f,toggleTheme:h,sidebarCollapsed:m,toggleSidebar:g}=Og(),{t:y}=Rg(),{smacEnabled:_}=W1(),[w,E]=T.useState("Il Mio Ristorante");T.useEffect(()=>{function z(){Al().then(W=>{W.shop_name&&E(W.shop_name)})}z();const G=W=>{W.detail?.shop_name&&E(W.detail.shop_name)};return window.addEventListener("settings-updated",G),()=>{window.removeEventListener("settings-updated",G)}},[]);const O=TT.filter(z=>z.href==="/smac"&&!_?!1:o(z.permission));function M(){switch(r?.role){case"superadmin":return"bg-red-500/20 text-red-400 border-red-500/30";case"admin":return"bg-amber-500/20 text-amber-400 border-amber-500/30";case"staff":return"bg-blue-500/20 text-blue-400 border-blue-500/30";default:return"bg-dark-700 text-dark-400"}}function D(){window.innerWidth<1024&&n()}function L(){n(),l()}const B=m?"lg:w-20":"lg:w-64";return b.jsxs(b.Fragment,{children:[i&&b.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:n}),b.jsxs("aside",{className:`fixed left-0 top-0 h-screen w-72 ${B} bg-dark-900 border-r border-dark-700 flex flex-col z-50 transform transition-all duration-300 ease-in-out ${i?"translate-x-0":"-translate-x-full lg:translate-x-0"}`,children:[b.jsxs("div",{className:`px-3 py-2 ${m?"lg:px-2":""} border-b border-dark-700`,children:[b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("div",{className:`flex items-center ${m?"lg:justify-center lg:w-full":"gap-2"}`,children:[b.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary-500 flex items-center justify-center flex-shrink-0",children:b.jsx(Ig,{className:"w-4 h-4 text-dark-900"})}),b.jsx("div",{className:m?"lg:hidden":"",children:b.jsx("h1",{className:"font-semibold text-sm text-white truncate max-w-[160px]",title:w,children:w})})]}),b.jsx("button",{onClick:n,className:"lg:hidden p-1.5 hover:bg-dark-800 rounded-lg transition-colors",children:b.jsx(Vc,{className:"w-5 h-5 text-dark-400"})})]}),r&&!m&&b.jsxs("div",{className:"flex items-center gap-2 mt-2 pt-2 border-t border-dark-700/50",children:[b.jsx("div",{className:"w-6 h-6 rounded-full bg-dark-700 flex items-center justify-center flex-shrink-0",children:b.jsx("span",{className:"text-xs font-semibold text-primary-400",children:r.name.charAt(0).toUpperCase()})}),b.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[b.jsx("p",{className:"font-medium text-white text-xs truncate",children:r.name}),b.jsxs("div",{className:`inline-flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-[10px] border ${M()}`,children:[b.jsx(tT,{className:"w-2.5 h-2.5"}),ub[r.role]]})]})]}),r&&m&&b.jsx("div",{className:"hidden lg:flex justify-center mt-2 pt-2 border-t border-dark-700/50",children:b.jsx("div",{className:"w-8 h-8 rounded-full bg-dark-700 flex items-center justify-center",title:r.name,children:b.jsx("span",{className:"text-sm font-semibold text-primary-400",children:r.name.charAt(0).toUpperCase()})})})]}),b.jsx("nav",{className:`flex-1 p-3 ${m?"lg:p-2":"lg:p-4"} space-y-1 overflow-y-auto`,children:O.map(z=>{const G=y(z.nameKey);return b.jsxs(ag,{to:z.href,onClick:D,title:m?G:void 0,className:({isActive:W})=>`sidebar-link ${W?"active":""} ${m?"lg:justify-center lg:px-3":""}`,children:[b.jsx(z.icon,{className:"w-5 h-5 flex-shrink-0"}),b.jsx("span",{className:`flex-1 ${m?"lg:hidden":""}`,children:G}),z.href==="/orders"&&J&&!m&&b.jsx("span",{className:`flex items-center gap-1 px-1.5 py-0.5 rounded text-xs ${c?"bg-emerald-500/20 text-emerald-400":"bg-amber-500/20 text-amber-400"}`,title:c?"Connesso in tempo reale":"Non connesso",children:c?b.jsx(ST,{className:"w-3 h-3"}):b.jsx(bT,{className:"w-3 h-3"})}),z.href==="/orders"&&J&&m&&b.jsx("span",{className:`absolute top-1 right-1 w-2 h-2 rounded-full hidden lg:block ${c?"bg-emerald-400":"bg-amber-400"}`})]},z.nameKey)})}),b.jsxs("div",{className:`p-2 ${m?"lg:p-1.5":""} border-t border-dark-700 space-y-1`,children:[b.jsxs("button",{onClick:h,title:y(f==="dark"?"sidebar.lightTheme":"sidebar.darkTheme"),className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-dark-400 hover:text-white hover:bg-dark-800 transition-colors ${m?"lg:justify-center lg:px-2":""}`,children:[f==="dark"?b.jsx(lT,{className:"w-4 h-4 flex-shrink-0"}):b.jsx($E,{className:"w-4 h-4 flex-shrink-0"}),b.jsx("span",{className:`text-sm ${m?"lg:hidden":""}`,children:y(f==="dark"?"sidebar.lightTheme":"sidebar.darkTheme")})]}),b.jsxs("button",{onClick:g,title:y(m?"sidebar.expandMenu":"sidebar.collapseMenu"),className:`hidden lg:flex w-full items-center gap-3 px-3 py-2 rounded-lg text-dark-400 hover:text-white hover:bg-dark-800 transition-colors ${m?"justify-center px-2":""}`,children:[m?b.jsx(KE,{className:"w-4 h-4 flex-shrink-0"}):b.jsx(VE,{className:"w-4 h-4 flex-shrink-0"}),!m&&b.jsx("span",{className:"text-sm",children:y("sidebar.collapseMenu")})]}),b.jsxs("button",{onClick:L,title:m?y("sidebar.logout"):void 0,className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-dark-400 hover:text-white hover:bg-dark-800 transition-colors ${m?"lg:justify-center lg:px-2":""}`,children:[b.jsx(ME,{className:"w-4 h-4 flex-shrink-0"}),b.jsx("span",{className:`text-sm ${m?"lg:hidden":""}`,children:y("sidebar.logout")})]}),b.jsx("div",{className:`text-[9px] text-dark-500 text-center ${m?"lg:hidden":""}`,children:"v2.5   2025 Andrea Fabbri"})]})]})]})}function AT(){const[i,n]=T.useState(0),[r,l]=T.useState(new Date),[o,c]=T.useState(!1),[f,h]=T.useState(!1),{user:m}=xl(),{sidebarCollapsed:g}=Og(),{notifications:y,unreadCount:_,removeNotification:w,clearAllNotifications:E,markAsRead:O,markAllAsRead:M}=xg(),D=$r(),L=T.useRef(null);T.useEffect(()=>{function G(W){L.current&&!L.current.contains(W.target)&&h(!1)}return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]);function B(G){O(G.id),G.orderId&&D("/orders"),h(!1)}function z(G){const ae=new Date().getTime()-G.getTime(),Q=Math.floor(ae/6e4),ue=Math.floor(Q/60),Se=Math.floor(ue/24);return Q<1?"Ora":Q<60?`${Q}m fa`:ue<24?`${ue}h fa`:`${Se}g fa`}return T.useEffect(()=>{const G=setInterval(()=>{l(new Date)},6e4);return P1().then(W=>{n(W.length)}),()=>clearInterval(G)},[]),T.useEffect(()=>{function G(){window.innerWidth>=1024&&c(!1)}return window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]),b.jsxs("div",{className:"min-h-screen bg-dark-950",children:[b.jsx(xT,{isOpen:o,onClose:()=>c(!1)}),b.jsxs("div",{className:`${g?"lg:pl-20":"lg:pl-64"} transition-all duration-300`,children:[b.jsx("header",{className:"sticky top-0 z-30 bg-dark-900/95 backdrop-blur-md border-b border-dark-700",children:b.jsxs("div",{className:"flex items-center justify-between px-3 lg:px-4 py-2 lg:py-2",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("button",{onClick:()=>c(!0),className:"lg:hidden p-2 hover:bg-dark-800 rounded-lg transition-colors",children:b.jsx(qE,{className:"w-6 h-6 text-white"})}),b.jsxs("div",{className:"flex items-center gap-2 lg:hidden",children:[b.jsx("div",{className:"w-8 h-8 rounded-full bg-dark-700 flex items-center justify-center",children:b.jsx("span",{className:"text-sm font-semibold text-primary-400",children:m?.name.charAt(0).toUpperCase()})}),b.jsx("span",{className:"text-sm font-medium text-white",children:m?.name.split(" ")[0]})]}),b.jsxs("div",{className:"hidden lg:flex items-center gap-2 text-sm",children:[b.jsx("span",{className:"font-semibold text-white",children:r.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})}),b.jsx("span",{className:"text-dark-400",children:r.toLocaleDateString("it-IT",{weekday:"short",day:"numeric",month:"short"})})]})]}),b.jsxs("div",{className:"flex items-center gap-2 lg:gap-3",children:[b.jsx("div",{className:"lg:hidden text-sm",children:b.jsx("span",{className:"font-semibold text-white",children:r.toLocaleTimeString("it-IT",{hour:"2-digit",minute:"2-digit"})})}),b.jsxs("div",{className:"relative",ref:L,children:[b.jsxs("button",{onClick:()=>h(!f),className:"relative p-2 hover:bg-dark-800 rounded-lg transition-colors",children:[b.jsx(qp,{className:"w-5 h-5 lg:w-4 lg:h-4 text-dark-300"}),(_>0||i>0)&&b.jsx("span",{className:"absolute -top-0.5 -right-0.5 w-4 h-4 bg-red-500 rounded-full text-[10px] flex items-center justify-center text-white font-bold",children:_+i})]}),f&&b.jsxs("div",{className:"absolute right-0 mt-2 w-80 sm:w-96 bg-dark-800 border border-dark-700 rounded-xl shadow-xl z-50 overflow-hidden",children:[b.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-dark-700 bg-dark-900",children:[b.jsx("h3",{className:"font-semibold text-white",children:"Notifiche"}),b.jsx("div",{className:"flex items-center gap-2",children:y.length>0&&b.jsxs(b.Fragment,{children:[b.jsxs("button",{onClick:()=>M(),className:"text-xs text-primary-400 hover:text-primary-300 flex items-center gap-1",title:"Segna tutte come lette",children:[b.jsx(mE,{className:"w-3 h-3"}),"Lette"]}),b.jsxs("button",{onClick:()=>E(),className:"text-xs text-red-400 hover:text-red-300 flex items-center gap-1",title:"Cancella tutte",children:[b.jsx(uT,{className:"w-3 h-3"}),"Cancella"]})]})})]}),b.jsx("div",{className:"max-h-80 overflow-y-auto",children:y.length===0?b.jsxs("div",{className:"px-4 py-8 text-center",children:[b.jsx(qp,{className:"w-10 h-10 text-dark-600 mx-auto mb-2"}),b.jsx("p",{className:"text-dark-400 text-sm",children:"Nessuna notifica"})]}):y.map(G=>b.jsx("div",{className:`px-4 py-3 border-b border-dark-700 last:border-b-0 hover:bg-dark-700/50 transition-colors cursor-pointer ${G.read?"":"bg-dark-700/30"}`,onClick:()=>B(G),children:b.jsxs("div",{className:"flex items-start gap-3",children:[b.jsx("div",{className:`w-8 h-8 rounded-lg flex items-center justify-center flex-shrink-0 ${G.type==="order"?"bg-primary-500/20 text-primary-400":G.type==="warning"?"bg-amber-500/20 text-amber-400":G.type==="error"?"bg-red-500/20 text-red-400":"bg-blue-500/20 text-blue-400"}`,children:b.jsx($g,{className:"w-4 h-4"})}),b.jsxs("div",{className:"flex-1 min-w-0",children:[b.jsxs("div",{className:"flex items-center justify-between gap-2",children:[b.jsx("p",{className:`text-sm font-medium ${G.read?"text-dark-300":"text-white"}`,children:G.title}),b.jsx("button",{onClick:W=>{W.stopPropagation(),w(G.id)},className:"p-1 hover:bg-dark-600 rounded text-dark-400 hover:text-red-400 transition-colors",children:b.jsx(Vc,{className:"w-3 h-3"})})]}),b.jsx("p",{className:"text-xs text-dark-400 truncate",children:G.message}),b.jsx("p",{className:"text-xs text-dark-500 mt-1",children:z(G.timestamp)})]}),!G.read&&b.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full flex-shrink-0 mt-2"})]})},G.id))})]})]})]})]})}),b.jsx("main",{className:"p-3 lg:p-4",children:b.jsx(A_,{})})]})]})}let OT=0;const Oc=new Set;let sa=[];function Pg(){Oc.forEach(i=>i([...sa]))}const CT={success:1500,error:4e3,warning:3e3,info:2e3},RT=3;function gx(i,n="info"){const r=OT++;for(;sa.length>=RT;)sa=sa.slice(1);sa=[...sa,{id:r,message:i,type:n}],Pg(),setTimeout(()=>{Vg(r)},CT[n])}function Vg(i){sa=sa.filter(n=>n.id!==i),Pg()}const kT={success:vE,error:SE,warning:Ac,info:Ac},NT={success:"text-emerald-400 bg-emerald-500/10 border-emerald-500/30",error:"text-red-400 bg-red-500/10 border-red-500/30",warning:"text-amber-400 bg-amber-500/10 border-amber-500/30",info:"text-blue-400 bg-blue-500/10 border-blue-500/30"};function jT(){const[i,n]=T.useState([]);return T.useEffect(()=>(Oc.add(n),()=>{Oc.delete(n)}),[]),b.jsx("div",{className:"fixed bottom-4 right-4 z-50 space-y-2",children:i.map(r=>{const l=kT[r.type];return b.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl border ${NT[r.type]} animate-slide-in shadow-lg`,children:[b.jsx(l,{className:"w-5 h-5 flex-shrink-0"}),b.jsx("span",{className:"text-sm text-white",children:r.message}),b.jsx("button",{onClick:()=>Vg(r.id),className:"p-1 hover:bg-white/10 rounded transition-colors",children:b.jsx(Vc,{className:"w-4 h-4"})})]},r.id)})})}class DT extends T.Component{constructor(n){super(n),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("ErrorBoundary caught an error:",n,r),this.setState({errorInfo:r})}handleReload=()=>{window.location.reload()};handleGoHome=()=>{window.location.hash="#/",window.location.reload()};handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null})};render(){return this.state.hasError?this.props.fallback?this.props.fallback:b.jsx("div",{className:"min-h-screen bg-dark-950 flex items-center justify-center p-4",children:b.jsxs("div",{className:"max-w-md w-full bg-dark-900 rounded-2xl border border-dark-700 p-8 text-center",children:[b.jsx("div",{className:"w-16 h-16 rounded-full bg-red-500/20 flex items-center justify-center mx-auto mb-6",children:b.jsx(dT,{className:"w-8 h-8 text-red-400"})}),b.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"Qualcosa  andato storto"}),b.jsx("p",{className:"text-dark-400 mb-6",children:"Si  verificato un errore imprevisto. Puoi provare a ricaricare la pagina o tornare alla home."}),!1,b.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[b.jsxs("button",{onClick:this.handleReload,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-primary-500 text-dark-900 rounded-xl font-semibold hover:bg-primary-400 transition-colors",children:[b.jsx(Hg,{className:"w-5 h-5"}),"Ricarica Pagina"]}),b.jsxs("button",{onClick:this.handleGoHome,className:"flex-1 flex items-center justify-center gap-2 px-4 py-3 bg-dark-700 text-white rounded-xl font-semibold hover:bg-dark-600 transition-colors",children:[b.jsx(AE,{className:"w-5 h-5"}),"Torna alla Home"]})]}),b.jsx("button",{onClick:this.handleReset,className:"mt-4 text-dark-500 hover:text-dark-300 text-sm transition-colors",children:"Prova a continuare comunque"})]})}):this.props.children}}function MT(){const[i,n]=T.useState(""),[r,l]=T.useState(""),[o,c]=T.useState(""),[f,h]=T.useState(!1),{login:m}=xl(),{t:g}=Rg(),y=$r();async function _(w){if(w.preventDefault(),c(""),!i||!r){c(g("login.errorRequired"));return}h(!0);try{await m(i,r)?y("/"):c(g("login.errorCredentials"))}catch{c(g("common.error"))}finally{h(!1)}}return b.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:b.jsxs("div",{className:"w-full max-w-md",children:[b.jsxs("div",{className:"text-center mb-8",children:[b.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-primary-500 to-primary-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg shadow-primary-500/30",children:b.jsx("span",{className:"text-4xl",children:""})}),b.jsx("h1",{className:"text-3xl font-bold text-white",children:g("login.subtitle")}),b.jsx("p",{className:"text-dark-400 mt-2",children:g("login.title")})]}),b.jsx("div",{className:"bg-dark-800 rounded-2xl border border-dark-700 p-8 shadow-xl",children:b.jsxs("form",{onSubmit:_,className:"space-y-6",children:[o&&b.jsxs("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-4 flex items-center gap-3",children:[b.jsx(Ac,{className:"w-5 h-5 text-red-400 flex-shrink-0"}),b.jsx("p",{className:"text-red-400 text-sm",children:o})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-dark-300 mb-2",children:g("login.username")}),b.jsxs("div",{className:"relative",children:[b.jsx(pT,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),b.jsx("input",{type:"text",value:i,onChange:w=>n(w.target.value),placeholder:g("login.username"),className:"input pl-12 py-3",autoComplete:"username",autoFocus:!0})]})]}),b.jsxs("div",{children:[b.jsx("label",{className:"block text-sm font-medium text-dark-300 mb-2",children:g("login.password")}),b.jsxs("div",{className:"relative",children:[b.jsx(kE,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-dark-400"}),b.jsx("input",{type:"password",value:r,onChange:w=>l(w.target.value),placeholder:g("login.password"),className:"input pl-12 py-3",autoComplete:"current-password"})]})]}),b.jsx("button",{type:"submit",disabled:f,className:"w-full btn-primary py-3 text-lg font-semibold disabled:opacity-50 disabled:cursor-not-allowed",children:f?b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx("div",{className:"w-5 h-5 border-2 border-dark-900 border-t-transparent rounded-full animate-spin"}),g("login.loggingIn")]}):b.jsxs("div",{className:"flex items-center justify-center gap-2",children:[b.jsx(jE,{className:"w-5 h-5"}),g("login.loginButton")]})})]})}),b.jsxs("div",{className:"text-center text-dark-500 text-sm mt-6",children:[b.jsx("p",{children:"Restaurant Manager v2.5"}),b.jsx("p",{className:"mt-1",children:" 2024-2025 Andrea Fabbri - Tutti i diritti riservati"})]})]})})}function UT(){const{licenseStatus:i,adminSettings:n,recheckLicense:r,isChecking:l}=Ng(),o=n||{blocked_title:"Licenza Non Valida",blocked_message:"Contatta il supporto per assistenza.",blocked_contact_email:"support@example.com",blocked_contact_phone:"+39 333 1234567"},c=()=>{switch(i?.reason){case"expired":return`La tua licenza  scaduta${i.expiryDate?` il ${i.expiryDate}`:""}`;case"suspended":return"Il tuo account  stato temporaneamente sospeso";case"cancelled":return"Il contratto  stato terminato";case"not_found":return"Questa installazione non  registrata";default:return i?.message||"Si  verificato un problema con la licenza"}};return b.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center p-4",children:b.jsxs("div",{className:"max-w-md w-full bg-dark-800 rounded-xl shadow-2xl p-8 text-center",children:[b.jsx("div",{className:"w-20 h-20 bg-red-500/20 rounded-full flex items-center justify-center mx-auto mb-6",children:b.jsx(aT,{className:"w-10 h-10 text-red-500"})}),b.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:o.blocked_title}),b.jsx("p",{className:"text-red-400 mb-4",children:c()}),b.jsx("p",{className:"text-dark-300 mb-8",children:o.blocked_message}),b.jsxs("div",{className:"bg-dark-700 rounded-lg p-4 mb-6",children:[b.jsx("p",{className:"text-sm text-dark-400 mb-3",children:"Contatta il supporto:"}),b.jsxs("div",{className:"space-y-2",children:[o.blocked_contact_phone&&b.jsxs("a",{href:`tel:${o.blocked_contact_phone.replace(/\s/g,"")}`,className:"flex items-center justify-center gap-2 text-primary-400 hover:text-primary-300",children:[b.jsx(JE,{className:"w-4 h-4"}),b.jsx("span",{children:o.blocked_contact_phone})]}),o.blocked_contact_email&&b.jsxs("a",{href:`mailto:${o.blocked_contact_email}`,className:"flex items-center justify-center gap-2 text-primary-400 hover:text-primary-300",children:[b.jsx(zE,{className:"w-4 h-4"}),b.jsx("span",{children:o.blocked_contact_email})]})]})]}),b.jsxs("button",{onClick:r,disabled:l,className:"w-full flex items-center justify-center gap-2 px-4 py-3 bg-primary-500 text-white rounded-lg hover:bg-primary-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[b.jsx(Hg,{className:`w-4 h-4 ${l?"animate-spin":""}`}),l?"Verifica in corso...":"Ricontrolla Licenza"]}),b.jsx("p",{className:"text-xs text-dark-500 mt-6",children:"Restaurant Manager v2.5 - Powered by Andrea Fabbri"})]})})}const zT=T.lazy(()=>mt(()=>import("./Dashboard-BDZmLQTl.js"),__vite__mapDeps([0,1,2,3,4])).then(i=>({default:i.Dashboard}))),LT=T.lazy(()=>mt(()=>import("./NewOrder-DVnHIEzC.js"),__vite__mapDeps([5,3,6,7,8,9,10,11,1,12])).then(i=>({default:i.NewOrder}))),qT=T.lazy(()=>mt(()=>import("./Orders-0Rkz-eGZ.js"),__vite__mapDeps([13,1,11,3,14,8,12,15,16,17,18,19,20,7,9,21,22,23])).then(i=>({default:i.Orders}))),BT=T.lazy(()=>mt(()=>import("./Menu-Bht7cz2X.js").then(i=>i.M),__vite__mapDeps([24,11,8,17,16])).then(i=>({default:i.Menu}))),$T=T.lazy(()=>mt(()=>import("./Tables-D0WVhFnV.js"),__vite__mapDeps([25,11,26,8,27,16,3,19,18,6,12,15,4,20,9,21,22,23])).then(i=>({default:i.Tables}))),HT=T.lazy(()=>mt(()=>import("./Inventory--J5HiAwU.js"),__vite__mapDeps([28,11,8,29,16,30,19,3,4])).then(i=>({default:i.Inventory}))),IT=T.lazy(()=>mt(()=>import("./Recipes-B1j8Zisw.js"),__vite__mapDeps([31,17,8])).then(i=>({default:i.Recipes}))),PT=T.lazy(()=>mt(()=>import("./Staff-DDuS0jHK.js"),__vite__mapDeps([32,11,26,3,8,30,16])).then(i=>({default:i.Staff}))),VT=T.lazy(()=>mt(()=>import("./Reports-B_MrceEK.js"),__vite__mapDeps([33,11,8,26,23,34,2,29,30,16,3])).then(i=>({default:i.Reports}))),GT=T.lazy(()=>mt(()=>import("./Smac-CE22ww5w.js"),__vite__mapDeps([35,26,12,15])).then(i=>({default:i.Smac}))),KT=T.lazy(()=>mt(()=>import("./Settings-CX0rAMz0.js"),__vite__mapDeps([36,11,37,30,21])).then(i=>({default:i.Settings}))),YT=T.lazy(()=>mt(()=>import("./Users-BJvGtgS-.js"),__vite__mapDeps([38,11,8,17,27,16])).then(i=>({default:i.Users}))),JT=T.lazy(()=>mt(()=>import("./CashRegister-DuFhJ_hH.js"),__vite__mapDeps([39,11,14,26,9,10,23,2,29,22])).then(i=>({default:i.CashRegister}))),QT=T.lazy(()=>mt(()=>import("./DishCosts-yvxWqhe5.js"),__vite__mapDeps([40,11,34,2,29,17,19,30])).then(i=>({default:i.DishCosts}))),XT=T.lazy(()=>mt(()=>import("./GuideFAQ-D2d_8LYW.js"),__vite__mapDeps([41,20,37,17,12,15])).then(i=>({default:i.GuideFAQ})));function ht(){return b.jsx("div",{className:"flex items-center justify-center h-64",children:b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500"})})}function ZT({children:i}){const{isLicenseValid:n,isChecking:r}=Ng();return r?b.jsx("div",{className:"min-h-screen bg-dark-900 flex items-center justify-center",children:b.jsxs("div",{className:"text-center",children:[b.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-500 mx-auto mb-4"}),b.jsx("p",{className:"text-dark-400",children:"Verifica licenza..."})]})}):n?b.jsx(b.Fragment,{children:i}):b.jsx(UT,{})}function WT(){return b.jsx(DT,{children:b.jsx(YS,{children:b.jsx(L1,{children:b.jsx(B1,{children:b.jsx(ZT,{children:b.jsx(Z1,{children:b.jsx(VS,{children:b.jsx(KS,{children:b.jsxs(F_,{children:[b.jsxs(C_,{children:[b.jsx(We,{path:"/login",element:b.jsx(MT,{})}),b.jsxs(We,{path:"/",element:b.jsx(ct,{children:b.jsx(AT,{})}),children:[b.jsx(We,{index:!0,element:b.jsx(ct,{permission:"dashboard",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(zT,{})})})}),b.jsx(We,{path:"orders/new",element:b.jsx(ct,{permission:"orders.new",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(LT,{})})})}),b.jsx(We,{path:"orders",element:b.jsx(ct,{permission:"orders",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(qT,{})})})}),b.jsx(We,{path:"menu",element:b.jsx(ct,{permission:"menu",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(BT,{})})})}),b.jsx(We,{path:"tables",element:b.jsx(ct,{permission:"tables",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx($T,{})})})}),b.jsx(We,{path:"inventory",element:b.jsx(ct,{permission:"inventory",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(HT,{})})})}),b.jsx(We,{path:"recipes",element:b.jsx(ct,{permission:"recipes",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(IT,{})})})}),b.jsx(We,{path:"staff",element:b.jsx(ct,{permission:"staff",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(PT,{})})})}),b.jsx(We,{path:"reports",element:b.jsx(ct,{permission:"reports",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(VT,{})})})}),b.jsx(We,{path:"smac",element:b.jsx(ct,{permission:"smac",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(GT,{})})})}),b.jsx(We,{path:"settings",element:b.jsx(ct,{permission:"settings",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(KT,{})})})}),b.jsx(We,{path:"users",element:b.jsx(ct,{permission:"users",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(YT,{})})})}),b.jsx(We,{path:"cash-register",element:b.jsx(ct,{permission:"cash-register",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(JT,{})})})}),b.jsx(We,{path:"dish-costs",element:b.jsx(ct,{permission:"dish-costs",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(QT,{})})})}),b.jsx(We,{path:"guide",element:b.jsx(ct,{permission:"guide",children:b.jsx(T.Suspense,{fallback:b.jsx(ht,{}),children:b.jsx(XT,{})})})})]}),b.jsx(We,{path:"*",element:b.jsx(dc,{to:"/login",replace:!0})})]}),b.jsx(jT,{})]})})})})})})})})})}A0.createRoot(document.getElementById("root")).render(b.jsx(T.StrictMode,{children:b.jsx(WT,{})}));export{v2 as $,X1 as A,Ni as B,$g as C,Ic as D,J as E,N as F,bT as G,XE as H,oE as I,u2 as J,h2 as K,ng as L,d2 as M,c2 as N,p2 as O,IE as P,Lg as Q,Hg as R,rT as S,dT as T,yT as U,hx as V,ST as W,Vc as X,mx as Y,m2 as Z,g2 as _,o2 as a,tT as a$,y2 as a0,ux as a1,px as a2,fx as a3,mt as a4,s2 as a5,l2 as a6,r2 as a7,a2 as a8,i2 as a9,P2 as aA,V2 as aB,I2 as aC,xl as aD,x2 as aE,R2 as aF,pT as aG,cE as aH,C2 as aI,O2 as aJ,A2 as aK,k2 as aL,E0 as aM,p0 as aN,Cc as aO,e2 as aP,H2 as aQ,U2 as aR,ex as aS,ix as aT,fE as aU,L2 as aV,z2 as aW,q2 as aX,nx as aY,ax as aZ,V1 as a_,N2 as aa,ox as ab,JE as ac,w2 as ad,M2 as ae,b2 as af,_2 as ag,D2 as ah,j2 as ai,cx as aj,Mg as ak,G2 as al,Dg as am,Ug as an,J2 as ao,G1 as ap,FE as aq,zg as ar,Y2 as as,S2 as at,T2 as au,K2 as av,tx as aw,B2 as ax,E2 as ay,K1 as az,P1 as b,ub as b0,Q2 as b1,X2 as b2,kE as b3,SE as b4,W2 as b5,Z2 as b6,F2 as b7,bE as b8,sE as b9,CE as ba,Ig as bb,hT as bc,$E as bd,FT as be,vE as c,he as d,uT as e,TE as f,$2 as g,mE as h,W1 as i,b as j,$r as k,t2 as l,n2 as m,I1 as n,jg as o,Al as p,sx as q,T as r,gx as s,Ac as t,Rg as u,lx as v,Pc as w,rx as x,dx as y,f2 as z};
